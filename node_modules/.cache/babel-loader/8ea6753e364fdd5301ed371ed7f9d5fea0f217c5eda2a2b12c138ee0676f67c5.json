{"ast":null,"code":"import TemplateParams from '../../models/TemplateParams';\nimport { isNullOrEmpty } from '../../common';\nimport { Enabled } from '../../enums';\nexport default function ItemTemplateParamsTask(itemsSizesOptionTask, cursorItemOptionTask, readTemplatesTask) {\n  var _data = {\n    items: {} // TemplateParams\n  };\n  function process() {\n    var itemsSizesOptions = itemsSizesOptionTask.getOptions(),\n      cursorItem = cursorItemOptionTask.getCursorItem(),\n      items = itemsSizesOptions.items,\n      index,\n      len;\n    _data.items = {};\n    for (index = 0, len = items.length; index < len; index += 1) {\n      var itemConfig = items[index],\n        templateParams = new TemplateParams(),\n        isCursor = cursorItem == itemConfig.id,\n        template = readTemplatesTask.getTemplate(itemConfig.templateName, itemsSizesOptions.defaultTemplateName, readTemplatesTask.DefaultWidgetTemplateName),\n        templateConfig = template.templateConfig,\n        hasButtonsRender = itemsSizesOptions.onButtonsRender != null || templateConfig.onButtonsRender != null;\n      templateParams.template = template;\n      templateParams.isActive = itemConfig.isActive && templateConfig.isActive;\n      if (templateParams.isActive) {\n        templateParams.hasSelectorCheckbox = getSelectionVisibility(isCursor, itemConfig.hasSelectorCheckbox, itemsSizesOptions.hasSelectorCheckbox);\n        templateParams.hasButtons = templateConfig.hasButtons !== Enabled.Auto ? templateConfig.hasButtons == Enabled.True : hasButtonsRender && getSelectionVisibility(isCursor, itemConfig.hasButtons, itemsSizesOptions.hasButtons);\n        if (templateParams.hasButtons) {\n          templateParams.onButtonsRender = templateConfig.onButtonsRender || itemsSizesOptions.onButtonsRender;\n        }\n      }\n      templateParams.hasGroupTitle = !isNullOrEmpty(itemConfig.groupTitle);\n      _data.items[itemConfig.id] = templateParams;\n    }\n    return true;\n  }\n  function getSelectionVisibility(isCursor, itemState, widgetState) {\n    var result = false;\n    switch (itemState) {\n      case Enabled.Auto:\n        switch (widgetState) {\n          case Enabled.Auto:\n            result = isCursor;\n            break;\n          case Enabled.True:\n            result = true;\n            break;\n          case Enabled.False:\n            result = false;\n            break;\n        }\n        break;\n      case Enabled.True:\n        result = true;\n        break;\n      case Enabled.False:\n        result = false;\n        break;\n    }\n    return result;\n  }\n  function getTemplateParams(orgItemId) {\n    return _data.items[orgItemId];\n  }\n  return {\n    process: process,\n    getTemplateParams: getTemplateParams\n  };\n}\n;","map":{"version":3,"names":["TemplateParams","isNullOrEmpty","Enabled","ItemTemplateParamsTask","itemsSizesOptionTask","cursorItemOptionTask","readTemplatesTask","_data","items","process","itemsSizesOptions","getOptions","cursorItem","getCursorItem","index","len","length","itemConfig","templateParams","isCursor","id","template","getTemplate","templateName","defaultTemplateName","DefaultWidgetTemplateName","templateConfig","hasButtonsRender","onButtonsRender","isActive","hasSelectorCheckbox","getSelectionVisibility","hasButtons","Auto","True","hasGroupTitle","groupTitle","itemState","widgetState","result","False","getTemplateParams","orgItemId"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/templates/ItemTemplateParamsTask.js"],"sourcesContent":["import TemplateParams from '../../models/TemplateParams';\r\nimport { isNullOrEmpty } from '../../common';\r\nimport { Enabled } from '../../enums';\r\n\r\nexport default function ItemTemplateParamsTask(itemsSizesOptionTask, cursorItemOptionTask, readTemplatesTask) {\r\n  var _data = {\r\n    items: {} // TemplateParams\r\n  };\r\n\r\n  function process() {\r\n    var itemsSizesOptions = itemsSizesOptionTask.getOptions(),\r\n      cursorItem = cursorItemOptionTask.getCursorItem(),\r\n      items = itemsSizesOptions.items,\r\n      index, len;\r\n\r\n    _data.items = {};\r\n\r\n    for (index = 0, len = items.length; index < len; index += 1) {\r\n      var itemConfig = items[index],\r\n        templateParams = new TemplateParams(),\r\n        isCursor = (cursorItem == itemConfig.id),\r\n        template = readTemplatesTask.getTemplate(itemConfig.templateName, itemsSizesOptions.defaultTemplateName, readTemplatesTask.DefaultWidgetTemplateName),\r\n        templateConfig = template.templateConfig,\r\n        hasButtonsRender = itemsSizesOptions.onButtonsRender != null || templateConfig.onButtonsRender != null;\r\n\r\n      templateParams.template = template;\r\n\r\n      templateParams.isActive = itemConfig.isActive && templateConfig.isActive;\r\n      if (templateParams.isActive) {\r\n        templateParams.hasSelectorCheckbox = getSelectionVisibility(isCursor, itemConfig.hasSelectorCheckbox, itemsSizesOptions.hasSelectorCheckbox);\r\n        templateParams.hasButtons = (templateConfig.hasButtons !== Enabled.Auto) ? (templateConfig.hasButtons == Enabled.True) : (hasButtonsRender && getSelectionVisibility(isCursor, itemConfig.hasButtons, itemsSizesOptions.hasButtons));\r\n        if (templateParams.hasButtons) {\r\n          templateParams.onButtonsRender = templateConfig.onButtonsRender || itemsSizesOptions.onButtonsRender;\r\n        }\r\n      }\r\n      templateParams.hasGroupTitle = !isNullOrEmpty(itemConfig.groupTitle);\r\n      _data.items[itemConfig.id] = templateParams;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function getSelectionVisibility(isCursor, itemState, widgetState) {\r\n    var result = false;\r\n    switch (itemState) {\r\n      case Enabled.Auto:\r\n        switch (widgetState) {\r\n          case Enabled.Auto:\r\n            result = isCursor;\r\n            break;\r\n          case Enabled.True:\r\n            result = true;\r\n            break;\r\n          case Enabled.False:\r\n            result = false;\r\n            break;\r\n        }\r\n        break;\r\n      case Enabled.True:\r\n        result = true;\r\n        break;\r\n      case Enabled.False:\r\n        result = false;\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function getTemplateParams(orgItemId) {\r\n    return _data.items[orgItemId];\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getTemplateParams: getTemplateParams\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}