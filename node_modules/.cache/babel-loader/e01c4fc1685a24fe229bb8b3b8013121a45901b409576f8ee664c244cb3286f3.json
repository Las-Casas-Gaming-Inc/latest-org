{"ast":null,"code":"import { Layers } from '../../enums';\nimport Rect from '../../graphics/structs/Rect';\nimport Thickness from '../../graphics/structs/Thickness';\nimport Interval from '../../graphics/structs/Interval';\nimport RenderEventArgs from '../../events/RenderEventArgs';\nexport default function DrawLevelAnnotationTitlesTask(getGraphics, verticalOffsetTask, createTransformTask, applyLayoutChangesTask, levelAnnotationOptionTask, mergeLevelIntervalsTask, levelAnnotationTemplateTask, levelTitlePlacementOptionTask) {\n  var _graphics, _positions, _transform, _template;\n  function process() {\n    var annotations = levelAnnotationOptionTask.getAnnotations();\n    _graphics = getGraphics();\n    _graphics.reset(\"titlesplaceholder\", Layers.LevelAnnotation);\n    if (annotations.length > 0) {\n      _positions = mergeLevelIntervalsTask.getPositions();\n      _transform = createTransformTask.getTransform();\n      _template = levelAnnotationTemplateTask.getTitleTemplate();\n      drawAnnotations(annotations, _positions);\n    }\n    return false;\n  }\n  function drawAnnotations(annotations, positions) {\n    var verticalOffset = new Interval(verticalOffsetTask.getVerticalOffset()),\n      {\n        levelTitlePanelSize\n      } = levelTitlePlacementOptionTask.getOptions();\n    _graphics.activate(\"titlesplaceholder\", Layers.LevelAnnotation);\n    var transformedVerticalOffset;\n    _transform.transformRect(0, verticalOffset.from, 0, verticalOffset.width(), true, this, function (x, y, width, height) {\n      transformedVerticalOffset = new Rect(x, y, width, height);\n    });\n    for (var index = 0, len = annotations.length; index < len; index += 1) {\n      var annotationConfig = annotations[index];\n      var intervals = positions[index];\n      if (intervals != null) {\n        for (var index3 = 0, len3 = intervals.length; index3 < len3; index3 += 1) {\n          var interval = intervals[index3];\n          var position = new Rect(0, interval.from, levelTitlePanelSize, interval.width());\n          var verticalInterval = position.verticalInterval();\n          if (verticalInterval.overlaps(verticalOffset)) {\n            var offset = new Thickness(0, annotationConfig.offset.top, 0, annotationConfig.offset.bottom);\n            position.offset(offset);\n            var uiHash = new RenderEventArgs();\n            uiHash.context = annotationConfig;\n            _transform.transformRect(position.x, position.y, position.width, position.height, true, this, function (x, y, width, height) {\n              _graphics.template(x - transformedVerticalOffset.x, y - transformedVerticalOffset.y, width, height, 0, 0, width, height, _template.template(), _template.getHashCode(), _template.render, uiHash, null);\n            });\n          }\n        }\n      }\n    }\n  }\n  return {\n    process: process\n  };\n}\n;","map":{"version":3,"names":["Layers","Rect","Thickness","Interval","RenderEventArgs","DrawLevelAnnotationTitlesTask","getGraphics","verticalOffsetTask","createTransformTask","applyLayoutChangesTask","levelAnnotationOptionTask","mergeLevelIntervalsTask","levelAnnotationTemplateTask","levelTitlePlacementOptionTask","_graphics","_positions","_transform","_template","process","annotations","getAnnotations","reset","LevelAnnotation","length","getPositions","getTransform","getTitleTemplate","drawAnnotations","positions","verticalOffset","getVerticalOffset","levelTitlePanelSize","getOptions","activate","transformedVerticalOffset","transformRect","from","width","x","y","height","index","len","annotationConfig","intervals","index3","len3","interval","position","verticalInterval","overlaps","offset","top","bottom","uiHash","context","template","getHashCode","render"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/renders/DrawLevelAnnotationTitlesTask.js"],"sourcesContent":["import { Layers } from '../../enums';\r\nimport Rect from '../../graphics/structs/Rect';\r\nimport Thickness from '../../graphics/structs/Thickness';\r\nimport Interval from '../../graphics/structs/Interval';\r\nimport RenderEventArgs from '../../events/RenderEventArgs';\r\n\r\nexport default function DrawLevelAnnotationTitlesTask(getGraphics, verticalOffsetTask, createTransformTask, applyLayoutChangesTask, \r\n  levelAnnotationOptionTask, mergeLevelIntervalsTask, levelAnnotationTemplateTask, levelTitlePlacementOptionTask) {\r\n  var _graphics,\r\n    _positions,\r\n    _transform,\r\n    _template;\r\n\r\n  function process() {\r\n    var annotations = levelAnnotationOptionTask.getAnnotations();\r\n\r\n    _graphics = getGraphics();\r\n    _graphics.reset(\"titlesplaceholder\", Layers.LevelAnnotation);\r\n\r\n    if (annotations.length > 0) {\r\n      _positions = mergeLevelIntervalsTask.getPositions();\r\n      _transform = createTransformTask.getTransform();\r\n      _template = levelAnnotationTemplateTask.getTitleTemplate();\r\n\r\n      drawAnnotations(annotations, _positions);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function drawAnnotations(annotations, positions) {\r\n    var verticalOffset = new Interval(verticalOffsetTask.getVerticalOffset()),\r\n    { levelTitlePanelSize } = levelTitlePlacementOptionTask.getOptions();\r\n\r\n    _graphics.activate(\"titlesplaceholder\", Layers.LevelAnnotation);\r\n\r\n    var transformedVerticalOffset;\r\n    _transform.transformRect(0, verticalOffset.from, 0, verticalOffset.width(), true,\r\n      this, function (x, y, width, height) {\r\n        transformedVerticalOffset = new Rect(x, y, width, height);\r\n      });\r\n\r\n    for (var index = 0, len = annotations.length; index < len; index += 1) {\r\n      var annotationConfig = annotations[index];\r\n      var intervals = positions[index];\r\n      if (intervals != null) {\r\n        for (var index3 = 0, len3 = intervals.length; index3 < len3; index3 += 1) {\r\n          var interval = intervals[index3];\r\n\r\n          var position = new Rect(0, interval.from, levelTitlePanelSize, interval.width());\r\n          var verticalInterval = position.verticalInterval();\r\n\r\n          if(verticalInterval.overlaps(verticalOffset)) {\r\n            var offset = new Thickness(0, annotationConfig.offset.top, 0, annotationConfig.offset.bottom);\r\n            position.offset(offset);\r\n\r\n            var uiHash = new RenderEventArgs();\r\n            uiHash.context = annotationConfig;\r\n      \r\n            _transform.transformRect(position.x, position.y, position.width, position.height, true,\r\n              this, function (x, y, width, height) {\r\n                _graphics.template(\r\n                  x - transformedVerticalOffset.x\r\n                  , y - transformedVerticalOffset.y\r\n                  , width\r\n                  , height\r\n                  , 0\r\n                  , 0\r\n                  , width\r\n                  , height\r\n                  , _template.template()\r\n                  , _template.getHashCode()\r\n                  , _template.render\r\n                  , uiHash\r\n                  , null\r\n                );\r\n              });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}