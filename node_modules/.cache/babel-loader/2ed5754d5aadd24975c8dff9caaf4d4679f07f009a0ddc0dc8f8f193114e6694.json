{"ast":null,"code":"/**\r\n * Creates range minimum query structure\r\n * @class RMQ\r\n * \r\n * @param {number[]} items Collection of numbers\r\n * @returns {RMQ} Returns range minimum query structure\r\n */\nexport default function RMQ(items) {\n  var _lookup = [];\n  var _log2 = Math.log(2);\n  preprocess();\n  function preprocess() {\n    var power;\n    for (var index = 0, len = items.length; index < len; index += 1) {\n      _lookup[index] = [index];\n    }\n    for (power = 1, len = items.length; 1 << power < len; power += 1) {\n      for (index = 0; index + (1 << power) - 1 < len; index += 1) {\n        if (items[_lookup[index][power - 1]] < items[_lookup[index + (1 << power - 1)][power - 1]]) {\n          _lookup[index][power] = _lookup[index][power - 1];\n        } else {\n          _lookup[index][power] = _lookup[index + (1 << power - 1)][power - 1];\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Returns index of minimum item for the given range of items\r\n   * \r\n   * @param {number} from The left margin index\r\n   * @param {number} to The right margin index\r\n   * @returns {number} Returns index of the minimum item\r\n   */\n  function getRangeMinimumIndex(from, to) {\n    var power = Math.floor(Math.log(to - from + 1) / _log2);\n    if (items[_lookup[from][power]] <= items[_lookup[to - (1 << power) + 1][power]]) {\n      return _lookup[from][power];\n    } else {\n      return _lookup[to - (1 << power) + 1][power];\n    }\n  }\n\n  /**\r\n   * Return minimum value for the given range\r\n   * \r\n   * @param {number} from The left index of the range\r\n   * @param {number} to The right index of the range\r\n   * @returns {number} Returns minimum value in the range\r\n   */\n  function getRangeMinimum(from, to) {\n    return items[getRangeMinimumIndex(from, to)];\n  }\n  return {\n    getRangeMinimumIndex: getRangeMinimumIndex,\n    getRangeMinimum: getRangeMinimum\n  };\n}\n;","map":{"version":3,"names":["RMQ","items","_lookup","_log2","Math","log","preprocess","power","index","len","length","getRangeMinimumIndex","from","to","floor","getRangeMinimum"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/algorithms/RMQ.js"],"sourcesContent":["/**\r\n * Creates range minimum query structure\r\n * @class RMQ\r\n * \r\n * @param {number[]} items Collection of numbers\r\n * @returns {RMQ} Returns range minimum query structure\r\n */\r\nexport default function RMQ(items) {\r\n  var _lookup = [];\r\n  var _log2 = Math.log(2);\r\n\r\n  preprocess();\r\n\r\n  function preprocess() {\r\n    var power;\r\n\r\n    for (var index = 0, len = items.length; index < len; index += 1) {\r\n      _lookup[index] = [index];\r\n    }\r\n    for (power = 1, len = items.length; (1 << power) < len; power += 1) {\r\n      for (index = 0; (index + (1 << power) - 1) < len; index += 1) {\r\n        if (items[_lookup[index][power - 1]] < items[_lookup[index + (1 << (power - 1))][power - 1]]) {\r\n          _lookup[index][power] = _lookup[index][power - 1];\r\n        } else {\r\n          _lookup[index][power] = _lookup[index + (1 << (power - 1))][power - 1];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns index of minimum item for the given range of items\r\n   * \r\n   * @param {number} from The left margin index\r\n   * @param {number} to The right margin index\r\n   * @returns {number} Returns index of the minimum item\r\n   */\r\n  function getRangeMinimumIndex(from, to) {\r\n    var power = Math.floor(Math.log(to - from + 1) / _log2);\r\n\r\n    if (items[_lookup[from][power]] <= items[_lookup[to - (1 << power) + 1][power]]) {\r\n      return _lookup[from][power];\r\n    } else {\r\n      return _lookup[to - (1 << power) + 1][power];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return minimum value for the given range\r\n   * \r\n   * @param {number} from The left index of the range\r\n   * @param {number} to The right index of the range\r\n   * @returns {number} Returns minimum value in the range\r\n   */\r\n  function getRangeMinimum(from, to) {\r\n    return items[getRangeMinimumIndex(from, to)];\r\n  }\r\n\r\n  return {\r\n    getRangeMinimumIndex: getRangeMinimumIndex,\r\n    getRangeMinimum: getRangeMinimum\r\n  };\r\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,GAAGA,CAACC,KAAK,EAAE;EACjC,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAEvBC,UAAU,CAAC,CAAC;EAEZ,SAASA,UAAUA,CAAA,EAAG;IACpB,IAAIC,KAAK;IAET,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGR,KAAK,CAACS,MAAM,EAAEF,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;MAC/DN,OAAO,CAACM,KAAK,CAAC,GAAG,CAACA,KAAK,CAAC;IAC1B;IACA,KAAKD,KAAK,GAAG,CAAC,EAAEE,GAAG,GAAGR,KAAK,CAACS,MAAM,EAAG,CAAC,IAAIH,KAAK,GAAIE,GAAG,EAAEF,KAAK,IAAI,CAAC,EAAE;MAClE,KAAKC,KAAK,GAAG,CAAC,EAAGA,KAAK,IAAI,CAAC,IAAID,KAAK,CAAC,GAAG,CAAC,GAAIE,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;QAC5D,IAAIP,KAAK,CAACC,OAAO,CAACM,KAAK,CAAC,CAACD,KAAK,GAAG,CAAC,CAAC,CAAC,GAAGN,KAAK,CAACC,OAAO,CAACM,KAAK,IAAI,CAAC,IAAKD,KAAK,GAAG,CAAE,CAAC,CAAC,CAACA,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE;UAC5FL,OAAO,CAACM,KAAK,CAAC,CAACD,KAAK,CAAC,GAAGL,OAAO,CAACM,KAAK,CAAC,CAACD,KAAK,GAAG,CAAC,CAAC;QACnD,CAAC,MAAM;UACLL,OAAO,CAACM,KAAK,CAAC,CAACD,KAAK,CAAC,GAAGL,OAAO,CAACM,KAAK,IAAI,CAAC,IAAKD,KAAK,GAAG,CAAE,CAAC,CAAC,CAACA,KAAK,GAAG,CAAC,CAAC;QACxE;MACF;IACF;EACF;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,SAASI,oBAAoBA,CAACC,IAAI,EAAEC,EAAE,EAAE;IACtC,IAAIN,KAAK,GAAGH,IAAI,CAACU,KAAK,CAACV,IAAI,CAACC,GAAG,CAACQ,EAAE,GAAGD,IAAI,GAAG,CAAC,CAAC,GAAGT,KAAK,CAAC;IAEvD,IAAIF,KAAK,CAACC,OAAO,CAACU,IAAI,CAAC,CAACL,KAAK,CAAC,CAAC,IAAIN,KAAK,CAACC,OAAO,CAACW,EAAE,IAAI,CAAC,IAAIN,KAAK,CAAC,GAAG,CAAC,CAAC,CAACA,KAAK,CAAC,CAAC,EAAE;MAC/E,OAAOL,OAAO,CAACU,IAAI,CAAC,CAACL,KAAK,CAAC;IAC7B,CAAC,MAAM;MACL,OAAOL,OAAO,CAACW,EAAE,IAAI,CAAC,IAAIN,KAAK,CAAC,GAAG,CAAC,CAAC,CAACA,KAAK,CAAC;IAC9C;EACF;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,SAASQ,eAAeA,CAACH,IAAI,EAAEC,EAAE,EAAE;IACjC,OAAOZ,KAAK,CAACU,oBAAoB,CAACC,IAAI,EAAEC,EAAE,CAAC,CAAC;EAC9C;EAEA,OAAO;IACLF,oBAAoB,EAAEA,oBAAoB;IAC1CI,eAAe,EAAEA;EACnB,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}