{"ast":null,"code":"import OrgEventArgs from './events/OrgEventArgs';\nimport Rect from './graphics/structs/Rect';\nimport { getElementOffset } from './graphics/dom';\nexport default function EventArgsFactory(data, oldTreeItemId, newTreeItemId, name) {\n  var result = new OrgEventArgs(),\n    combinedContextsTask = data.tasks.getTask(\"CombinedContextsTask\"),\n    alignDiagramTask = data.tasks.getTask(\"AlignDiagramTask\"),\n    oldItemConfig = combinedContextsTask.getConfig(oldTreeItemId),\n    newItemConfig = combinedContextsTask.getConfig(newTreeItemId),\n    itemPosition,\n    actualPosition,\n    offset,\n    panelOffset;\n  if (oldItemConfig && oldItemConfig.id != null) {\n    result.oldContext = oldItemConfig;\n  }\n  if (newItemConfig && newItemConfig.id != null) {\n    result.context = newItemConfig;\n    if (newItemConfig.parent !== null) {\n      result.parentItem = combinedContextsTask.getConfig(newItemConfig.parent);\n    }\n    panelOffset = getElementOffset(data.layout.mousePanel);\n    offset = getElementOffset(data.layout.element);\n    itemPosition = alignDiagramTask.getItemPosition(newTreeItemId), result.position = new Rect(itemPosition.actualPosition).translate(panelOffset.left, panelOffset.top).translate(-offset.left, -offset.top);\n  }\n  if (name != null) {\n    result.name = name;\n  }\n  return result;\n}\n;","map":{"version":3,"names":["OrgEventArgs","Rect","getElementOffset","EventArgsFactory","data","oldTreeItemId","newTreeItemId","name","result","combinedContextsTask","tasks","getTask","alignDiagramTask","oldItemConfig","getConfig","newItemConfig","itemPosition","actualPosition","offset","panelOffset","id","oldContext","context","parent","parentItem","layout","mousePanel","element","getItemPosition","position","translate","left","top"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/OrgEventArgsFactory.js"],"sourcesContent":["import OrgEventArgs from './events/OrgEventArgs';\r\nimport Rect from './graphics/structs/Rect';\r\nimport { getElementOffset } from './graphics/dom';\r\n\r\nexport default function EventArgsFactory(data, oldTreeItemId, newTreeItemId, name) {\r\n  var result = new OrgEventArgs(),\r\n    combinedContextsTask = data.tasks.getTask(\"CombinedContextsTask\"),\r\n    alignDiagramTask = data.tasks.getTask(\"AlignDiagramTask\"),\r\n    oldItemConfig = combinedContextsTask.getConfig(oldTreeItemId),\r\n    newItemConfig = combinedContextsTask.getConfig(newTreeItemId),\r\n    itemPosition,\r\n    actualPosition,\r\n    offset,\r\n    panelOffset;\r\n\r\n  if (oldItemConfig && oldItemConfig.id != null) {\r\n    result.oldContext = oldItemConfig;\r\n  }\r\n\r\n  if (newItemConfig && newItemConfig.id != null) {\r\n    result.context = newItemConfig;\r\n\r\n    if (newItemConfig.parent !== null) {\r\n      result.parentItem = combinedContextsTask.getConfig(newItemConfig.parent);\r\n    }\r\n\r\n    panelOffset = getElementOffset(data.layout.mousePanel);\r\n    offset = getElementOffset(data.layout.element);\r\n    itemPosition = alignDiagramTask.getItemPosition(newTreeItemId),\r\n      result.position = new Rect(itemPosition.actualPosition)\r\n        .translate(panelOffset.left, panelOffset.top)\r\n        .translate(-offset.left, -offset.top);\r\n  }\r\n\r\n  if (name != null) {\r\n    result.name = name;\r\n  }\r\n\r\n  return result;\r\n};\r\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,uBAAuB;AAChD,OAAOC,IAAI,MAAM,yBAAyB;AAC1C,SAASC,gBAAgB,QAAQ,gBAAgB;AAEjD,eAAe,SAASC,gBAAgBA,CAACC,IAAI,EAAEC,aAAa,EAAEC,aAAa,EAAEC,IAAI,EAAE;EACjF,IAAIC,MAAM,GAAG,IAAIR,YAAY,CAAC,CAAC;IAC7BS,oBAAoB,GAAGL,IAAI,CAACM,KAAK,CAACC,OAAO,CAAC,sBAAsB,CAAC;IACjEC,gBAAgB,GAAGR,IAAI,CAACM,KAAK,CAACC,OAAO,CAAC,kBAAkB,CAAC;IACzDE,aAAa,GAAGJ,oBAAoB,CAACK,SAAS,CAACT,aAAa,CAAC;IAC7DU,aAAa,GAAGN,oBAAoB,CAACK,SAAS,CAACR,aAAa,CAAC;IAC7DU,YAAY;IACZC,cAAc;IACdC,MAAM;IACNC,WAAW;EAEb,IAAIN,aAAa,IAAIA,aAAa,CAACO,EAAE,IAAI,IAAI,EAAE;IAC7CZ,MAAM,CAACa,UAAU,GAAGR,aAAa;EACnC;EAEA,IAAIE,aAAa,IAAIA,aAAa,CAACK,EAAE,IAAI,IAAI,EAAE;IAC7CZ,MAAM,CAACc,OAAO,GAAGP,aAAa;IAE9B,IAAIA,aAAa,CAACQ,MAAM,KAAK,IAAI,EAAE;MACjCf,MAAM,CAACgB,UAAU,GAAGf,oBAAoB,CAACK,SAAS,CAACC,aAAa,CAACQ,MAAM,CAAC;IAC1E;IAEAJ,WAAW,GAAGjB,gBAAgB,CAACE,IAAI,CAACqB,MAAM,CAACC,UAAU,CAAC;IACtDR,MAAM,GAAGhB,gBAAgB,CAACE,IAAI,CAACqB,MAAM,CAACE,OAAO,CAAC;IAC9CX,YAAY,GAAGJ,gBAAgB,CAACgB,eAAe,CAACtB,aAAa,CAAC,EAC5DE,MAAM,CAACqB,QAAQ,GAAG,IAAI5B,IAAI,CAACe,YAAY,CAACC,cAAc,CAAC,CACpDa,SAAS,CAACX,WAAW,CAACY,IAAI,EAAEZ,WAAW,CAACa,GAAG,CAAC,CAC5CF,SAAS,CAAC,CAACZ,MAAM,CAACa,IAAI,EAAE,CAACb,MAAM,CAACc,GAAG,CAAC;EAC3C;EAEA,IAAIzB,IAAI,IAAI,IAAI,EAAE;IAChBC,MAAM,CAACD,IAAI,GAAGA,IAAI;EACpB;EAEA,OAAOC,MAAM;AACf;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}