{"ast":null,"code":"import RMQ from './RMQ';\n\n/**\r\n * Creates Lowest Common Ancestor Structure for the given tree\r\n * @class LCA\r\n * \r\n * @param {Tree} tree The tree structure\r\n * @returns {LCA} Returns Lowest Common Ancestor Structure\r\n */\nexport default function LCA(tree) {\n  var _eulerSequence = [];\n  var _levels = [];\n  var _fai = {};\n  var _rmq;\n  preprocess();\n  function preprocess() {\n    var counter = 0;\n    tree.loopEulerWalk(this, function (nodeid, node, level) {\n      _eulerSequence.push(nodeid);\n      _levels.push(level);\n      if (!_fai.hasOwnProperty(nodeid)) {\n        _fai[nodeid] = counter;\n      }\n      counter += 1;\n    });\n    _rmq = RMQ(_levels);\n  }\n\n  /**\r\n   * Returns lowest common ancestor for the given pair of tree nodes\r\n   * @param {string} from The first tree node id\r\n   * @param {string} to The second tree node id\r\n   * @returns {string} Returns the lowest common ancestor tree node id\r\n   */\n  function getLowestCommonAncestor(from, to) {\n    var fromIndex = _fai[from],\n      toIndex = _fai[to],\n      index;\n    if (fromIndex < toIndex) {\n      index = _rmq.getRangeMinimumIndex(fromIndex, toIndex);\n    } else {\n      index = _rmq.getRangeMinimumIndex(toIndex, fromIndex);\n    }\n    return _eulerSequence[index];\n  }\n  return {\n    getLowestCommonAncestor: getLowestCommonAncestor\n  };\n}\n;","map":{"version":3,"names":["RMQ","LCA","tree","_eulerSequence","_levels","_fai","_rmq","preprocess","counter","loopEulerWalk","nodeid","node","level","push","hasOwnProperty","getLowestCommonAncestor","from","to","fromIndex","toIndex","index","getRangeMinimumIndex"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/algorithms/LCA.js"],"sourcesContent":["import RMQ from './RMQ';\r\n\r\n/**\r\n * Creates Lowest Common Ancestor Structure for the given tree\r\n * @class LCA\r\n * \r\n * @param {Tree} tree The tree structure\r\n * @returns {LCA} Returns Lowest Common Ancestor Structure\r\n */\r\nexport default function LCA(tree) {\r\n  var _eulerSequence = [];\r\n  var _levels = [];\r\n  var _fai = {};\r\n  var _rmq;\r\n\r\n\r\n  preprocess();\r\n\r\n  function preprocess() {\r\n    var counter = 0;\r\n    tree.loopEulerWalk(this, function (nodeid, node, level) {\r\n      _eulerSequence.push(nodeid);\r\n      _levels.push(level);\r\n\r\n      if (!_fai.hasOwnProperty(nodeid)) {\r\n        _fai[nodeid] = counter;\r\n      }\r\n      counter += 1;\r\n    });\r\n    _rmq = RMQ(_levels);\r\n  }\r\n\r\n  /**\r\n   * Returns lowest common ancestor for the given pair of tree nodes\r\n   * @param {string} from The first tree node id\r\n   * @param {string} to The second tree node id\r\n   * @returns {string} Returns the lowest common ancestor tree node id\r\n   */\r\n  function getLowestCommonAncestor(from, to) {\r\n    var fromIndex = _fai[from],\r\n      toIndex = _fai[to],\r\n      index;\r\n\r\n    if (fromIndex < toIndex) {\r\n      index = _rmq.getRangeMinimumIndex(fromIndex, toIndex);\r\n    } else {\r\n      index = _rmq.getRangeMinimumIndex(toIndex, fromIndex);\r\n    }\r\n\r\n    return _eulerSequence[index];\r\n  }\r\n\r\n  return {\r\n    getLowestCommonAncestor: getLowestCommonAncestor\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,GAAGA,CAACC,IAAI,EAAE;EAChC,IAAIC,cAAc,GAAG,EAAE;EACvB,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,IAAI,GAAG,CAAC,CAAC;EACb,IAAIC,IAAI;EAGRC,UAAU,CAAC,CAAC;EAEZ,SAASA,UAAUA,CAAA,EAAG;IACpB,IAAIC,OAAO,GAAG,CAAC;IACfN,IAAI,CAACO,aAAa,CAAC,IAAI,EAAE,UAAUC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAE;MACtDT,cAAc,CAACU,IAAI,CAACH,MAAM,CAAC;MAC3BN,OAAO,CAACS,IAAI,CAACD,KAAK,CAAC;MAEnB,IAAI,CAACP,IAAI,CAACS,cAAc,CAACJ,MAAM,CAAC,EAAE;QAChCL,IAAI,CAACK,MAAM,CAAC,GAAGF,OAAO;MACxB;MACAA,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;IACFF,IAAI,GAAGN,GAAG,CAACI,OAAO,CAAC;EACrB;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,SAASW,uBAAuBA,CAACC,IAAI,EAAEC,EAAE,EAAE;IACzC,IAAIC,SAAS,GAAGb,IAAI,CAACW,IAAI,CAAC;MACxBG,OAAO,GAAGd,IAAI,CAACY,EAAE,CAAC;MAClBG,KAAK;IAEP,IAAIF,SAAS,GAAGC,OAAO,EAAE;MACvBC,KAAK,GAAGd,IAAI,CAACe,oBAAoB,CAACH,SAAS,EAAEC,OAAO,CAAC;IACvD,CAAC,MAAM;MACLC,KAAK,GAAGd,IAAI,CAACe,oBAAoB,CAACF,OAAO,EAAED,SAAS,CAAC;IACvD;IAEA,OAAOf,cAAc,CAACiB,KAAK,CAAC;EAC9B;EAEA,OAAO;IACLL,uBAAuB,EAAEA;EAC3B,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}