{"ast":null,"code":"import ObjectReader from '../../readers/ObjectReader';\nimport ValueReader from '../../readers/ValueReader';\nimport Thickness from '../../graphics/structs/Thickness';\nimport Size from '../../graphics/structs/Size';\nexport default function FrameSizeTask(frameOptionTask, readTemplatesTask, scaleOptionTask) {\n  var _data = {},\n    _hash = {};\n  var _dataTemplate = new ObjectReader({\n    median: new ObjectReader({\n      left: new ValueReader([\"number\"], false, 0),\n      top: new ValueReader([\"number\"], false, 0),\n      right: new ValueReader([\"number\"], false, 0),\n      bottom: new ValueReader([\"number\"], false, 0)\n    }, false, new Thickness(0, 0, 0, 0)),\n    thickness: new ObjectReader({\n      left: new ValueReader([\"number\"], false, 0),\n      top: new ValueReader([\"number\"], false, 0),\n      right: new ValueReader([\"number\"], false, 0),\n      bottom: new ValueReader([\"number\"], false, 0)\n    }, false, new Thickness(0, 0, 0, 0))\n  });\n  function process() {\n    var context = {\n      isChanged: false,\n      hash: _hash\n    };\n    _data = _dataTemplate.read(_data, getFrameSize(), \"options\", context);\n    return context.isChanged;\n  }\n  function getFrameSize() {\n    var frameOptions = frameOptionTask.getOptions(),\n      showFrame = frameOptions.showFrame,\n      frameInnerPadding = frameOptions.frameInnerPadding,\n      frameOuterPadding = frameOptions.frameOuterPadding,\n      scale = scaleOptionTask.getOptions().scale,\n      median = new Thickness(0, 0, 0, 0),\n      thickness = new Thickness(0, 0, 0, 0);\n    if (showFrame) {\n      var maximumMarkerSize = new Size(0, 0),\n        maximumMarkerPadding = new Thickness(0, 0, 0, 0),\n        index,\n        len,\n        templates = readTemplatesTask.getItemTemplates();\n      for (index = 0, len = templates.length; index < len; index += 1) {\n        var template = templates[index];\n        var templateConfig = template.templateConfig,\n          cursorPadding = new Thickness(templateConfig.cursorPadding),\n          highlightPadding = new Thickness(templateConfig.highlightPadding);\n        cursorPadding.addThickness(templateConfig.cursorBorderWidth);\n        highlightPadding.addThickness(templateConfig.highlightBorderWidth);\n        maximumMarkerSize.maxSize(templateConfig.minimizedItemSize);\n        maximumMarkerPadding.maxThickness(templateConfig.cursorPadding);\n        maximumMarkerPadding.maxThickness(templateConfig.highlightPadding);\n      }\n      median = new Thickness(Math.ceil(maximumMarkerSize.width / 2.0) + maximumMarkerPadding.right, Math.ceil(maximumMarkerSize.height / 2.0) + maximumMarkerPadding.bottom, Math.ceil(maximumMarkerSize.width / 2.0) + maximumMarkerPadding.left, Math.ceil(maximumMarkerSize.height / 2.0) + maximumMarkerPadding.top);\n      median.addThickness(frameInnerPadding);\n      median.scale(scale);\n      thickness = new Thickness(maximumMarkerSize.width + maximumMarkerPadding.left + maximumMarkerPadding.right, maximumMarkerSize.height + maximumMarkerPadding.top + maximumMarkerPadding.bottom, maximumMarkerSize.width + maximumMarkerPadding.left + maximumMarkerPadding.right, maximumMarkerSize.height + maximumMarkerPadding.top + maximumMarkerPadding.bottom);\n      thickness.addThickness(frameInnerPadding);\n      thickness.addThickness(frameOuterPadding);\n      thickness.scale(scale);\n    }\n    return {\n      median: median,\n      thickness: thickness\n    };\n  }\n  function getMedian() {\n    return _data.median;\n  }\n  function getThickness() {\n    return _data.thickness;\n  }\n  return {\n    process: process,\n    getMedian: getMedian,\n    getThickness: getThickness\n  };\n}\n;","map":{"version":3,"names":["ObjectReader","ValueReader","Thickness","Size","FrameSizeTask","frameOptionTask","readTemplatesTask","scaleOptionTask","_data","_hash","_dataTemplate","median","left","top","right","bottom","thickness","process","context","isChanged","hash","read","getFrameSize","frameOptions","getOptions","showFrame","frameInnerPadding","frameOuterPadding","scale","maximumMarkerSize","maximumMarkerPadding","index","len","templates","getItemTemplates","length","template","templateConfig","cursorPadding","highlightPadding","addThickness","cursorBorderWidth","highlightBorderWidth","maxSize","minimizedItemSize","maxThickness","Math","ceil","width","height","getMedian","getThickness"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/layout/FrameSizeTask.js"],"sourcesContent":["import ObjectReader from '../../readers/ObjectReader';\r\nimport ValueReader from '../../readers/ValueReader';\r\nimport Thickness from '../../graphics/structs/Thickness';\r\nimport Size from '../../graphics/structs/Size';\r\n\r\nexport default function FrameSizeTask(frameOptionTask, readTemplatesTask, scaleOptionTask) {\r\n  var _data = {},\r\n    _hash = {};\r\n\r\n  var _dataTemplate = new ObjectReader({\r\n    median: new ObjectReader({\r\n      left: new ValueReader([\"number\"], false, 0),\r\n      top: new ValueReader([\"number\"], false, 0),\r\n      right: new ValueReader([\"number\"], false, 0),\r\n      bottom: new ValueReader([\"number\"], false, 0)\r\n    }, false, new Thickness(0, 0, 0, 0)),\r\n    thickness: new ObjectReader({\r\n      left: new ValueReader([\"number\"], false, 0),\r\n      top: new ValueReader([\"number\"], false, 0),\r\n      right: new ValueReader([\"number\"], false, 0),\r\n      bottom: new ValueReader([\"number\"], false, 0)\r\n    }, false, new Thickness(0, 0, 0, 0))\r\n  });\r\n\r\n  function process() {\r\n    var context = {\r\n      isChanged: false,\r\n      hash: _hash\r\n    };\r\n\r\n    _data = _dataTemplate.read(_data, getFrameSize(), \"options\", context);\r\n\r\n    return context.isChanged;\r\n  }\r\n\r\n  function getFrameSize() {\r\n    var frameOptions = frameOptionTask.getOptions(),\r\n      showFrame = frameOptions.showFrame,\r\n      frameInnerPadding = frameOptions.frameInnerPadding,\r\n      frameOuterPadding = frameOptions.frameOuterPadding,\r\n      scale = scaleOptionTask.getOptions().scale,\r\n      median = new Thickness(0, 0, 0, 0),\r\n      thickness = new Thickness(0, 0, 0, 0);\r\n\r\n    if(showFrame) {\r\n      var maximumMarkerSize = new Size(0, 0),\r\n          maximumMarkerPadding = new Thickness(0, 0, 0, 0),\r\n          index, len,\r\n          templates = readTemplatesTask.getItemTemplates();\r\n\r\n      for (index = 0, len = templates.length; index < len; index += 1) {\r\n        var template = templates[index];\r\n        var templateConfig = template.templateConfig,\r\n            cursorPadding = new Thickness(templateConfig.cursorPadding),\r\n            highlightPadding = new Thickness(templateConfig.highlightPadding);\r\n        \r\n        cursorPadding.addThickness(templateConfig.cursorBorderWidth);\r\n        highlightPadding.addThickness(templateConfig.highlightBorderWidth);\r\n\r\n        maximumMarkerSize.maxSize(templateConfig.minimizedItemSize);\r\n        maximumMarkerPadding.maxThickness(templateConfig.cursorPadding);\r\n        maximumMarkerPadding.maxThickness(templateConfig.highlightPadding);\r\n      }\r\n\r\n      median = new Thickness(Math.ceil(maximumMarkerSize.width / 2.0) + maximumMarkerPadding.right, \r\n        Math.ceil(maximumMarkerSize.height / 2.0) + maximumMarkerPadding.bottom, \r\n        Math.ceil(maximumMarkerSize.width / 2.0) + maximumMarkerPadding.left, \r\n        Math.ceil(maximumMarkerSize.height / 2.0) + maximumMarkerPadding.top\r\n      );\r\n      median.addThickness(frameInnerPadding);\r\n      median.scale(scale);\r\n      thickness = new Thickness(maximumMarkerSize.width + maximumMarkerPadding.left + maximumMarkerPadding.right, \r\n        maximumMarkerSize.height + maximumMarkerPadding.top + maximumMarkerPadding.bottom, \r\n        maximumMarkerSize.width + maximumMarkerPadding.left + maximumMarkerPadding.right, \r\n        maximumMarkerSize.height + maximumMarkerPadding.top + maximumMarkerPadding.bottom\r\n      );\r\n      thickness.addThickness(frameInnerPadding);\r\n      thickness.addThickness(frameOuterPadding);\r\n      thickness.scale(scale);\r\n    }\r\n    return { median: median, thickness: thickness };\r\n  }\r\n\r\n  function getMedian() {\r\n    return _data.median;\r\n  }\r\n\r\n  function getThickness() {\r\n    return _data.thickness;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getMedian: getMedian,\r\n    getThickness: getThickness\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}