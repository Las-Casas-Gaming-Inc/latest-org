{"ast":null,"code":"import ArrayReader from '../../../readers/ArrayReader';\nimport ValueReader from '../../../readers/ValueReader';\nexport default function SelectedItemsTask(selectedItemsOptionTask, itemsOptionTask) {\n  var _data = {\n      items: []\n    },\n    _hash = {},\n    _dataTemplate = new ArrayReader(new ValueReader([\"string\", \"number\"], true), true);\n  function process() {\n    var context = {\n        isChanged: false,\n        hash: _hash\n      },\n      selectedItems = selectedItemsOptionTask.getSelectedItems();\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(selectedItems), \"items\", context);\n    return context.isChanged;\n  }\n  function getSelectedItems(selectedItems) {\n    var result = [],\n      processed = {},\n      index,\n      len,\n      treeItemId;\n    for (index = 0, len = selectedItems.length; index < len; index += 1) {\n      treeItemId = selectedItems[index];\n      if (treeItemId != null && !processed.hasOwnProperty(treeItemId)) {\n        processed[treeItemId] = true;\n        if (itemsOptionTask.getConfig(treeItemId) != null) {\n          result.push(treeItemId);\n        }\n      }\n    }\n    return result;\n  }\n  function isSelected(itemid) {\n    return _hash.items.hasOwnProperty(itemid);\n  }\n  function getItems() {\n    return _data.items;\n  }\n  return {\n    process: process,\n    getItems: getItems,\n    isSelected: isSelected\n  };\n}\n;","map":{"version":3,"names":["ArrayReader","ValueReader","SelectedItemsTask","selectedItemsOptionTask","itemsOptionTask","_data","items","_hash","_dataTemplate","process","context","isChanged","hash","selectedItems","getSelectedItems","read","result","processed","index","len","treeItemId","length","hasOwnProperty","getConfig","push","isSelected","itemid","getItems"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/transformations/selection/SelectedItemsTask.js"],"sourcesContent":["import ArrayReader from '../../../readers/ArrayReader';\r\nimport ValueReader from '../../../readers/ValueReader';\r\n\r\nexport default function SelectedItemsTask(selectedItemsOptionTask, itemsOptionTask) {\r\n  var _data = {\r\n    items: []\r\n  },\r\n    _hash = {},\r\n    _dataTemplate = new ArrayReader(\r\n      new ValueReader([\"string\", \"number\"], true),\r\n      true\r\n    );\r\n\r\n  function process() {\r\n    var context = {\r\n      isChanged: false,\r\n      hash: _hash\r\n    },\r\n      selectedItems = selectedItemsOptionTask.getSelectedItems();\r\n\r\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(selectedItems), \"items\", context);\r\n\r\n    return context.isChanged;\r\n  }\r\n\r\n  function getSelectedItems(selectedItems) {\r\n    var result = [],\r\n      processed = {},\r\n      index, len,\r\n      treeItemId;\r\n\r\n    for (index = 0, len = selectedItems.length; index < len; index += 1) {\r\n      treeItemId = selectedItems[index];\r\n      if (treeItemId != null && !processed.hasOwnProperty(treeItemId)) {\r\n        processed[treeItemId] = true;\r\n        if(itemsOptionTask.getConfig(treeItemId) != null) {\r\n          result.push(treeItemId);\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function isSelected(itemid) {\r\n    return _hash.items.hasOwnProperty(itemid);\r\n  }\r\n\r\n  function getItems() {\r\n    return _data.items;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getItems: getItems,\r\n    isSelected: isSelected\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,WAAW,MAAM,8BAA8B;AACtD,OAAOC,WAAW,MAAM,8BAA8B;AAEtD,eAAe,SAASC,iBAAiBA,CAACC,uBAAuB,EAAEC,eAAe,EAAE;EAClF,IAAIC,KAAK,GAAG;MACVC,KAAK,EAAE;IACT,CAAC;IACCC,KAAK,GAAG,CAAC,CAAC;IACVC,aAAa,GAAG,IAAIR,WAAW,CAC7B,IAAIC,WAAW,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EAC3C,IACF,CAAC;EAEH,SAASQ,OAAOA,CAAA,EAAG;IACjB,IAAIC,OAAO,GAAG;QACZC,SAAS,EAAE,KAAK;QAChBC,IAAI,EAAEL;MACR,CAAC;MACCM,aAAa,GAAGV,uBAAuB,CAACW,gBAAgB,CAAC,CAAC;IAE5DT,KAAK,CAACC,KAAK,GAAGE,aAAa,CAACO,IAAI,CAACV,KAAK,CAACC,KAAK,EAAEQ,gBAAgB,CAACD,aAAa,CAAC,EAAE,OAAO,EAAEH,OAAO,CAAC;IAEhG,OAAOA,OAAO,CAACC,SAAS;EAC1B;EAEA,SAASG,gBAAgBA,CAACD,aAAa,EAAE;IACvC,IAAIG,MAAM,GAAG,EAAE;MACbC,SAAS,GAAG,CAAC,CAAC;MACdC,KAAK;MAAEC,GAAG;MACVC,UAAU;IAEZ,KAAKF,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGN,aAAa,CAACQ,MAAM,EAAEH,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;MACnEE,UAAU,GAAGP,aAAa,CAACK,KAAK,CAAC;MACjC,IAAIE,UAAU,IAAI,IAAI,IAAI,CAACH,SAAS,CAACK,cAAc,CAACF,UAAU,CAAC,EAAE;QAC/DH,SAAS,CAACG,UAAU,CAAC,GAAG,IAAI;QAC5B,IAAGhB,eAAe,CAACmB,SAAS,CAACH,UAAU,CAAC,IAAI,IAAI,EAAE;UAChDJ,MAAM,CAACQ,IAAI,CAACJ,UAAU,CAAC;QACzB;MACF;IACF;IAEA,OAAOJ,MAAM;EACf;EAEA,SAASS,UAAUA,CAACC,MAAM,EAAE;IAC1B,OAAOnB,KAAK,CAACD,KAAK,CAACgB,cAAc,CAACI,MAAM,CAAC;EAC3C;EAEA,SAASC,QAAQA,CAAA,EAAG;IAClB,OAAOtB,KAAK,CAACC,KAAK;EACpB;EAEA,OAAO;IACLG,OAAO,EAAEA,OAAO;IAChBkB,QAAQ,EAAEA,QAAQ;IAClBF,UAAU,EAAEA;EACd,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}