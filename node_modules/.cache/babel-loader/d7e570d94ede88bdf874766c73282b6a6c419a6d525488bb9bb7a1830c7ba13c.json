{"ast":null,"code":"import { isObject } from '../common';\nexport default function ObjectReader(dataTemplate, isNullable, defaultValue) {\n  this.dataTemplate = dataTemplate;\n  this.isNullable = isNullable;\n  this.defaultValue = defaultValue;\n}\n;\nObjectReader.prototype.read = function (target, source, path, context) {\n  var result = null,\n    isTargetObject = isObject(target),\n    property,\n    propertyDataTemplate;\n  if (!source) {\n    source = this.isNullable ? null : this.defaultValue;\n  }\n  if (isObject(source)) {\n    result = {};\n    for (property in this.dataTemplate) {\n      if (this.dataTemplate.hasOwnProperty(property)) {\n        propertyDataTemplate = this.dataTemplate[property];\n        result[property] = propertyDataTemplate.read(isTargetObject ? target[property] : null, source[property], path + \"-\" + property, context);\n      }\n    }\n  } else {\n    result = source;\n    if (target !== source) {\n      context.isChanged = true;\n    }\n  }\n  return result;\n};","map":{"version":3,"names":["isObject","ObjectReader","dataTemplate","isNullable","defaultValue","prototype","read","target","source","path","context","result","isTargetObject","property","propertyDataTemplate","hasOwnProperty","isChanged"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/readers/ObjectReader.js"],"sourcesContent":["import { isObject } from '../common';\r\n\r\nexport default function ObjectReader(dataTemplate, isNullable, defaultValue) {\r\n  this.dataTemplate = dataTemplate;\r\n  this.isNullable = isNullable;\r\n  this.defaultValue = defaultValue;\r\n};\r\n\r\nObjectReader.prototype.read = function (target, source, path, context) {\r\n  var result = null,\r\n    isTargetObject = isObject(target),\r\n    property,\r\n    propertyDataTemplate;\r\n\r\n  if (!source) {\r\n    source = this.isNullable ? null : this.defaultValue;\r\n  }\r\n\r\n  if (isObject(source)) {\r\n    result = {};\r\n\r\n    for (property in this.dataTemplate) {\r\n      if (this.dataTemplate.hasOwnProperty(property)) {\r\n        propertyDataTemplate = this.dataTemplate[property];\r\n\r\n        result[property] = propertyDataTemplate.read(isTargetObject ? target[property] : null, source[property], path + \"-\" + property, context);\r\n      }\r\n    }\r\n  } else {\r\n    result = source;\r\n\r\n    if (target !== source) {\r\n      context.isChanged = true;\r\n    }\r\n  }\r\n  return result;\r\n};"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,WAAW;AAEpC,eAAe,SAASC,YAAYA,CAACC,YAAY,EAAEC,UAAU,EAAEC,YAAY,EAAE;EAC3E,IAAI,CAACF,YAAY,GAAGA,YAAY;EAChC,IAAI,CAACC,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAACC,YAAY,GAAGA,YAAY;AAClC;AAAC;AAEDH,YAAY,CAACI,SAAS,CAACC,IAAI,GAAG,UAAUC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAE;EACrE,IAAIC,MAAM,GAAG,IAAI;IACfC,cAAc,GAAGZ,QAAQ,CAACO,MAAM,CAAC;IACjCM,QAAQ;IACRC,oBAAoB;EAEtB,IAAI,CAACN,MAAM,EAAE;IACXA,MAAM,GAAG,IAAI,CAACL,UAAU,GAAG,IAAI,GAAG,IAAI,CAACC,YAAY;EACrD;EAEA,IAAIJ,QAAQ,CAACQ,MAAM,CAAC,EAAE;IACpBG,MAAM,GAAG,CAAC,CAAC;IAEX,KAAKE,QAAQ,IAAI,IAAI,CAACX,YAAY,EAAE;MAClC,IAAI,IAAI,CAACA,YAAY,CAACa,cAAc,CAACF,QAAQ,CAAC,EAAE;QAC9CC,oBAAoB,GAAG,IAAI,CAACZ,YAAY,CAACW,QAAQ,CAAC;QAElDF,MAAM,CAACE,QAAQ,CAAC,GAAGC,oBAAoB,CAACR,IAAI,CAACM,cAAc,GAAGL,MAAM,CAACM,QAAQ,CAAC,GAAG,IAAI,EAAEL,MAAM,CAACK,QAAQ,CAAC,EAAEJ,IAAI,GAAG,GAAG,GAAGI,QAAQ,EAAEH,OAAO,CAAC;MAC1I;IACF;EACF,CAAC,MAAM;IACLC,MAAM,GAAGH,MAAM;IAEf,IAAID,MAAM,KAAKC,MAAM,EAAE;MACrBE,OAAO,CAACM,SAAS,GAAG,IAAI;IAC1B;EACF;EACA,OAAOL,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}