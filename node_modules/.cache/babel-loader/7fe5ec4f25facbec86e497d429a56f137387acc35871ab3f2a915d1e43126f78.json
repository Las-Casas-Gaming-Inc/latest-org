{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _basicprimitives = require(\"basicprimitives\");\nvar _Graphics = _interopRequireDefault(require(\"./Graphics\"));\nvar _Templates = require(\"./Templates\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n  return cache;\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj[\"default\"] = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar BaseDiagram = /*#__PURE__*/function (_Component) {\n  _inherits(BaseDiagram, _Component);\n  var _super = _createSuper(BaseDiagram);\n  function BaseDiagram(props, TaskManagerFactory, EventArgs) {\n    var _this;\n    _classCallCheck(this, BaseDiagram);\n    _this = _super.call(this, props);\n    _this.TaskManagerFactory = TaskManagerFactory;\n    _this.EventArgs = EventArgs;\n    var config = props.config,\n      centerOnCursor = props.centerOnCursor;\n    var highlightItem = config.highlightItem,\n      cursorItem = config.cursorItem,\n      selectedItems = config.selectedItems;\n    _this.state = {\n      config: config,\n      viewportSize: {\n        width: 0,\n        height: 0\n      },\n      contentPosition: {\n        x: 0,\n        y: 0\n      },\n      centerOnCursor: centerOnCursor,\n      highlightItem: highlightItem,\n      cursorItem: cursorItem,\n      selectedItems: (selectedItems || []).slice()\n    };\n    var viewportSize = _this.state.viewportSize;\n    _this.onRefreshViewport = _this.onRefreshViewport.bind(_assertThisInitialized(_this));\n    _this.onSizeChanged = _this.onSizeChanged.bind(_assertThisInitialized(_this));\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.onMouseMove = _this.onMouseMove.bind(_assertThisInitialized(_this));\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onCheckboxChange = _this.onCheckboxChange.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFrameClick = _this.onFrameClick.bind(_assertThisInitialized(_this));\n    _this.onFrameMouseMove = _this.onFrameMouseMove.bind(_assertThisInitialized(_this));\n    _this.getOptions = _this.getOptions.bind(_assertThisInitialized(_this));\n    _this.getGraphics = _this.getGraphics.bind(_assertThisInitialized(_this));\n    _this.getLayout = _this.getLayout.bind(_assertThisInitialized(_this));\n    _this.setLayout = _this.setLayout.bind(_assertThisInitialized(_this));\n    _this.getEventArgs = _this.getEventArgs.bind(_assertThisInitialized(_this));\n    _this.centerOnCursor = _this.centerOnCursor.bind(_assertThisInitialized(_this));\n    _this.onItemRender = _this.onItemRender.bind(_assertThisInitialized(_this));\n    _this.onHighlightRender = _this.onHighlightRender.bind(_assertThisInitialized(_this));\n    _this.onCursorRender = _this.onCursorRender.bind(_assertThisInitialized(_this));\n    _this.controlPanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.frameMousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.framePlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.titlesMousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.titlesPlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.scrollPanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.mousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.placeholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.calloutPlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.layoutOptions = {};\n    _this.templatesHash = {};\n    _this.graphics = new _Graphics[\"default\"](viewportSize);\n    _this.templates = {\n      AnnotationLabelTemplate: _Templates.AnnotationLabelTemplate,\n      ButtonsTemplate: _Templates.ButtonsTemplate,\n      CheckBoxTemplate: _Templates.CheckBoxTemplate,\n      CursorTemplate: _Templates.CursorTemplate,\n      DotHighlightTemplate: _Templates.DotHighlightTemplate,\n      GroupTitleTemplate: _Templates.GroupTitleTemplate,\n      HighlightTemplate: _Templates.HighlightTemplate,\n      ItemTemplate: _Templates.ItemTemplate,\n      UserTemplate: _Templates.UserTemplate,\n      CustomRenderTemplate: _Templates.CustomRenderTemplate,\n      LabelAnnotationTemplate: _Templates.LabelAnnotationTemplate,\n      LevelTitleTemplate: _Templates.LevelTitleTemplate,\n      LevelBackgroundTemplate: _Templates.LevelBackgroundTemplate\n    };\n    _this.tasks = TaskManagerFactory(_this.getOptions, _this.getGraphics, _this.getLayout, _this.setLayout, _this.templates);\n    return _this;\n  }\n  _createClass(BaseDiagram, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // The following code is ResizeObserver Polyfill\n      // It is added to the rendered page to track size changes of control placeholder\n      // npm install resize-observer-polyfill --save-dev\n      require('resize-observer-polyfill/dist/ResizeObserver.global');\n      this.observer = new ResizeObserver(this.onSizeChanged);\n      this.observer.observe(this.controlPanelRef.current);\n      this.centerOnCursor();\n      this.fixPixelAlignment();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // destroy timer\n      clearTimeout(this.timer);\n      this.timer = null; // destroy observer\n\n      this.observer.disconnect();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.centerOnCursor();\n    }\n  }, {\n    key: \"centerOnCursor\",\n    value: function centerOnCursor() {\n      var centerOnCursor = this.state.centerOnCursor;\n      if (centerOnCursor) {\n        /* scroll to offset */\n        var centerOnCursorTask = this.tasks.getTask(\"CenterOnCursorTask\");\n        var placeholderOffset = centerOnCursorTask.getPlaceholderOffset();\n        var scrollLeft = placeholderOffset.x,\n          scrollTop = placeholderOffset.y;\n        this.scrollPanelRef.current.scrollLeft = scrollLeft;\n        this.scrollPanelRef.current.scrollTop = scrollTop;\n      }\n    }\n  }, {\n    key: \"fixPixelAlignment\",\n    value: function fixPixelAlignment() {\n      var current = this.controlPanelRef.current;\n      var pixelAlignmentFix = (0, _basicprimitives.getFixOfPixelAlignment)(current);\n      current.style.marginLeft = pixelAlignmentFix.width + \"px\";\n      current.style.marginTop = pixelAlignmentFix.height + \"px\";\n    }\n  }, {\n    key: \"onSizeChanged\",\n    value: function onSizeChanged() {\n      var _getInnerSize = (0, _basicprimitives.getInnerSize)(this.controlPanelRef.current),\n        width = _getInnerSize.width,\n        height = _getInnerSize.height;\n      this.setState({\n        viewportSize: {\n          width: width,\n          height: height\n        },\n        centerOnCursor: true\n      });\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll() {\n      if (this.timer == null) {\n        this.timer = setTimeout(this.onRefreshViewport, 200);\n      }\n    }\n  }, {\n    key: \"onRefreshViewport\",\n    value: function onRefreshViewport() {\n      clearTimeout(this.timer);\n      this.timer = null;\n      var _this$scrollPanelRef$ = this.scrollPanelRef.current,\n        scrollTop = _this$scrollPanelRef$.scrollTop,\n        scrollLeft = _this$scrollPanelRef$.scrollLeft;\n      this.setState({\n        contentPosition: {\n          x: Math.floor(scrollLeft),\n          y: Math.floor(scrollTop)\n        },\n        centerOnCursor: false\n      });\n    }\n  }, {\n    key: \"onFrameMouseMove\",\n    value: function onFrameMouseMove(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.frameMousePanelRef.current),\n        x = event.pageX - placeholderOffset.left,\n        y = event.pageY - placeholderOffset.top,\n        projectItemsToFrameTask = this.tasks.getTask(\"ProjectItemsToFrameTask\"),\n        highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\");\n      if (highlightItemOptionTask.hasHighlightEnabled()) {\n        var itemId = projectItemsToFrameTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n        this.setHighlightItem(event, itemId);\n      }\n    }\n  }, {\n    key: \"onFrameClick\",\n    value: function onFrameClick(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.frameMousePanelRef.current),\n        x = event.pageX - placeholderOffset.left,\n        y = event.pageY - placeholderOffset.top,\n        projectItemsToFrameTask = this.tasks.getTask(\"ProjectItemsToFrameTask\"),\n        cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n        highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n        newCursorItemId = projectItemsToFrameTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n      if (newCursorItemId !== null) {\n        if (cursorItemOptionTask.hasCursorEnabled()) {\n          this.setCursorItem(event, newCursorItemId);\n          this.controlPanelRef.current.focus();\n        }\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current),\n        x = event.pageX - placeholderOffset.left,\n        y = event.pageY - placeholderOffset.top,\n        createTransformTask = this.tasks.getTask(\"CreateTransformTask\"),\n        highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\");\n      if (highlightItemOptionTask.hasHighlightEnabled()) {\n        var itemId = createTransformTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n        this.setHighlightItem(event, itemId);\n      }\n    }\n  }, {\n    key: \"getEventArgs\",\n    value: function getEventArgs(oldTreeItemId, newTreeItemId, name) {\n      var result = new this.EventArgs(),\n        combinedContextsTask = this.tasks.getTask(\"CombinedContextsTask\"),\n        alignDiagramTask = this.tasks.getTask(\"AlignDiagramTask\"),\n        oldItemConfig = combinedContextsTask.getConfig(oldTreeItemId),\n        newItemConfig = combinedContextsTask.getConfig(newTreeItemId),\n        itemPosition,\n        offset,\n        panelOffset;\n      if (oldItemConfig && oldItemConfig.id != null) {\n        result.oldContext = oldItemConfig;\n      }\n      if (newItemConfig && newItemConfig.id != null) {\n        result.context = newItemConfig;\n        if (newItemConfig.parent !== null) {\n          result.parentItem = combinedContextsTask.getConfig(newItemConfig.parent);\n        }\n        panelOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current);\n        offset = (0, _basicprimitives.getElementOffset)(this.scrollPanelRef.current);\n        itemPosition = alignDiagramTask.getItemPosition(newTreeItemId);\n        result.position = new _basicprimitives.Rect(itemPosition.actualPosition).translate(panelOffset.left, panelOffset.top).translate(-offset.left, -offset.top);\n      }\n      if (name != null) {\n        result.name = name;\n      }\n      return result;\n    }\n  }, {\n    key: \"setHighlightItem\",\n    value: function setHighlightItem(event, newHighlightItemId) {\n      var eventArgs,\n        cancel = false;\n      var _this$props = this.props,\n        onHighlightChanging = _this$props.onHighlightChanging,\n        onHighlightChanged = _this$props.onHighlightChanged;\n      var highlightItem = this.state.highlightItem;\n      if (newHighlightItemId !== highlightItem) {\n        eventArgs = this.getEventArgs(highlightItem, newHighlightItemId);\n        if (onHighlightChanging != null) {\n          if (!onHighlightChanging(event, eventArgs)) {\n            cancel = true;\n            this.setState({\n              highlightItem: newHighlightItemId\n            });\n          }\n        } else {\n          this.setState({\n            highlightItem: newHighlightItemId\n          });\n        }\n        ;\n        if (!cancel) {\n          if (onHighlightChanged != null) {\n            onHighlightChanged(event, eventArgs);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setCursorItem\",\n    value: function setCursorItem(event, newCursorItemId) {\n      var eventArgs,\n        cancel = false;\n      var _this$props2 = this.props,\n        onCursorChanging = _this$props2.onCursorChanging,\n        onCursorChanged = _this$props2.onCursorChanged;\n      var cursorItem = this.state.cursorItem;\n      if (newCursorItemId !== cursorItem) {\n        eventArgs = this.getEventArgs(cursorItem, newCursorItemId);\n        if (onCursorChanging != null) {\n          if (!onCursorChanging(event, eventArgs)) {\n            cancel = true;\n            this.setState({\n              cursorItem: newCursorItemId,\n              centerOnCursor: true\n            });\n          }\n        } else {\n          this.setState({\n            cursorItem: newCursorItemId,\n            centerOnCursor: true\n          });\n        }\n        if (!cancel) {\n          if (onCursorChanged != null) {\n            onCursorChanged(event, eventArgs);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current),\n        x = event.pageX - placeholderOffset.left,\n        y = event.pageY - placeholderOffset.top,\n        createTransformTask = this.tasks.getTask(\"CreateTransformTask\"),\n        cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n        highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n        newCursorItemId = createTransformTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius()),\n        target;\n      target = event.target;\n      if (newCursorItemId !== null) {\n        if (target.getAttribute(\"name\") === \"checkbox\" || target.getAttribute(\"name\") === \"selectiontext\") {//ignore jslint\n        } else {\n          if (cursorItemOptionTask.hasCursorEnabled()) {\n            this.setCursorItem(event, newCursorItemId);\n            this.controlPanelRef.current.focus();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onCheckboxChange\",\n    value: function onCheckboxChange(event) {\n      var _this$props3 = this.props,\n        onSelectionChanging = _this$props3.onSelectionChanging,\n        onSelectionChanged = _this$props3.onSelectionChanged;\n      var selectedItems = this.state.selectedItems;\n      var newSelectedItems = [];\n      var target = event.target;\n      var itemid = target.getAttribute(\"data-id\");\n      var checked = event.target.checked;\n      var cancel = false;\n      if (itemid != null) {\n        if (checked) {\n          newSelectedItems = [].concat(_toConsumableArray(selectedItems), [itemid]);\n        } else {\n          // eslint-disable-next-line\n          newSelectedItems = selectedItems.filter(function (id) {\n            return id != itemid;\n          }); // User type may not mach string value in data attribute\n        }\n        if (onSelectionChanging != null) {\n          cancel = onSelectionChanging(event, selectedItems, newSelectedItems);\n        }\n        if (!cancel) {\n          this.setState({\n            selectedItems: newSelectedItems\n          });\n          if (onSelectionChanged != null) {\n            onSelectionChanged(event, selectedItems, newSelectedItems);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      var highlightItemTask = this.tasks.getTask(\"HighlightItemTask\"),\n        highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n        cursorItemTask = this.tasks.getTask(\"CursorItemTask\"),\n        cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n        alignDiagramTask = this.tasks.getTask('AlignDiagramTask'),\n        createTransformTask = this.tasks.getTask('CreateTransformTask'),\n        transform = createTransformTask.getTransform(),\n        navigationItem = null,\n        newNavigationItem,\n        direction = null,\n        accepted;\n      if (highlightItemOptionTask.hasHighlightEnabled() && cursorItemOptionTask.hasCursorEnabled()) {\n        navigationItem = highlightItemTask.getHighlightTreeItem();\n        if (navigationItem === null) {\n          navigationItem = cursorItemTask.getCursorTreeItem();\n        }\n      } else if (highlightItemOptionTask.hasHighlightEnabled()) {\n        navigationItem = highlightItemTask.getHighlightTreeItem();\n      } else if (cursorItemOptionTask.hasCursorEnabled()) {\n        navigationItem = cursorItemTask.getCursorTreeItem();\n      }\n      if (navigationItem != null) {\n        switch (event.which) {\n          case 13:\n            /*Enter*/\n            if (cursorItemOptionTask.hasCursorEnabled()) {\n              this.setCursorItem(event, navigationItem);\n              event.preventDefault();\n              this.controlPanelRef.current.focus();\n            }\n            break;\n          case 40:\n            /*Down*/\n            direction = _basicprimitives.OrientationType.Bottom;\n            break;\n          case 38:\n            /*Up*/\n            direction = _basicprimitives.OrientationType.Top;\n            break;\n          case 37:\n            /*Left*/\n            direction = _basicprimitives.OrientationType.Left;\n            break;\n          case 39:\n            /*Right*/\n            direction = _basicprimitives.OrientationType.Right;\n            break;\n          default:\n            break;\n        }\n        if (direction != null) {\n          accepted = false;\n          while (!accepted) {\n            accepted = true;\n            direction = transform.getOrientation(direction);\n            newNavigationItem = alignDiagramTask.getNextItem(navigationItem, direction);\n            if (newNavigationItem != null) {\n              event.preventDefault();\n              if (highlightItemOptionTask.hasHighlightEnabled()) {\n                this.setHighlightItem(event, newNavigationItem);\n              } else if (cursorItemOptionTask.hasCursorEnabled()) {\n                this.setCursorItem(event, newNavigationItem);\n              }\n            }\n          }\n          this.controlPanelRef.current.focus();\n        }\n      }\n    }\n  }, {\n    key: \"onItemRender\",\n    value: function onItemRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onItemRender(data);\n    }\n  }, {\n    key: \"onHighlightRender\",\n    value: function onHighlightRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onHighlightRender(data);\n    }\n  }, {\n    key: \"onCursorRender\",\n    value: function onCursorRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onCursorRender(data);\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var config = this.props.config;\n      var templates = config.templates || [];\n      var effectiveTemplates = templates.map(function (template) {\n        var onItemRender = template.onItemRender,\n          onHighlightRender = template.onHighlightRender,\n          onCursorRender = template.onCursorRender;\n        return _objectSpread(_objectSpread({}, template), {}, {\n          itemTemplate: !onItemRender ? null : \"<p>This template is not being used in React</p>\",\n          highlightTemplate: !onHighlightRender ? null : \"<p>This template is not being used in React</p>\",\n          cursorTemplate: !onCursorRender ? null : \"<p>This template is not being used in React</p>\"\n        });\n      });\n      this.templatesHash = templates.reduce(function (agg, template) {\n        var name = template.name;\n        agg[name] = template;\n        return agg;\n      }, {});\n      var _this$state = this.state,\n        highlightItem = _this$state.highlightItem,\n        cursorItem = _this$state.cursorItem,\n        selectedItems = _this$state.selectedItems;\n      return _objectSpread(_objectSpread({}, config), {}, {\n        templates: effectiveTemplates,\n        highlightItem: highlightItem,\n        cursorItem: cursorItem,\n        selectedItems: selectedItems,\n        onItemRender: this.onItemRender,\n        onCursorRender: this.onCursorRender,\n        onHighlightRender: this.onHighlightRender\n      });\n    }\n  }, {\n    key: \"getGraphics\",\n    value: function getGraphics() {\n      return this.graphics;\n    }\n  }, {\n    key: \"getLayout\",\n    value: function getLayout() {\n      var _this$state2 = this.state,\n        centerOnCursor = _this$state2.centerOnCursor,\n        viewportSize = _this$state2.viewportSize,\n        contentPosition = _this$state2.contentPosition;\n      return {\n        forceCenterOnCursor: centerOnCursor,\n        scrollPanelSize: new _basicprimitives.Size(viewportSize),\n        placeholderOffset: new _basicprimitives.Point(contentPosition)\n      };\n    }\n  }, {\n    key: \"setLayout\",\n    value: function setLayout(layoutOptions) {\n      var autoSize = layoutOptions.autoSize,\n        controlSize = layoutOptions.controlSize,\n        scale = layoutOptions.scale,\n        frameMousePanelRect = layoutOptions.frameMousePanelRect,\n        framePlaceholderSize = layoutOptions.framePlaceholderSize,\n        titlesMousePanelRect = layoutOptions.titlesMousePanelRect,\n        titlesPlaceholderSize = layoutOptions.titlesPlaceholderSize,\n        scrollPanelRect = layoutOptions.scrollPanelRect,\n        mousePanelSize = layoutOptions.mousePanelSize,\n        placeholderSize = layoutOptions.placeholderSize;\n      this.layoutOptions = {\n        autoSize: autoSize,\n        controlSize: new _basicprimitives.Size(controlSize),\n        scale: scale,\n        frameMousePanelRect: new _basicprimitives.Rect(frameMousePanelRect),\n        framePlaceholderSize: new _basicprimitives.Size(framePlaceholderSize),\n        titlesMousePanelRect: new _basicprimitives.Rect(titlesMousePanelRect),\n        titlesPlaceholderSize: new _basicprimitives.Size(titlesPlaceholderSize),\n        scrollPanelRect: new _basicprimitives.Rect(scrollPanelRect),\n        mousePanelSize: new _basicprimitives.Size(mousePanelSize),\n        placeholderSize: new _basicprimitives.Size(placeholderSize)\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var graphics = this.graphics;\n      this.tasks.process('OptionsTask', null, false);\n      var _this$graphics$placeh = this.graphics.placeholders,\n        placeholder = _this$graphics$placeh.placeholder,\n        calloutplaceholder = _this$graphics$placeh.calloutplaceholder,\n        frameplaceholder = _this$graphics$placeh.frameplaceholder,\n        titlesplaceholder = _this$graphics$placeh.titlesplaceholder;\n      var placeholderRectCSS = placeholder.rect.getCSS();\n      var _this$layoutOptions = this.layoutOptions,\n        autoSize = _this$layoutOptions.autoSize,\n        controlSize = _this$layoutOptions.controlSize,\n        scale = _this$layoutOptions.scale,\n        frameMousePanelRect = _this$layoutOptions.frameMousePanelRect,\n        titlesMousePanelRect = _this$layoutOptions.titlesMousePanelRect,\n        scrollPanelRect = _this$layoutOptions.scrollPanelRect,\n        mousePanelSize = _this$layoutOptions.mousePanelSize;\n      /* set CSS scale of content */\n\n      var scaletext = \"scale(\" + scale + \",\" + scale + \")\";\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        /* root control panel */\n        ref: this.controlPanelRef,\n        onKeyDown: this.onKeyDown,\n        style: _objectSpread({\n          position: \"relative\",\n          overflow: \"hidden\",\n          top: \"0px\",\n          left: \"0px\",\n          width: \"100%\",\n          height: \"100%\",\n          padding: \"0px\",\n          marginBottom: \"0px\",\n          marginRight: \"0px\"\n        }, autoSize ? controlSize.getCSS() : {}),\n        tabIndex: \"0\"\n      }, frameplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.frameMousePanelRef,\n        onMouseMove: this.onFrameMouseMove,\n        onClick: this.onFrameClick,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, frameMousePanelRect.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.framePlaceholderRef,\n        style: _objectSpread(_objectSpread({}, frameplaceholder.rect.getCSS()), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n        })\n      }, graphics.map(this, \"frameplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }))), titlesplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.titlesMousePanelRef,\n        onMouseMove: this.onFrameMouseMove,\n        onClick: this.onFrameClick,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, titlesMousePanelRect.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.titlesPlaceholderRef,\n        style: _objectSpread(_objectSpread({}, titlesplaceholder.rect.getCSS()), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n        })\n      }, graphics.map(this, \"titlesplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.scrollPanelRef,\n        onScroll: this.onScroll,\n        style: _objectSpread(_objectSpread({\n          position: \"absolute\",\n          overflow: \"auto\",\n          WebkitOverflowScrolling: \"touch\"\n        }, scrollPanelRect.getCSS()), {}, {\n          border: scrollPanelRect.x > 0 ? \"1px dotted #dddddd\" : \"\"\n        })\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.mousePanelRef,\n        onMouseMove: this.onMouseMove,\n        onClick: this.onClick,\n        onChange: this.onCheckboxChange,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, mousePanelSize.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.placeholderRef,\n        style: _objectSpread(_objectSpread({}, placeholderRectCSS), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n        })\n      }, graphics.map(this, \"placeholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }), calloutplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: \"Callout\",\n        ref: this.calloutPlaceholderRef,\n        style: {\n          position: \"absolute\",\n          overflow: \"visible\",\n          left: calloutplaceholder.rect.x + \"px\",\n          top: calloutplaceholder.rect.y + \"px\"\n        }\n      }, graphics.map(this, \"calloutplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\"\n          }\n        }, elements);\n      })))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, state) {\n      var nextConfig = nextProps.config,\n        centerOnCursor = nextProps.centerOnCursor;\n      var config = state.config;\n      if (config !== nextConfig) {\n        var highlightItem = nextConfig.highlightItem,\n          cursorItem = nextConfig.cursorItem,\n          selectedItems = nextConfig.selectedItems;\n        return {\n          config: nextConfig,\n          highlightItem: highlightItem,\n          cursorItem: cursorItem,\n          selectedItems: (selectedItems || []).slice(),\n          centerOnCursor: centerOnCursor\n        };\n      }\n      return null;\n    }\n  }]);\n  return BaseDiagram;\n}(_react.Component);\n_defineProperty(BaseDiagram, \"propTypes\", {\n  centerOnCursor: _propTypes[\"default\"].bool,\n  // eslint-disable-line react/no-unused-prop-types\n  onHighlightChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onHighlightChanged: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onCursorChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onCursorChanged: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onSelectionChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onSelectionChanged: _propTypes[\"default\"].func // eslint-disable-line react/no-unused-prop-types\n});\n_defineProperty(BaseDiagram, \"defaultProps\", {\n  centerOnCursor: true,\n  onHighlightChanging: null,\n  onHighlightChanged: null,\n  onCursorChanging: null,\n  onCursorChanged: null,\n  onSelectionChanging: null,\n  onSelectionChanged: null\n});\nvar _default = BaseDiagram;\nexports[\"default\"] = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_basicprimitives","_Graphics","_Templates","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","isArray","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","BaseDiagram","_Component","_super","TaskManagerFactory","EventArgs","_this","config","centerOnCursor","highlightItem","cursorItem","selectedItems","state","viewportSize","width","height","contentPosition","x","y","onRefreshViewport","bind","onSizeChanged","onScroll","onMouseMove","onClick","onCheckboxChange","onKeyDown","onFrameClick","onFrameMouseMove","getOptions","getGraphics","getLayout","setLayout","getEventArgs","onItemRender","onHighlightRender","onCursorRender","controlPanelRef","createRef","frameMousePanelRef","framePlaceholderRef","titlesMousePanelRef","titlesPlaceholderRef","scrollPanelRef","mousePanelRef","placeholderRef","calloutPlaceholderRef","layoutOptions","templatesHash","graphics","templates","AnnotationLabelTemplate","ButtonsTemplate","CheckBoxTemplate","CursorTemplate","DotHighlightTemplate","GroupTitleTemplate","HighlightTemplate","ItemTemplate","UserTemplate","CustomRenderTemplate","LabelAnnotationTemplate","LevelTitleTemplate","LevelBackgroundTemplate","tasks","componentDidMount","observer","ResizeObserver","observe","current","fixPixelAlignment","componentWillUnmount","clearTimeout","timer","disconnect","componentDidUpdate","centerOnCursorTask","getTask","placeholderOffset","getPlaceholderOffset","scrollLeft","scrollTop","pixelAlignmentFix","getFixOfPixelAlignment","style","marginLeft","marginTop","_getInnerSize","getInnerSize","setState","setTimeout","_this$scrollPanelRef$","Math","floor","event","getElementOffset","pageX","left","pageY","top","projectItemsToFrameTask","highlightItemOptionTask","hasHighlightEnabled","itemId","getTreeItemForMousePosition","getGravityRadius","setHighlightItem","cursorItemOptionTask","newCursorItemId","hasCursorEnabled","setCursorItem","focus","createTransformTask","oldTreeItemId","newTreeItemId","combinedContextsTask","alignDiagramTask","oldItemConfig","getConfig","newItemConfig","itemPosition","offset","panelOffset","id","oldContext","context","parent","parentItem","getItemPosition","position","Rect","actualPosition","translate","newHighlightItemId","eventArgs","cancel","_this$props","onHighlightChanging","onHighlightChanged","_this$props2","onCursorChanging","onCursorChanged","getAttribute","_this$props3","onSelectionChanging","onSelectionChanged","newSelectedItems","itemid","checked","concat","highlightItemTask","cursorItemTask","transform","getTransform","navigationItem","newNavigationItem","direction","accepted","getHighlightTreeItem","getCursorTreeItem","which","preventDefault","OrientationType","Bottom","Top","Left","Right","getOrientation","getNextItem","data","templateName","template","effectiveTemplates","map","itemTemplate","highlightTemplate","cursorTemplate","reduce","agg","_this$state","_this$state2","forceCenterOnCursor","scrollPanelSize","Size","Point","autoSize","controlSize","scale","frameMousePanelRect","framePlaceholderSize","titlesMousePanelRect","titlesPlaceholderSize","scrollPanelRect","mousePanelSize","placeholderSize","render","process","_this$graphics$placeh","placeholders","placeholder","calloutplaceholder","frameplaceholder","titlesplaceholder","placeholderRectCSS","rect","getCSS","_this$layoutOptions","scaletext","createElement","Fragment","ref","overflow","padding","marginBottom","marginRight","tabIndex","layerKey","elements","WebkitOverflowScrolling","border","onChange","getDerivedStateFromProps","nextProps","nextConfig","Component","bool","func","_default"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitivesreact/dist/esm/BaseDiagram.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _basicprimitives = require(\"basicprimitives\");\n\nvar _Graphics = _interopRequireDefault(require(\"./Graphics\"));\n\nvar _Templates = require(\"./Templates\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar BaseDiagram = /*#__PURE__*/function (_Component) {\n  _inherits(BaseDiagram, _Component);\n\n  var _super = _createSuper(BaseDiagram);\n\n  function BaseDiagram(props, TaskManagerFactory, EventArgs) {\n    var _this;\n\n    _classCallCheck(this, BaseDiagram);\n\n    _this = _super.call(this, props);\n    _this.TaskManagerFactory = TaskManagerFactory;\n    _this.EventArgs = EventArgs;\n    var config = props.config,\n        centerOnCursor = props.centerOnCursor;\n    var highlightItem = config.highlightItem,\n        cursorItem = config.cursorItem,\n        selectedItems = config.selectedItems;\n    _this.state = {\n      config: config,\n      viewportSize: {\n        width: 0,\n        height: 0\n      },\n      contentPosition: {\n        x: 0,\n        y: 0\n      },\n      centerOnCursor: centerOnCursor,\n      highlightItem: highlightItem,\n      cursorItem: cursorItem,\n      selectedItems: (selectedItems || []).slice()\n    };\n    var viewportSize = _this.state.viewportSize;\n    _this.onRefreshViewport = _this.onRefreshViewport.bind(_assertThisInitialized(_this));\n    _this.onSizeChanged = _this.onSizeChanged.bind(_assertThisInitialized(_this));\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.onMouseMove = _this.onMouseMove.bind(_assertThisInitialized(_this));\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onCheckboxChange = _this.onCheckboxChange.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFrameClick = _this.onFrameClick.bind(_assertThisInitialized(_this));\n    _this.onFrameMouseMove = _this.onFrameMouseMove.bind(_assertThisInitialized(_this));\n    _this.getOptions = _this.getOptions.bind(_assertThisInitialized(_this));\n    _this.getGraphics = _this.getGraphics.bind(_assertThisInitialized(_this));\n    _this.getLayout = _this.getLayout.bind(_assertThisInitialized(_this));\n    _this.setLayout = _this.setLayout.bind(_assertThisInitialized(_this));\n    _this.getEventArgs = _this.getEventArgs.bind(_assertThisInitialized(_this));\n    _this.centerOnCursor = _this.centerOnCursor.bind(_assertThisInitialized(_this));\n    _this.onItemRender = _this.onItemRender.bind(_assertThisInitialized(_this));\n    _this.onHighlightRender = _this.onHighlightRender.bind(_assertThisInitialized(_this));\n    _this.onCursorRender = _this.onCursorRender.bind(_assertThisInitialized(_this));\n    _this.controlPanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.frameMousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.framePlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.titlesMousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.titlesPlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.scrollPanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.mousePanelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.placeholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.calloutPlaceholderRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.layoutOptions = {};\n    _this.templatesHash = {};\n    _this.graphics = new _Graphics[\"default\"](viewportSize);\n    _this.templates = {\n      AnnotationLabelTemplate: _Templates.AnnotationLabelTemplate,\n      ButtonsTemplate: _Templates.ButtonsTemplate,\n      CheckBoxTemplate: _Templates.CheckBoxTemplate,\n      CursorTemplate: _Templates.CursorTemplate,\n      DotHighlightTemplate: _Templates.DotHighlightTemplate,\n      GroupTitleTemplate: _Templates.GroupTitleTemplate,\n      HighlightTemplate: _Templates.HighlightTemplate,\n      ItemTemplate: _Templates.ItemTemplate,\n      UserTemplate: _Templates.UserTemplate,\n      CustomRenderTemplate: _Templates.CustomRenderTemplate,\n      LabelAnnotationTemplate: _Templates.LabelAnnotationTemplate,\n      LevelTitleTemplate: _Templates.LevelTitleTemplate,\n      LevelBackgroundTemplate: _Templates.LevelBackgroundTemplate\n    };\n    _this.tasks = TaskManagerFactory(_this.getOptions, _this.getGraphics, _this.getLayout, _this.setLayout, _this.templates);\n    return _this;\n  }\n\n  _createClass(BaseDiagram, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // The following code is ResizeObserver Polyfill\n      // It is added to the rendered page to track size changes of control placeholder\n      // npm install resize-observer-polyfill --save-dev\n      require('resize-observer-polyfill/dist/ResizeObserver.global');\n\n      this.observer = new ResizeObserver(this.onSizeChanged);\n      this.observer.observe(this.controlPanelRef.current);\n      this.centerOnCursor();\n      this.fixPixelAlignment();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // destroy timer\n      clearTimeout(this.timer);\n      this.timer = null; // destroy observer\n\n      this.observer.disconnect();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.centerOnCursor();\n    }\n  }, {\n    key: \"centerOnCursor\",\n    value: function centerOnCursor() {\n      var centerOnCursor = this.state.centerOnCursor;\n\n      if (centerOnCursor) {\n        /* scroll to offset */\n        var centerOnCursorTask = this.tasks.getTask(\"CenterOnCursorTask\");\n        var placeholderOffset = centerOnCursorTask.getPlaceholderOffset();\n        var scrollLeft = placeholderOffset.x,\n            scrollTop = placeholderOffset.y;\n        this.scrollPanelRef.current.scrollLeft = scrollLeft;\n        this.scrollPanelRef.current.scrollTop = scrollTop;\n      }\n    }\n  }, {\n    key: \"fixPixelAlignment\",\n    value: function fixPixelAlignment() {\n      var current = this.controlPanelRef.current;\n      var pixelAlignmentFix = (0, _basicprimitives.getFixOfPixelAlignment)(current);\n      current.style.marginLeft = pixelAlignmentFix.width + \"px\";\n      current.style.marginTop = pixelAlignmentFix.height + \"px\";\n    }\n  }, {\n    key: \"onSizeChanged\",\n    value: function onSizeChanged() {\n      var _getInnerSize = (0, _basicprimitives.getInnerSize)(this.controlPanelRef.current),\n          width = _getInnerSize.width,\n          height = _getInnerSize.height;\n\n      this.setState({\n        viewportSize: {\n          width: width,\n          height: height\n        },\n        centerOnCursor: true\n      });\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll() {\n      if (this.timer == null) {\n        this.timer = setTimeout(this.onRefreshViewport, 200);\n      }\n    }\n  }, {\n    key: \"onRefreshViewport\",\n    value: function onRefreshViewport() {\n      clearTimeout(this.timer);\n      this.timer = null;\n      var _this$scrollPanelRef$ = this.scrollPanelRef.current,\n          scrollTop = _this$scrollPanelRef$.scrollTop,\n          scrollLeft = _this$scrollPanelRef$.scrollLeft;\n      this.setState({\n        contentPosition: {\n          x: Math.floor(scrollLeft),\n          y: Math.floor(scrollTop)\n        },\n        centerOnCursor: false\n      });\n    }\n  }, {\n    key: \"onFrameMouseMove\",\n    value: function onFrameMouseMove(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.frameMousePanelRef.current),\n          x = event.pageX - placeholderOffset.left,\n          y = event.pageY - placeholderOffset.top,\n          projectItemsToFrameTask = this.tasks.getTask(\"ProjectItemsToFrameTask\"),\n          highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\");\n\n      if (highlightItemOptionTask.hasHighlightEnabled()) {\n        var itemId = projectItemsToFrameTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n        this.setHighlightItem(event, itemId);\n      }\n    }\n  }, {\n    key: \"onFrameClick\",\n    value: function onFrameClick(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.frameMousePanelRef.current),\n          x = event.pageX - placeholderOffset.left,\n          y = event.pageY - placeholderOffset.top,\n          projectItemsToFrameTask = this.tasks.getTask(\"ProjectItemsToFrameTask\"),\n          cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n          highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n          newCursorItemId = projectItemsToFrameTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n\n      if (newCursorItemId !== null) {\n        if (cursorItemOptionTask.hasCursorEnabled()) {\n          this.setCursorItem(event, newCursorItemId);\n          this.controlPanelRef.current.focus();\n        }\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current),\n          x = event.pageX - placeholderOffset.left,\n          y = event.pageY - placeholderOffset.top,\n          createTransformTask = this.tasks.getTask(\"CreateTransformTask\"),\n          highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\");\n\n      if (highlightItemOptionTask.hasHighlightEnabled()) {\n        var itemId = createTransformTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius());\n        this.setHighlightItem(event, itemId);\n      }\n    }\n  }, {\n    key: \"getEventArgs\",\n    value: function getEventArgs(oldTreeItemId, newTreeItemId, name) {\n      var result = new this.EventArgs(),\n          combinedContextsTask = this.tasks.getTask(\"CombinedContextsTask\"),\n          alignDiagramTask = this.tasks.getTask(\"AlignDiagramTask\"),\n          oldItemConfig = combinedContextsTask.getConfig(oldTreeItemId),\n          newItemConfig = combinedContextsTask.getConfig(newTreeItemId),\n          itemPosition,\n          offset,\n          panelOffset;\n\n      if (oldItemConfig && oldItemConfig.id != null) {\n        result.oldContext = oldItemConfig;\n      }\n\n      if (newItemConfig && newItemConfig.id != null) {\n        result.context = newItemConfig;\n\n        if (newItemConfig.parent !== null) {\n          result.parentItem = combinedContextsTask.getConfig(newItemConfig.parent);\n        }\n\n        panelOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current);\n        offset = (0, _basicprimitives.getElementOffset)(this.scrollPanelRef.current);\n        itemPosition = alignDiagramTask.getItemPosition(newTreeItemId);\n        result.position = new _basicprimitives.Rect(itemPosition.actualPosition).translate(panelOffset.left, panelOffset.top).translate(-offset.left, -offset.top);\n      }\n\n      if (name != null) {\n        result.name = name;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"setHighlightItem\",\n    value: function setHighlightItem(event, newHighlightItemId) {\n      var eventArgs,\n          cancel = false;\n      var _this$props = this.props,\n          onHighlightChanging = _this$props.onHighlightChanging,\n          onHighlightChanged = _this$props.onHighlightChanged;\n      var highlightItem = this.state.highlightItem;\n\n      if (newHighlightItemId !== highlightItem) {\n        eventArgs = this.getEventArgs(highlightItem, newHighlightItemId);\n\n        if (onHighlightChanging != null) {\n          if (!onHighlightChanging(event, eventArgs)) {\n            cancel = true;\n            this.setState({\n              highlightItem: newHighlightItemId\n            });\n          }\n        } else {\n          this.setState({\n            highlightItem: newHighlightItemId\n          });\n        }\n\n        ;\n\n        if (!cancel) {\n          if (onHighlightChanged != null) {\n            onHighlightChanged(event, eventArgs);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setCursorItem\",\n    value: function setCursorItem(event, newCursorItemId) {\n      var eventArgs,\n          cancel = false;\n      var _this$props2 = this.props,\n          onCursorChanging = _this$props2.onCursorChanging,\n          onCursorChanged = _this$props2.onCursorChanged;\n      var cursorItem = this.state.cursorItem;\n\n      if (newCursorItemId !== cursorItem) {\n        eventArgs = this.getEventArgs(cursorItem, newCursorItemId);\n\n        if (onCursorChanging != null) {\n          if (!onCursorChanging(event, eventArgs)) {\n            cancel = true;\n            this.setState({\n              cursorItem: newCursorItemId,\n              centerOnCursor: true\n            });\n          }\n        } else {\n          this.setState({\n            cursorItem: newCursorItemId,\n            centerOnCursor: true\n          });\n        }\n\n        if (!cancel) {\n          if (onCursorChanged != null) {\n            onCursorChanged(event, eventArgs);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      var placeholderOffset = (0, _basicprimitives.getElementOffset)(this.mousePanelRef.current),\n          x = event.pageX - placeholderOffset.left,\n          y = event.pageY - placeholderOffset.top,\n          createTransformTask = this.tasks.getTask(\"CreateTransformTask\"),\n          cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n          highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n          newCursorItemId = createTransformTask.getTreeItemForMousePosition(x, y, highlightItemOptionTask.getGravityRadius()),\n          target;\n      target = event.target;\n\n      if (newCursorItemId !== null) {\n        if (target.getAttribute(\"name\") === \"checkbox\" || target.getAttribute(\"name\") === \"selectiontext\") {//ignore jslint\n        } else {\n          if (cursorItemOptionTask.hasCursorEnabled()) {\n            this.setCursorItem(event, newCursorItemId);\n            this.controlPanelRef.current.focus();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onCheckboxChange\",\n    value: function onCheckboxChange(event) {\n      var _this$props3 = this.props,\n          onSelectionChanging = _this$props3.onSelectionChanging,\n          onSelectionChanged = _this$props3.onSelectionChanged;\n      var selectedItems = this.state.selectedItems;\n      var newSelectedItems = [];\n      var target = event.target;\n      var itemid = target.getAttribute(\"data-id\");\n      var checked = event.target.checked;\n      var cancel = false;\n\n      if (itemid != null) {\n        if (checked) {\n          newSelectedItems = [].concat(_toConsumableArray(selectedItems), [itemid]);\n        } else {\n          // eslint-disable-next-line\n          newSelectedItems = selectedItems.filter(function (id) {\n            return id != itemid;\n          }); // User type may not mach string value in data attribute\n        }\n\n        if (onSelectionChanging != null) {\n          cancel = onSelectionChanging(event, selectedItems, newSelectedItems);\n        }\n\n        if (!cancel) {\n          this.setState({\n            selectedItems: newSelectedItems\n          });\n\n          if (onSelectionChanged != null) {\n            onSelectionChanged(event, selectedItems, newSelectedItems);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      var highlightItemTask = this.tasks.getTask(\"HighlightItemTask\"),\n          highlightItemOptionTask = this.tasks.getTask(\"HighlightItemOptionTask\"),\n          cursorItemTask = this.tasks.getTask(\"CursorItemTask\"),\n          cursorItemOptionTask = this.tasks.getTask(\"CursorItemOptionTask\"),\n          alignDiagramTask = this.tasks.getTask('AlignDiagramTask'),\n          createTransformTask = this.tasks.getTask('CreateTransformTask'),\n          transform = createTransformTask.getTransform(),\n          navigationItem = null,\n          newNavigationItem,\n          direction = null,\n          accepted;\n\n      if (highlightItemOptionTask.hasHighlightEnabled() && cursorItemOptionTask.hasCursorEnabled()) {\n        navigationItem = highlightItemTask.getHighlightTreeItem();\n\n        if (navigationItem === null) {\n          navigationItem = cursorItemTask.getCursorTreeItem();\n        }\n      } else if (highlightItemOptionTask.hasHighlightEnabled()) {\n        navigationItem = highlightItemTask.getHighlightTreeItem();\n      } else if (cursorItemOptionTask.hasCursorEnabled()) {\n        navigationItem = cursorItemTask.getCursorTreeItem();\n      }\n\n      if (navigationItem != null) {\n        switch (event.which) {\n          case 13:\n            /*Enter*/\n            if (cursorItemOptionTask.hasCursorEnabled()) {\n              this.setCursorItem(event, navigationItem);\n              event.preventDefault();\n              this.controlPanelRef.current.focus();\n            }\n\n            break;\n\n          case 40:\n            /*Down*/\n            direction = _basicprimitives.OrientationType.Bottom;\n            break;\n\n          case 38:\n            /*Up*/\n            direction = _basicprimitives.OrientationType.Top;\n            break;\n\n          case 37:\n            /*Left*/\n            direction = _basicprimitives.OrientationType.Left;\n            break;\n\n          case 39:\n            /*Right*/\n            direction = _basicprimitives.OrientationType.Right;\n            break;\n\n          default:\n            break;\n        }\n\n        if (direction != null) {\n          accepted = false;\n\n          while (!accepted) {\n            accepted = true;\n            direction = transform.getOrientation(direction);\n            newNavigationItem = alignDiagramTask.getNextItem(navigationItem, direction);\n\n            if (newNavigationItem != null) {\n              event.preventDefault();\n\n              if (highlightItemOptionTask.hasHighlightEnabled()) {\n                this.setHighlightItem(event, newNavigationItem);\n              } else if (cursorItemOptionTask.hasCursorEnabled()) {\n                this.setCursorItem(event, newNavigationItem);\n              }\n            }\n          }\n\n          this.controlPanelRef.current.focus();\n        }\n      }\n    }\n  }, {\n    key: \"onItemRender\",\n    value: function onItemRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onItemRender(data);\n    }\n  }, {\n    key: \"onHighlightRender\",\n    value: function onHighlightRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onHighlightRender(data);\n    }\n  }, {\n    key: \"onCursorRender\",\n    value: function onCursorRender(data) {\n      var templateName = data.templateName;\n      var template = this.templatesHash[templateName];\n      return template.onCursorRender(data);\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var config = this.props.config;\n      var templates = config.templates || [];\n      var effectiveTemplates = templates.map(function (template) {\n        var onItemRender = template.onItemRender,\n            onHighlightRender = template.onHighlightRender,\n            onCursorRender = template.onCursorRender;\n        return _objectSpread(_objectSpread({}, template), {}, {\n          itemTemplate: !onItemRender ? null : \"<p>This template is not being used in React</p>\",\n          highlightTemplate: !onHighlightRender ? null : \"<p>This template is not being used in React</p>\",\n          cursorTemplate: !onCursorRender ? null : \"<p>This template is not being used in React</p>\"\n        });\n      });\n      this.templatesHash = templates.reduce(function (agg, template) {\n        var name = template.name;\n        agg[name] = template;\n        return agg;\n      }, {});\n      var _this$state = this.state,\n          highlightItem = _this$state.highlightItem,\n          cursorItem = _this$state.cursorItem,\n          selectedItems = _this$state.selectedItems;\n      return _objectSpread(_objectSpread({}, config), {}, {\n        templates: effectiveTemplates,\n        highlightItem: highlightItem,\n        cursorItem: cursorItem,\n        selectedItems: selectedItems,\n        onItemRender: this.onItemRender,\n        onCursorRender: this.onCursorRender,\n        onHighlightRender: this.onHighlightRender\n      });\n    }\n  }, {\n    key: \"getGraphics\",\n    value: function getGraphics() {\n      return this.graphics;\n    }\n  }, {\n    key: \"getLayout\",\n    value: function getLayout() {\n      var _this$state2 = this.state,\n          centerOnCursor = _this$state2.centerOnCursor,\n          viewportSize = _this$state2.viewportSize,\n          contentPosition = _this$state2.contentPosition;\n      return {\n        forceCenterOnCursor: centerOnCursor,\n        scrollPanelSize: new _basicprimitives.Size(viewportSize),\n        placeholderOffset: new _basicprimitives.Point(contentPosition)\n      };\n    }\n  }, {\n    key: \"setLayout\",\n    value: function setLayout(layoutOptions) {\n      var autoSize = layoutOptions.autoSize,\n          controlSize = layoutOptions.controlSize,\n          scale = layoutOptions.scale,\n          frameMousePanelRect = layoutOptions.frameMousePanelRect,\n          framePlaceholderSize = layoutOptions.framePlaceholderSize,\n          titlesMousePanelRect = layoutOptions.titlesMousePanelRect,\n          titlesPlaceholderSize = layoutOptions.titlesPlaceholderSize,\n          scrollPanelRect = layoutOptions.scrollPanelRect,\n          mousePanelSize = layoutOptions.mousePanelSize,\n          placeholderSize = layoutOptions.placeholderSize;\n      this.layoutOptions = {\n        autoSize: autoSize,\n        controlSize: new _basicprimitives.Size(controlSize),\n        scale: scale,\n        frameMousePanelRect: new _basicprimitives.Rect(frameMousePanelRect),\n        framePlaceholderSize: new _basicprimitives.Size(framePlaceholderSize),\n        titlesMousePanelRect: new _basicprimitives.Rect(titlesMousePanelRect),\n        titlesPlaceholderSize: new _basicprimitives.Size(titlesPlaceholderSize),\n        scrollPanelRect: new _basicprimitives.Rect(scrollPanelRect),\n        mousePanelSize: new _basicprimitives.Size(mousePanelSize),\n        placeholderSize: new _basicprimitives.Size(placeholderSize)\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var graphics = this.graphics;\n      this.tasks.process('OptionsTask', null, false);\n      var _this$graphics$placeh = this.graphics.placeholders,\n          placeholder = _this$graphics$placeh.placeholder,\n          calloutplaceholder = _this$graphics$placeh.calloutplaceholder,\n          frameplaceholder = _this$graphics$placeh.frameplaceholder,\n          titlesplaceholder = _this$graphics$placeh.titlesplaceholder;\n      var placeholderRectCSS = placeholder.rect.getCSS();\n      var _this$layoutOptions = this.layoutOptions,\n          autoSize = _this$layoutOptions.autoSize,\n          controlSize = _this$layoutOptions.controlSize,\n          scale = _this$layoutOptions.scale,\n          frameMousePanelRect = _this$layoutOptions.frameMousePanelRect,\n          titlesMousePanelRect = _this$layoutOptions.titlesMousePanelRect,\n          scrollPanelRect = _this$layoutOptions.scrollPanelRect,\n          mousePanelSize = _this$layoutOptions.mousePanelSize;\n      /* set CSS scale of content */\n\n      var scaletext = \"scale(\" + scale + \",\" + scale + \")\";\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        /* root control panel */\n        ref: this.controlPanelRef,\n        onKeyDown: this.onKeyDown,\n        style: _objectSpread({\n          position: \"relative\",\n          overflow: \"hidden\",\n          top: \"0px\",\n          left: \"0px\",\n          width: \"100%\",\n          height: \"100%\",\n          padding: \"0px\",\n          marginBottom: \"0px\",\n          marginRight: \"0px\"\n        }, autoSize ? controlSize.getCSS() : {}),\n        tabIndex: \"0\"\n      }, frameplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.frameMousePanelRef,\n        onMouseMove: this.onFrameMouseMove,\n        onClick: this.onFrameClick,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, frameMousePanelRect.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.framePlaceholderRef,\n        style: _objectSpread(_objectSpread({}, frameplaceholder.rect.getCSS()), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n\n        })\n      }, graphics.map(this, \"frameplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }))), titlesplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.titlesMousePanelRef,\n        onMouseMove: this.onFrameMouseMove,\n        onClick: this.onFrameClick,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, titlesMousePanelRect.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.titlesPlaceholderRef,\n        style: _objectSpread(_objectSpread({}, titlesplaceholder.rect.getCSS()), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n\n        })\n      }, graphics.map(this, \"titlesplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.scrollPanelRef,\n        onScroll: this.onScroll,\n        style: _objectSpread(_objectSpread({\n          position: \"absolute\",\n          overflow: \"auto\",\n          WebkitOverflowScrolling: \"touch\"\n        }, scrollPanelRect.getCSS()), {}, {\n          border: scrollPanelRect.x > 0 ? \"1px dotted #dddddd\" : \"\"\n        })\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.mousePanelRef,\n        onMouseMove: this.onMouseMove,\n        onClick: this.onClick,\n        onChange: this.onCheckboxChange,\n        style: _objectSpread({\n          position: \"absolute\",\n          overflow: \"hidden\"\n        }, mousePanelSize.getCSS())\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.placeholderRef,\n        style: _objectSpread(_objectSpread({}, placeholderRectCSS), {}, {\n          position: \"absolute\",\n          overflow: \"hidden\",\n          \"transformOrigin\": \"0 0\",\n          \"transform\": scaletext,\n          \"msTransform\": scaletext,\n\n          /* IE 9 */\n          \"WebkitTransform\": scaletext,\n\n          /* Safari and Chrome */\n          \"OTransform\": scaletext,\n\n          /* Opera */\n          \"MozTransform\": scaletext\n          /* Firefox */\n\n        })\n      }, graphics.map(this, \"placeholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\",\n            left: \"0px\",\n            top: \"0px\"\n          }\n        }, elements);\n      }), calloutplaceholder && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: \"Callout\",\n        ref: this.calloutPlaceholderRef,\n        style: {\n          position: \"absolute\",\n          overflow: \"visible\",\n          left: calloutplaceholder.rect.x + \"px\",\n          top: calloutplaceholder.rect.y + \"px\"\n        }\n      }, graphics.map(this, \"calloutplaceholder\", function (layerKey, elements) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: layerKey,\n          style: {\n            position: \"absolute\",\n            overflow: \"visible\"\n          }\n        }, elements);\n      })))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, state) {\n      var nextConfig = nextProps.config,\n          centerOnCursor = nextProps.centerOnCursor;\n      var config = state.config;\n\n      if (config !== nextConfig) {\n        var highlightItem = nextConfig.highlightItem,\n            cursorItem = nextConfig.cursorItem,\n            selectedItems = nextConfig.selectedItems;\n        return {\n          config: nextConfig,\n          highlightItem: highlightItem,\n          cursorItem: cursorItem,\n          selectedItems: (selectedItems || []).slice(),\n          centerOnCursor: centerOnCursor\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return BaseDiagram;\n}(_react.Component);\n\n_defineProperty(BaseDiagram, \"propTypes\", {\n  centerOnCursor: _propTypes[\"default\"].bool,\n  // eslint-disable-line react/no-unused-prop-types\n  onHighlightChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onHighlightChanged: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onCursorChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onCursorChanged: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onSelectionChanging: _propTypes[\"default\"].func,\n  // eslint-disable-line react/no-unused-prop-types\n  onSelectionChanged: _propTypes[\"default\"].func // eslint-disable-line react/no-unused-prop-types\n\n});\n\n_defineProperty(BaseDiagram, \"defaultProps\", {\n  centerOnCursor: true,\n  onHighlightChanging: null,\n  onHighlightChanged: null,\n  onCursorChanging: null,\n  onCursorChanged: null,\n  onSelectionChanging: null,\n  onSelectionChanged: null\n});\n\nvar _default = BaseDiagram;\nexports[\"default\"] = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}