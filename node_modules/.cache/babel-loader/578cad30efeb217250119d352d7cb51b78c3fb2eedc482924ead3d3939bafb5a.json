{"ast":null,"code":"export default function FamilyMargins() {\n  this.items = [];\n  function Margin(left, right, leftIndex, rightIndex) {\n    this.left = left;\n    this.right = right;\n    this.leftIndex = leftIndex;\n    this.rightIndex = rightIndex;\n  }\n  this.add = function (arg0, arg1, arg2, arg3) {\n    switch (arguments.length) {\n      case 2:\n        this.items.push(new Margin(-arg0 / 2, arg0 / 2, arg1, arg1));\n        break;\n      case 4:\n        this.items.push(new Margin(arg0, arg1, arg2, arg3));\n        break;\n    }\n  };\n  this.merge = function (from, interval) {\n    var distance = this.getDistanceTo(from);\n    var leftOffset = 0;\n    var rightOffset = 0;\n    var len1 = this.items.length;\n    var len2 = from.items.length;\n    var min = Math.min(len1, len2);\n    var max = Math.max(len1, len2);\n    for (var index = 0; index < min; index += 1) {\n      var leftMargin = this.items[len1 - 1 - index];\n      var rightMargin = from.items[len2 - 1 - index];\n      if (index === 0) {\n        var width = leftMargin.right - leftMargin.left + (distance || 0) + (interval || 0) + rightMargin.right - rightMargin.left;\n        leftOffset = width / 2 + leftMargin.left;\n        rightOffset = width / 2 - rightMargin.right;\n      }\n      leftMargin.left -= leftOffset;\n      leftMargin.right = rightMargin.right + rightOffset;\n      leftMargin.rightIndex = rightMargin.rightIndex;\n      this.items[max - 1 - index] = leftMargin;\n    }\n    for (index = min; index < max; index += 1) {\n      leftMargin = this.items[len1 - 1 - index];\n      rightMargin = from.items[len2 - 1 - index];\n      if (leftMargin == null) {\n        this.items[max - 1 - index] = new Margin(rightMargin.left + rightOffset, rightMargin.right + rightOffset, rightMargin.leftIndex, rightMargin.rightIndex);\n      } else {\n        leftMargin.left -= leftOffset;\n        leftMargin.right -= leftOffset;\n      }\n    }\n    return distance;\n  };\n  this.attach = function (from, interval) {\n    var distance = this.getDistanceTo(from);\n    var rightOffset = interval || 0;\n    var len1 = this.items.length;\n    var len2 = from.items.length;\n    var min = Math.min(len1, len2);\n    var max = Math.max(len1, len2);\n    for (var index = 0; index < min; index += 1) {\n      var leftMargin = this.items[len1 - 1 - index];\n      var rightMargin = from.items[len2 - 1 - index];\n      if (index === 0) {\n        rightOffset = leftMargin.right + (distance || 0) + (interval || 0) - rightMargin.left;\n      }\n      leftMargin.right = rightMargin.right + rightOffset;\n      leftMargin.rightIndex = rightMargin.rightIndex;\n      this.items[max - 1 - index] = leftMargin;\n    }\n    for (index = min; index < max; index += 1) {\n      leftMargin = this.items[len1 - 1 - index];\n      if (leftMargin == null) {\n        rightMargin = from.items[len2 - 1 - index];\n        this.items[max - 1 - index] = new Margin(rightMargin.left + rightOffset, rightMargin.right + rightOffset, rightMargin.leftIndex, rightMargin.rightIndex);\n      }\n    }\n    return distance;\n  };\n  this.getDistanceTo = function (to) {\n    var distance = null;\n    var baseDistance = 0;\n    var len1 = this.items.length;\n    var len2 = to.items.length;\n    var len = Math.min(len1, len2);\n    if (len > 0) {\n      for (var index = 0; index < len; index += 1) {\n        var leftMargins = this.items[len1 - 1 - index];\n        var rightMargins = to.items[len2 - 1 - index];\n        if (index === 0) {\n          baseDistance = leftMargins.right - rightMargins.left;\n          distance = baseDistance;\n        } else {\n          if (leftMargins.rightIndex < rightMargins.leftIndex) {\n            distance = Math.max(distance, leftMargins.right - rightMargins.left);\n          }\n        }\n      }\n      distance = distance - baseDistance;\n    }\n    return distance;\n  };\n  this.loop = function (thisArg, onItem) {\n    if (onItem != null) {\n      for (var index = 0, len = this.items.length; index < len; index += 1) {\n        var margin = this.items[len - 1 - index];\n        if (onItem.call(thisArg, index, margin.left, margin.right, margin.leftIndex, margin.rightIndex)) {\n          break;\n        }\n      }\n    }\n  };\n  this.getLeft = function (level) {\n    var maximum = this.items.length - 1;\n    if (maximum >= level) {\n      return this.items[maximum - level].left;\n    }\n  };\n}\n;","map":{"version":3,"names":["FamilyMargins","items","Margin","left","right","leftIndex","rightIndex","add","arg0","arg1","arg2","arg3","arguments","length","push","merge","from","interval","distance","getDistanceTo","leftOffset","rightOffset","len1","len2","min","Math","max","index","leftMargin","rightMargin","width","attach","to","baseDistance","len","leftMargins","rightMargins","loop","thisArg","onItem","margin","call","getLeft","level","maximum"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/algorithms/FamilyMargins.js"],"sourcesContent":["export default function FamilyMargins() {\r\n  this.items = [];\r\n\r\n  function Margin(left, right, leftIndex, rightIndex) {\r\n    this.left = left;\r\n    this.right = right;\r\n    this.leftIndex = leftIndex;\r\n    this.rightIndex = rightIndex;\r\n  }\r\n\r\n  this.add = function (arg0, arg1, arg2, arg3) {\r\n    switch (arguments.length) {\r\n      case 2:\r\n        this.items.push(new Margin(-arg0 / 2, arg0 / 2, arg1, arg1));\r\n        break;\r\n      case 4:\r\n        this.items.push(new Margin(arg0, arg1, arg2, arg3));\r\n        break;\r\n    }\r\n  };\r\n\r\n  this.merge = function (from, interval) {\r\n    var distance = this.getDistanceTo(from);\r\n    var leftOffset = 0;\r\n    var rightOffset = 0;\r\n\r\n    var len1 = this.items.length;\r\n    var len2 = from.items.length;\r\n    var min = Math.min(len1, len2);\r\n    var max = Math.max(len1, len2);\r\n\r\n    for (var index = 0; index < min; index += 1) {\r\n      var leftMargin = this.items[len1 - 1 - index];\r\n      var rightMargin = from.items[len2 - 1 - index];\r\n\r\n      if (index === 0) {\r\n        var width = (leftMargin.right - leftMargin.left + (distance || 0) + (interval || 0) + rightMargin.right - rightMargin.left);\r\n        leftOffset = width / 2 + leftMargin.left;\r\n        rightOffset = width / 2 - rightMargin.right;\r\n      }\r\n      leftMargin.left -= leftOffset;\r\n      leftMargin.right = rightMargin.right + rightOffset;\r\n\r\n      leftMargin.rightIndex = rightMargin.rightIndex;\r\n\r\n      this.items[max - 1 - index] = leftMargin;\r\n    }\r\n    for (index = min; index < max; index += 1) {\r\n      leftMargin = this.items[len1 - 1 - index];\r\n      rightMargin = from.items[len2 - 1 - index];\r\n\r\n      if (leftMargin == null) {\r\n        this.items[max - 1 - index] = new Margin(rightMargin.left + rightOffset, rightMargin.right + rightOffset,\r\n          rightMargin.leftIndex, rightMargin.rightIndex);\r\n      } else {\r\n        leftMargin.left -= leftOffset;\r\n        leftMargin.right -= leftOffset;\r\n      }\r\n\r\n    }\r\n    return distance;\r\n  };\r\n\r\n  this.attach = function (from, interval) {\r\n    var distance = this.getDistanceTo(from);\r\n    var rightOffset = interval || 0;\r\n\r\n    var len1 = this.items.length;\r\n    var len2 = from.items.length;\r\n    var min = Math.min(len1, len2);\r\n    var max = Math.max(len1, len2);\r\n\r\n    for (var index = 0; index < min; index += 1) {\r\n      var leftMargin = this.items[len1 - 1 - index];\r\n      var rightMargin = from.items[len2 - 1 - index];\r\n\r\n      if (index === 0) {\r\n        rightOffset = (leftMargin.right + (distance || 0) + (interval || 0) - rightMargin.left);\r\n      }\r\n      leftMargin.right = rightMargin.right + rightOffset;\r\n\r\n      leftMargin.rightIndex = rightMargin.rightIndex;\r\n\r\n      this.items[max - 1 - index] = leftMargin;\r\n    }\r\n    for (index = min; index < max; index += 1) {\r\n      leftMargin = this.items[len1 - 1 - index];\r\n      if (leftMargin == null) {\r\n        rightMargin = from.items[len2 - 1 - index];\r\n\r\n        this.items[max - 1 - index] = new Margin(rightMargin.left + rightOffset, rightMargin.right + rightOffset,\r\n          rightMargin.leftIndex, rightMargin.rightIndex);\r\n      }\r\n    }\r\n    return distance;\r\n  };\r\n\r\n  this.getDistanceTo = function (to) {\r\n    var distance = null;\r\n    var baseDistance = 0;\r\n    var len1 = this.items.length;\r\n    var len2 = to.items.length;\r\n    var len = Math.min(len1, len2);\r\n    if (len > 0) {\r\n      for (var index = 0; index < len; index += 1) {\r\n        var leftMargins = this.items[len1 - 1 - index];\r\n        var rightMargins = to.items[len2 - 1 - index];\r\n\r\n\r\n        if (index === 0) {\r\n          baseDistance = leftMargins.right - rightMargins.left;\r\n          distance = baseDistance;\r\n        } else {\r\n          if (leftMargins.rightIndex < rightMargins.leftIndex) {\r\n            distance = Math.max(distance, leftMargins.right - rightMargins.left);\r\n          }\r\n        }\r\n      }\r\n      distance = distance - baseDistance;\r\n    }\r\n\r\n    return distance;\r\n  };\r\n\r\n  this.loop = function (thisArg, onItem) {\r\n    if (onItem != null) {\r\n      for (var index = 0, len = this.items.length; index < len; index += 1) {\r\n        var margin = this.items[len - 1 - index];\r\n        if (onItem.call(thisArg, index, margin.left, margin.right, margin.leftIndex, margin.rightIndex)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  this.getLeft = function (level) {\r\n    var maximum = this.items.length - 1;\r\n    if (maximum >= level) {\r\n      return this.items[maximum - level].left;\r\n    }\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}