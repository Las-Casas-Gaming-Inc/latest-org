{"ast":null,"code":"import Rect from '../../graphics/structs/Rect';\nimport RenderEventArgs from '../../events/RenderEventArgs';\nimport { Layers, Visibility } from '../../enums';\nexport default function DrawHighlightTask(getGraphics, createTransformTask, applyLayoutChangesTask, combinedContextsTask, alignDiagramTask, itemTemplateParamsTask, highlightItemTask, cursorItemTask, selectedItemsTask) {\n  var _graphics, _transform;\n  function process() {\n    var treeItemId = highlightItemTask.getHighlightTreeItem();\n    _graphics = getGraphics();\n    _graphics.reset(\"placeholder\", Layers.Highlight);\n    if (treeItemId != null) {\n      _transform = createTransformTask.getTransform();\n      drawHighlight(treeItemId);\n    }\n    return false;\n  }\n  function drawHighlight(treeItemId) {\n    var uiHash,\n      panel = _graphics.activate(\"placeholder\", Layers.Highlight),\n      treeItemPosition = alignDiagramTask.getItemPosition(treeItemId),\n      actualPosition = treeItemPosition.actualPosition,\n      templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\n      template = templateParams.template,\n      templateConfig = template.templateConfig,\n      highlightPadding = templateConfig.highlightPadding;\n    uiHash = new RenderEventArgs();\n    uiHash.context = combinedContextsTask.getConfig(treeItemId);\n    uiHash.isCursor = cursorItemTask.getCursorTreeItem() == treeItemId;\n    uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\n    uiHash.templateName = templateConfig.name;\n    _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true, this, function (x, y, width, height) {\n      var position = new Rect(0, 0, Math.round(width), Math.round(height));\n      position.offset(highlightPadding.left, highlightPadding.top, highlightPadding.right, highlightPadding.bottom);\n      var element;\n      if (treeItemPosition.actualVisibility == Visibility.Normal) {\n        element = _graphics.template(x, y, width, height, position.x, position.y, position.width, position.height, template.highlightTemplate.template(), template.highlightTemplate.getHashCode(), template.highlightTemplate.render, uiHash, {\n          \"borderWidth\": templateConfig.highlightBorderWidth\n        });\n      } else {\n        element = _graphics.template(Math.round(x), Math.round(y), Math.round(width), Math.round(height), Math.round(position.x), Math.round(position.y), Math.round(position.width), Math.round(position.height), template.dotHighlightTemplate.template(), template.dotHighlightTemplate.getHashCode(), template.dotHighlightTemplate.render, uiHash, {\n          \"borderWidth\": templateConfig.highlightBorderWidth\n        });\n      }\n    });\n  }\n  return {\n    process: process\n  };\n}\n;","map":{"version":3,"names":["Rect","RenderEventArgs","Layers","Visibility","DrawHighlightTask","getGraphics","createTransformTask","applyLayoutChangesTask","combinedContextsTask","alignDiagramTask","itemTemplateParamsTask","highlightItemTask","cursorItemTask","selectedItemsTask","_graphics","_transform","process","treeItemId","getHighlightTreeItem","reset","Highlight","getTransform","drawHighlight","uiHash","panel","activate","treeItemPosition","getItemPosition","actualPosition","templateParams","getTemplateParams","template","templateConfig","highlightPadding","context","getConfig","isCursor","getCursorTreeItem","isSelected","templateName","name","transformRect","x","y","width","height","position","Math","round","offset","left","top","right","bottom","element","actualVisibility","Normal","highlightTemplate","getHashCode","render","highlightBorderWidth","dotHighlightTemplate"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/renders/DrawHighlightTask.js"],"sourcesContent":["import Rect from '../../graphics/structs/Rect';\r\nimport RenderEventArgs from '../../events/RenderEventArgs';\r\nimport { Layers, Visibility } from '../../enums';\r\n\r\nexport default function DrawHighlightTask(getGraphics, createTransformTask, applyLayoutChangesTask,\r\n  combinedContextsTask,\r\n  alignDiagramTask, itemTemplateParamsTask,\r\n  highlightItemTask, cursorItemTask, selectedItemsTask) {\r\n  var _graphics,\r\n    _transform;\r\n\r\n  function process() {\r\n    var treeItemId = highlightItemTask.getHighlightTreeItem();\r\n\r\n    _graphics = getGraphics();\r\n    _graphics.reset(\"placeholder\", Layers.Highlight);\r\n\r\n    if (treeItemId != null) {\r\n      _transform = createTransformTask.getTransform();\r\n      drawHighlight(treeItemId);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function drawHighlight(treeItemId) {\r\n    var uiHash,\r\n      panel = _graphics.activate(\"placeholder\", Layers.Highlight),\r\n      treeItemPosition = alignDiagramTask.getItemPosition(treeItemId),\r\n      actualPosition = treeItemPosition.actualPosition,\r\n      templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\r\n      template = templateParams.template,\r\n      templateConfig = template.templateConfig,\r\n      highlightPadding = templateConfig.highlightPadding;\r\n\r\n    uiHash = new RenderEventArgs();\r\n    uiHash.context = combinedContextsTask.getConfig(treeItemId);\r\n    uiHash.isCursor = (cursorItemTask.getCursorTreeItem() == treeItemId);\r\n    uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\r\n    uiHash.templateName = templateConfig.name;\r\n\r\n    _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true,\r\n      this, function (x, y, width, height) {\r\n        var position = new Rect(0, 0, Math.round(width), Math.round(height));\r\n        position.offset(highlightPadding.left, highlightPadding.top, highlightPadding.right, highlightPadding.bottom);\r\n\r\n        var element;\r\n        if (treeItemPosition.actualVisibility == Visibility.Normal) {\r\n          element = _graphics.template(\r\n            x\r\n            , y\r\n            , width\r\n            , height\r\n            , position.x\r\n            , position.y\r\n            , position.width\r\n            , position.height\r\n            , template.highlightTemplate.template()\r\n            , template.highlightTemplate.getHashCode()\r\n            , template.highlightTemplate.render\r\n            , uiHash\r\n            , { \"borderWidth\": templateConfig.highlightBorderWidth }\r\n          );\r\n        } else {\r\n          element = _graphics.template(\r\n            Math.round(x)\r\n            , Math.round(y)\r\n            , Math.round(width)\r\n            , Math.round(height)\r\n            , Math.round(position.x)\r\n            , Math.round(position.y)\r\n            , Math.round(position.width)\r\n            , Math.round(position.height)\r\n            , template.dotHighlightTemplate.template()\r\n            , template.dotHighlightTemplate.getHashCode()\r\n            , template.dotHighlightTemplate.render\r\n            , uiHash\r\n            , { \"borderWidth\": templateConfig.highlightBorderWidth }\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  return {\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}