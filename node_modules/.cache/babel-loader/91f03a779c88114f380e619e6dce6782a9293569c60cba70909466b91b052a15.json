{"ast":null,"code":"import ArrayReader from '../../../readers/ArrayReader';\nimport ValueReader from '../../../readers/ValueReader';\nimport { PageFitMode, Visibility } from '../../../enums';\nexport default function CombinedNormalVisibilityItemsTask(itemsSizesOptionTask, cursorItemTask, cursorNeighboursTask, selectedItemsTask, selectionPathItemsTask, normalVisibilityItemsByForegroundShapeAnnotationTask, normalVisibilityItemsByBackgroundShapeAnnotationTask, normalVisibilityItemsByBackgroundAnnotationTask, normalVisibilityItemsByForegroundHighlightPathAnnotationTask, normalVisibilityItemsByBackgroundHighlightPathAnnotationTask, normalVisibilityItemsByForegroundConnectorAnnotationTask, normalVisibilityItemsByBackgroundConnectorAnnotationTask, NormalVisibilityItemsByMinimumVisibleLevelsTask) {\n  var _data = {\n      items: []\n    },\n    _hash = {},\n    _sourceTasks = [cursorItemTask, cursorNeighboursTask, selectedItemsTask, selectionPathItemsTask, normalVisibilityItemsByForegroundShapeAnnotationTask, normalVisibilityItemsByBackgroundShapeAnnotationTask, normalVisibilityItemsByBackgroundAnnotationTask, normalVisibilityItemsByForegroundHighlightPathAnnotationTask, normalVisibilityItemsByBackgroundHighlightPathAnnotationTask, normalVisibilityItemsByForegroundConnectorAnnotationTask, normalVisibilityItemsByBackgroundConnectorAnnotationTask, NormalVisibilityItemsByMinimumVisibleLevelsTask],\n    _dataTemplate = new ArrayReader(new ValueReader([\"string\", \"number\"], true), true);\n  function process() {\n    var context = {\n        isChanged: false,\n        hash: _hash\n      },\n      itemsSizesOption = itemsSizesOptionTask.getOptions();\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(_sourceTasks), \"items\", context);\n    if (itemsSizesOption.pageFitMode == PageFitMode.None || itemsSizesOption.minimalVisibility == Visibility.Normal) {\n      context.isChanged = false;\n    }\n    return context.isChanged;\n  }\n  function getSelectedItems(sourceTasks, getItemOptions) {\n    var result = [],\n      sourceIndex,\n      sourceLen,\n      sourceTask,\n      index,\n      len,\n      items,\n      item,\n      processed = {};\n    for (sourceIndex = 0, sourceLen = sourceTasks.length; sourceIndex < sourceLen; sourceIndex += 1) {\n      sourceTask = sourceTasks[sourceIndex];\n      items = sourceTask.getItems();\n      for (index = 0, len = items.length; index < len; index += 1) {\n        item = items[index];\n        if (!processed.hasOwnProperty(item)) {\n          result.push(item);\n          processed[item] = true;\n        }\n      }\n    }\n    return result;\n  }\n  function isItemSelected(treeItem) {\n    return _hash.items.hasOwnProperty(treeItem);\n  }\n  return {\n    process: process,\n    isItemSelected: isItemSelected\n  };\n}\n;","map":{"version":3,"names":["ArrayReader","ValueReader","PageFitMode","Visibility","CombinedNormalVisibilityItemsTask","itemsSizesOptionTask","cursorItemTask","cursorNeighboursTask","selectedItemsTask","selectionPathItemsTask","normalVisibilityItemsByForegroundShapeAnnotationTask","normalVisibilityItemsByBackgroundShapeAnnotationTask","normalVisibilityItemsByBackgroundAnnotationTask","normalVisibilityItemsByForegroundHighlightPathAnnotationTask","normalVisibilityItemsByBackgroundHighlightPathAnnotationTask","normalVisibilityItemsByForegroundConnectorAnnotationTask","normalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask","_data","items","_hash","_sourceTasks","_dataTemplate","process","context","isChanged","hash","itemsSizesOption","getOptions","read","getSelectedItems","pageFitMode","None","minimalVisibility","Normal","sourceTasks","getItemOptions","result","sourceIndex","sourceLen","sourceTask","index","len","item","processed","length","getItems","hasOwnProperty","push","isItemSelected","treeItem"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/transformations/selection/CombinedNormalVisibilityItemsTask.js"],"sourcesContent":["import ArrayReader from '../../../readers/ArrayReader';\r\nimport ValueReader from '../../../readers/ValueReader';\r\nimport { PageFitMode, Visibility } from '../../../enums';\r\n\r\nexport default function CombinedNormalVisibilityItemsTask(itemsSizesOptionTask, cursorItemTask, cursorNeighboursTask, selectedItemsTask, selectionPathItemsTask,\r\n  normalVisibilityItemsByForegroundShapeAnnotationTask, normalVisibilityItemsByBackgroundShapeAnnotationTask,\r\n  normalVisibilityItemsByBackgroundAnnotationTask,\r\n  normalVisibilityItemsByForegroundHighlightPathAnnotationTask, normalVisibilityItemsByBackgroundHighlightPathAnnotationTask,\r\n  normalVisibilityItemsByForegroundConnectorAnnotationTask, normalVisibilityItemsByBackgroundConnectorAnnotationTask,\r\n  NormalVisibilityItemsByMinimumVisibleLevelsTask\r\n) {\r\n  var _data = {\r\n    items: []\r\n  },\r\n    _hash = {},\r\n    _sourceTasks = [\r\n      cursorItemTask,\r\n      cursorNeighboursTask,\r\n      selectedItemsTask,\r\n      selectionPathItemsTask,\r\n      normalVisibilityItemsByForegroundShapeAnnotationTask, normalVisibilityItemsByBackgroundShapeAnnotationTask,\r\n      normalVisibilityItemsByBackgroundAnnotationTask,\r\n      normalVisibilityItemsByForegroundHighlightPathAnnotationTask, normalVisibilityItemsByBackgroundHighlightPathAnnotationTask,\r\n      normalVisibilityItemsByForegroundConnectorAnnotationTask, normalVisibilityItemsByBackgroundConnectorAnnotationTask,\r\n      NormalVisibilityItemsByMinimumVisibleLevelsTask\r\n    ],\r\n    _dataTemplate = new ArrayReader(\r\n      new ValueReader([\"string\", \"number\"], true),\r\n      true\r\n    );\r\n\r\n\r\n  function process() {\r\n    var context = {\r\n      isChanged: false,\r\n      hash: _hash\r\n    },\r\n      itemsSizesOption = itemsSizesOptionTask.getOptions();\r\n\r\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(_sourceTasks), \"items\", context);\r\n\r\n    if (itemsSizesOption.pageFitMode == PageFitMode.None || itemsSizesOption.minimalVisibility == Visibility.Normal) {\r\n      context.isChanged = false;\r\n    }\r\n\r\n    return context.isChanged;\r\n  }\r\n\r\n  function getSelectedItems(sourceTasks, getItemOptions) {\r\n    var result = [],\r\n      sourceIndex, sourceLen,\r\n      sourceTask,\r\n      index, len,\r\n      items, item,\r\n      processed = {};\r\n\r\n    for (sourceIndex = 0, sourceLen = sourceTasks.length; sourceIndex < sourceLen; sourceIndex += 1) {\r\n      sourceTask = sourceTasks[sourceIndex];\r\n      items = sourceTask.getItems();\r\n\r\n      for (index = 0, len = items.length; index < len; index += 1) {\r\n        item = items[index];\r\n\r\n        if (!processed.hasOwnProperty(item)) {\r\n          result.push(item);\r\n          processed[item] = true;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function isItemSelected(treeItem) {\r\n    return _hash.items.hasOwnProperty(treeItem);\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    isItemSelected: isItemSelected\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,WAAW,MAAM,8BAA8B;AACtD,OAAOC,WAAW,MAAM,8BAA8B;AACtD,SAASC,WAAW,EAAEC,UAAU,QAAQ,gBAAgB;AAExD,eAAe,SAASC,iCAAiCA,CAACC,oBAAoB,EAAEC,cAAc,EAAEC,oBAAoB,EAAEC,iBAAiB,EAAEC,sBAAsB,EAC7JC,oDAAoD,EAAEC,oDAAoD,EAC1GC,+CAA+C,EAC/CC,4DAA4D,EAAEC,4DAA4D,EAC1HC,wDAAwD,EAAEC,wDAAwD,EAClHC,+CAA+C,EAC/C;EACA,IAAIC,KAAK,GAAG;MACVC,KAAK,EAAE;IACT,CAAC;IACCC,KAAK,GAAG,CAAC,CAAC;IACVC,YAAY,GAAG,CACbf,cAAc,EACdC,oBAAoB,EACpBC,iBAAiB,EACjBC,sBAAsB,EACtBC,oDAAoD,EAAEC,oDAAoD,EAC1GC,+CAA+C,EAC/CC,4DAA4D,EAAEC,4DAA4D,EAC1HC,wDAAwD,EAAEC,wDAAwD,EAClHC,+CAA+C,CAChD;IACDK,aAAa,GAAG,IAAItB,WAAW,CAC7B,IAAIC,WAAW,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EAC3C,IACF,CAAC;EAGH,SAASsB,OAAOA,CAAA,EAAG;IACjB,IAAIC,OAAO,GAAG;QACZC,SAAS,EAAE,KAAK;QAChBC,IAAI,EAAEN;MACR,CAAC;MACCO,gBAAgB,GAAGtB,oBAAoB,CAACuB,UAAU,CAAC,CAAC;IAEtDV,KAAK,CAACC,KAAK,GAAGG,aAAa,CAACO,IAAI,CAACX,KAAK,CAACC,KAAK,EAAEW,gBAAgB,CAACT,YAAY,CAAC,EAAE,OAAO,EAAEG,OAAO,CAAC;IAE/F,IAAIG,gBAAgB,CAACI,WAAW,IAAI7B,WAAW,CAAC8B,IAAI,IAAIL,gBAAgB,CAACM,iBAAiB,IAAI9B,UAAU,CAAC+B,MAAM,EAAE;MAC/GV,OAAO,CAACC,SAAS,GAAG,KAAK;IAC3B;IAEA,OAAOD,OAAO,CAACC,SAAS;EAC1B;EAEA,SAASK,gBAAgBA,CAACK,WAAW,EAAEC,cAAc,EAAE;IACrD,IAAIC,MAAM,GAAG,EAAE;MACbC,WAAW;MAAEC,SAAS;MACtBC,UAAU;MACVC,KAAK;MAAEC,GAAG;MACVvB,KAAK;MAAEwB,IAAI;MACXC,SAAS,GAAG,CAAC,CAAC;IAEhB,KAAKN,WAAW,GAAG,CAAC,EAAEC,SAAS,GAAGJ,WAAW,CAACU,MAAM,EAAEP,WAAW,GAAGC,SAAS,EAAED,WAAW,IAAI,CAAC,EAAE;MAC/FE,UAAU,GAAGL,WAAW,CAACG,WAAW,CAAC;MACrCnB,KAAK,GAAGqB,UAAU,CAACM,QAAQ,CAAC,CAAC;MAE7B,KAAKL,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGvB,KAAK,CAAC0B,MAAM,EAAEJ,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;QAC3DE,IAAI,GAAGxB,KAAK,CAACsB,KAAK,CAAC;QAEnB,IAAI,CAACG,SAAS,CAACG,cAAc,CAACJ,IAAI,CAAC,EAAE;UACnCN,MAAM,CAACW,IAAI,CAACL,IAAI,CAAC;UACjBC,SAAS,CAACD,IAAI,CAAC,GAAG,IAAI;QACxB;MACF;IACF;IACA,OAAON,MAAM;EACf;EAEA,SAASY,cAAcA,CAACC,QAAQ,EAAE;IAChC,OAAO9B,KAAK,CAACD,KAAK,CAAC4B,cAAc,CAACG,QAAQ,CAAC;EAC7C;EAEA,OAAO;IACL3B,OAAO,EAAEA,OAAO;IAChB0B,cAAc,EAAEA;EAClB,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}