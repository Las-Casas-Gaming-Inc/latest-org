{"ast":null,"code":"import BaseShape from './BaseShape';\nimport Callout from './Callout';\nimport Marker from './Marker';\nimport Size from '../structs/Size';\nimport Rect from '../structs/Rect';\nimport Thickness from '../structs/Thickness';\nimport PaletteItem from '../structs/PaletteItem';\nimport Transform from '../Transform';\nimport PolylinesBuffer from '../structs/PolylinesBuffer';\nimport { LineType, OrientationType, PlacementType, ShapeType } from '../../enums';\nexport default function Shape(graphics) {\n  this.m_graphics = graphics;\n  this.transform = null;\n  this.orientationType = OrientationType.Top;\n  this.panelSize = null;\n  this.shapeType = ShapeType.Rectangle;\n  this.offset = new Thickness(0, 0, 0, 0);\n  this.lineWidth = 1;\n  this.labelOffset = 4;\n  this.cornerRadius = \"10%\";\n  this.opacity = 1;\n  this.fillColor = null;\n  this.labelSize = new Size(60, 30);\n  this.lineType = LineType.Solid;\n  this.borderColor = null;\n  this.hasLabel = false;\n  this.labelTemplate = null;\n  this.labelPlacement = PlacementType.Auto;\n}\n;\nShape.prototype = new BaseShape();\nShape.prototype.draw = function (position, uiHash) {\n  var labelPlacement, calloutShape, linePaletteItem, buffer, marker;\n  position = new Rect(position).offset(this.offset);\n  this.transform = new Transform();\n  this.transform.size = this.panelSize;\n  this.transform.setOrientation(this.orientationType);\n\n  /* label size */\n  if (this.hasLabel) {\n    labelPlacement = this._getLabelPosition(position.x, position.y, position.width, position.height, this.labelSize.width, this.labelSize.height, this.labelOffset, this.labelPlacement);\n  }\n  switch (this.shapeType) {\n    case ShapeType.Rectangle:\n      calloutShape = new Callout(this.m_graphics);\n      calloutShape.cornerRadius = this.cornerRadius;\n      calloutShape.opacity = this.opacity;\n      calloutShape.lineWidth = this.lineWidth;\n      calloutShape.lineType = this.lineType;\n      calloutShape.borderColor = this.borderColor;\n      calloutShape.fillColor = this.fillColor;\n      calloutShape.draw(null, position);\n      break;\n    default:\n      linePaletteItem = new PaletteItem({\n        lineColor: this.borderColor,\n        lineWidth: this.lineWidth,\n        lineType: this.lineType,\n        fillColor: this.fillColor,\n        opacity: this.opacity\n      });\n\n      /* from rectangle */\n      this.transform.transformRect(position.x, position.y, position.width, position.height, false, this, function (x, y, width, height) {\n        position = new Rect(x, y, width, height);\n      });\n      marker = new Marker();\n      buffer = new PolylinesBuffer();\n      marker.draw(buffer, this.shapeType, position, linePaletteItem);\n      buffer.transform(this.transform, true);\n      this.m_graphics.polylinesBuffer(buffer);\n      break;\n  }\n  if (this.hasLabel) {\n    this.m_graphics.template(labelPlacement.x, labelPlacement.y, 0, 0, 0, 0, labelPlacement.width, labelPlacement.height, this.labelTemplate.template(), this.labelTemplate.getHashCode(), this.labelTemplate.render, uiHash, null);\n  }\n};","map":{"version":3,"names":["BaseShape","Callout","Marker","Size","Rect","Thickness","PaletteItem","Transform","PolylinesBuffer","LineType","OrientationType","PlacementType","ShapeType","Shape","graphics","m_graphics","transform","orientationType","Top","panelSize","shapeType","Rectangle","offset","lineWidth","labelOffset","cornerRadius","opacity","fillColor","labelSize","lineType","Solid","borderColor","hasLabel","labelTemplate","labelPlacement","Auto","prototype","draw","position","uiHash","calloutShape","linePaletteItem","buffer","marker","size","setOrientation","_getLabelPosition","x","y","width","height","lineColor","transformRect","polylinesBuffer","template","getHashCode","render"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/graphics/shapes/Shape.js"],"sourcesContent":["import BaseShape from './BaseShape';\r\nimport Callout from './Callout';\r\nimport Marker from './Marker';\r\nimport Size from '../structs/Size';\r\nimport Rect from '../structs/Rect';\r\nimport Thickness from '../structs/Thickness';\r\nimport PaletteItem from '../structs/PaletteItem';\r\nimport Transform from '../Transform';\r\nimport PolylinesBuffer from '../structs/PolylinesBuffer';\r\nimport { LineType, OrientationType, PlacementType, ShapeType } from '../../enums';\r\n\r\nexport default function Shape(graphics) {\r\n  this.m_graphics = graphics;\r\n  this.transform = null;\r\n\r\n  this.orientationType = OrientationType.Top;\r\n  this.panelSize = null;\r\n  this.shapeType = ShapeType.Rectangle;\r\n  this.offset = new Thickness(0, 0, 0, 0);\r\n  this.lineWidth = 1;\r\n  this.labelOffset = 4;\r\n  this.cornerRadius = \"10%\";\r\n  this.opacity = 1;\r\n  this.fillColor = null;\r\n  this.labelSize = new Size(60, 30);\r\n  this.lineType = LineType.Solid;\r\n  this.borderColor = null;\r\n  this.hasLabel = false;\r\n  this.labelTemplate = null;\r\n  this.labelPlacement = PlacementType.Auto;\r\n};\r\n\r\nShape.prototype = new BaseShape();\r\n\r\nShape.prototype.draw = function (position, uiHash) {\r\n  var labelPlacement,\r\n    calloutShape,\r\n    linePaletteItem,\r\n    buffer,\r\n    marker;\r\n\r\n  position = new Rect(position).offset(this.offset);\r\n\r\n  this.transform = new Transform();\r\n  this.transform.size = this.panelSize;\r\n  this.transform.setOrientation(this.orientationType);\r\n\r\n  /* label size */\r\n  if (this.hasLabel) {\r\n    labelPlacement = this._getLabelPosition(position.x, position.y, position.width, position.height, this.labelSize.width, this.labelSize.height, this.labelOffset, this.labelPlacement);\r\n  }\r\n\r\n\r\n  switch (this.shapeType) {\r\n    case ShapeType.Rectangle:\r\n      calloutShape = new Callout(this.m_graphics);\r\n      calloutShape.cornerRadius = this.cornerRadius;\r\n      calloutShape.opacity = this.opacity;\r\n      calloutShape.lineWidth = this.lineWidth;\r\n      calloutShape.lineType = this.lineType;\r\n      calloutShape.borderColor = this.borderColor;\r\n      calloutShape.fillColor = this.fillColor;\r\n      calloutShape.draw(null, position);\r\n      break;\r\n    default:\r\n      linePaletteItem = new PaletteItem({\r\n        lineColor: this.borderColor,\r\n        lineWidth: this.lineWidth,\r\n        lineType: this.lineType,\r\n        fillColor: this.fillColor,\r\n        opacity: this.opacity\r\n      });\r\n\r\n      /* from rectangle */\r\n      this.transform.transformRect(position.x, position.y, position.width, position.height, false,\r\n        this, function (x, y, width, height) {\r\n          position = new Rect(x, y, width, height);\r\n        });\r\n\r\n\r\n      marker = new Marker();\r\n      buffer = new PolylinesBuffer();\r\n      marker.draw(buffer, this.shapeType, position, linePaletteItem);\r\n      buffer.transform(this.transform, true);\r\n\r\n      this.m_graphics.polylinesBuffer(buffer);\r\n      break;\r\n  }\r\n\r\n  if (this.hasLabel) {\r\n    this.m_graphics.template(\r\n      labelPlacement.x,\r\n      labelPlacement.y,\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      labelPlacement.width,\r\n      labelPlacement.height,\r\n      this.labelTemplate.template(),\r\n      this.labelTemplate.getHashCode(),\r\n      this.labelTemplate.render,\r\n      uiHash,\r\n      null\r\n    );\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}