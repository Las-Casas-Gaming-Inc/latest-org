{"ast":null,"code":"/**\r\n * Creates self-balancing binary search tree structure.\r\n * @class SortedList\r\n * \r\n * @returns {SortedList} Returns sorted list collection. \r\n */\nexport default function SortedList() {\n  var _rootNode = null;\n  function Node(value, context) {\n    this.value = value;\n    this.context = context;\n    this.left = null;\n    this.right = null;\n    this.balance = 0;\n  }\n  function _rebalance(node) {\n    var balance;\n    if (node.balance == 2) {\n      var right = node.right;\n      balance = right.balance;\n      if (balance >= 0) {\n        _rotateSmallLeft(right, node);\n      } else {\n        _rotateBigLeft(right, node);\n      }\n    } else if (node.balance == -2) {\n      var left = node.left;\n      balance = left.balance;\n      if (balance <= 0) {\n        _rotateSmallRight(node.left, node);\n      } else {\n        _rotateBigRight(node.left, node);\n      }\n    }\n    return balance;\n  }\n  function _rotateSmallLeft(node, parent) {\n    _rotateLeft(node, parent);\n    if (node.balance == 1) {\n      parent.balance = 0;\n      node.balance = 0;\n    } else {\n      parent.balance = -1;\n      node.balance = 1;\n    }\n  }\n  function _rotateLeft(node, parent) {\n    _swap(node, parent);\n    parent.right = node.right;\n    node.right = node.left;\n    node.left = parent.left;\n    parent.left = node;\n  }\n  function _rotateSmallRight(node, parent) {\n    _rotateRight(node, parent);\n    if (node.balance == -1) {\n      parent.balance = 0;\n      node.balance = 0;\n    } else {\n      parent.balance = 1;\n      node.balance = -1;\n    }\n  }\n  function _rotateRight(node, parent) {\n    _swap(node, parent);\n    parent.left = node.left;\n    node.left = node.right;\n    node.right = parent.right;\n    parent.right = node;\n  }\n  function _rotateBigLeft(node, parent) {\n    var bottom = node.left;\n    _rotateRight(bottom, node);\n    _rotateLeft(node, parent);\n    parent.balance = 0;\n    switch (bottom.balance) {\n      case 1:\n        node.balance = -1;\n        bottom.balance = 0;\n        break;\n      case 0:\n        bottom.balance = 0;\n        node.balance = 0;\n        break;\n      default:\n        bottom.balance = 1;\n        node.balance = 0;\n        break;\n    }\n  }\n  function _rotateBigRight(node, parent) {\n    var bottom = node.right;\n    _rotateLeft(bottom, node);\n    _rotateRight(node, parent);\n    parent.balance = 0;\n    switch (bottom.balance) {\n      case -1:\n        bottom.balance = 0;\n        node.balance = 1;\n        break;\n      case 0:\n        bottom.balance = 0;\n        node.balance = 0;\n        break;\n      default:\n        bottom.balance = -1;\n        node.balance = 0;\n        break;\n    }\n  }\n\n  /**\r\n   * Callback function to notify about duplicate values\r\n   * \r\n   * @callback onSortedListDuplicateCallback\r\n   * @param {object} context The context object of the duplicate value\r\n   */\n\n  /**\r\n   * Adds value to sorted list collection\r\n   * @param {number} value The value \r\n   * @param {object} context The value context object\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {onSortedListDuplicateCallback} onDuplicate Callback function for duplicates values notification\r\n   */\n  function add(value, context, thisArg, onDuplicate) {\n    if (_rootNode == null) {\n      _rootNode = new Node(value, context);\n    } else {\n      var trace = [];\n      var node = null;\n      var next = _rootNode;\n      while (next != null) {\n        if (node != null) {\n          trace.push(node);\n        }\n        node = next;\n        if (node.value == value) {\n          if (onDuplicate != null) {\n            onDuplicate.call(thisArg, node.context);\n          } else {\n            throw \"Structure does not support duplicates.\";\n          }\n        } else {\n          if (node.value > value) {\n            next = node.left;\n          } else {\n            next = node.right;\n          }\n        }\n      }\n      trace.push(node);\n      var newNode = new Node(value, context);\n      if (node.value > value) {\n        node.left = newNode;\n      } else {\n        node.right = newNode;\n      }\n      node = newNode;\n      while ((next = trace.pop()) != null) {\n        if (node.value < next.value) {\n          if (next.balance < 0) {\n            next.balance -= 1;\n            _rebalance(next);\n            break;\n          } else {\n            if (next.balance > 0) {\n              next.balance -= 1;\n              break;\n            }\n            next.balance -= 1;\n          }\n        } else {\n          if (next.balance > 0) {\n            next.balance += 1;\n            _rebalance(next);\n            break;\n          } else {\n            if (next.balance < 0) {\n              next.balance += 1;\n              break;\n            }\n            next.balance += 1;\n          }\n        }\n        node = next;\n      }\n    }\n  }\n  function _delete(node, parent) {\n    var child = node.right != null ? node.right : node.left;\n    if (parent != null) {\n      if (parent.value > node.value) {\n        parent.left = child;\n      } else {\n        parent.right = child;\n      }\n    } else {\n      _rootNode = child;\n    }\n  }\n  function _swap(node1, node2) {\n    var value = node1.value;\n    node1.value = node2.value;\n    node2.value = value;\n    var context = node1.context;\n    node1.context = node2.context;\n    node2.context = context;\n  }\n  function _copy(fromNode, toNode) {\n    toNode.value = fromNode.value;\n    toNode.context = fromNode.context;\n  }\n\n  /**\r\n   * Removes value from the sorted list\r\n   * @param {number} value The removed value \r\n   */\n  function remove(value) {\n    var trace = [];\n    var node = _rootNode;\n    while (node != null) {\n      if (node.value == value) {\n        if (node.right != null && node.left != null) {\n          trace.push(node);\n          var next = node.right;\n          while (next.left != null) {\n            trace.push(next);\n            next = next.left;\n          }\n          _copy(next, node);\n          _delete(next, trace[trace.length - 1]);\n          trace.push(next);\n        } else {\n          _delete(node, trace[trace.length - 1]);\n          trace.push(node);\n        }\n        for (var index = trace.length - 2; index >= 0; index -= 1) {\n          var parent = trace[index];\n          node = trace[index + 1];\n          if (parent.value > node.value) {\n            if (parent.balance > 0) {\n              parent.balance += 1;\n              if (_rebalance(parent) === 0) {\n                break;\n              }\n            } else {\n              if (parent.balance === 0) {\n                parent.balance += 1;\n                break;\n              }\n              parent.balance += 1;\n            }\n          } else {\n            if (parent.balance < 0) {\n              parent.balance -= 1;\n              if (_rebalance(parent) === 0) {\n                break;\n              }\n            } else {\n              if (parent.balance === 0) {\n                parent.balance -= 1;\n                break;\n              }\n              parent.balance -= 1;\n            }\n          }\n        }\n        break;\n      } else {\n        trace.push(node);\n        if (node.value > value) {\n          node = node.left;\n        } else {\n          node = node.right;\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Returns context object of the next value following the given one\r\n   * @param {number} fromValue The value to start search from\r\n   * @returns {object} Returns context object of the first value in sorted list greater than the start value.\r\n   */\n  function nextContext(fromValue) {\n    var result = null;\n    loopForward(this, fromValue, function (value, context) {\n      result = context;\n      return true;\n    });\n    return result;\n  }\n\n  /**\r\n   * Callback function for iterating values of the sorted list\r\n   * \r\n   * @callback onSortedListItemCallback\r\n   * @param {number} value The value\r\n   * @param {object} context The value context object\r\n   * @returns {boolean} Returns true to break loop operation  \r\n   */\n\n  /**\r\n   * Loops sorted list values\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {number} fromValue The start value to loop items of sorted list\r\n   * @param {onSortedListItemCallback} onItem Callback function to iterate over sorted list values\r\n   */\n  function loopForward(thisArg, fromValue, onItem) {\n    //function onItem(value, context)\n    if (onItem != null) {\n      var trace = [];\n      var node = null;\n      var next = _rootNode;\n      while (next != null) {\n        node = next;\n        if (node.value >= fromValue || fromValue == null) {\n          trace.push(node);\n          next = node.left;\n        } else {\n          next = node.right;\n        }\n      }\n      while ((node = trace.pop()) != null) {\n        if (onItem.call(thisArg, node.value, node.context)) {\n          return;\n        }\n        next = node.right;\n        while (next != null) {\n          node = next;\n          if (node.left != null) {\n            trace.push(node);\n            next = node.left;\n          } else {\n            if (onItem.call(thisArg, node.value, node.context)) {\n              return;\n            }\n            next = node.right;\n          }\n        }\n      }\n    }\n  }\n\n  /**\r\n   * Returns context object of the previous value preceding the given one\r\n   * @param {number} fromValue The value to start search from\r\n   * @returns {object} Returns context object of the first value in sorted list less than the start value.\r\n   */\n  function previousContext(fromValue) {\n    var result = null;\n    loopBackward(this, fromValue, function (nextValue, context) {\n      result = context;\n      return true;\n    });\n    return result;\n  }\n\n  /**\r\n   * Loops sorted list values backward\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {number} fromValue The start value to loop items of sorted list\r\n   * @param {onSortedListItemCallback} onItem Callback function to iterate over sorted list values\r\n   */\n  function loopBackward(thisArg, fromValue, onItem) {\n    if (onItem != null) {\n      var trace = [];\n      var node = null;\n      var next = _rootNode;\n      while (next != null) {\n        node = next;\n        if (node.value <= fromValue || fromValue == null) {\n          trace.push(node);\n          next = node.right;\n        } else {\n          next = node.left;\n        }\n      }\n      while ((node = trace.pop()) != null) {\n        if (onItem.call(thisArg, node.value, node.context)) {\n          return;\n        }\n        next = node.left;\n        while (next != null) {\n          node = next;\n          if (node.right != null) {\n            trace.push(node);\n            next = node.right;\n          } else {\n            if (onItem.call(thisArg, node.value, node.context)) {\n              return;\n            }\n            next = node.left;\n          }\n        }\n      }\n    }\n  }\n  function _getValidationDepth(node) {\n    var level = [],\n      result = 0;\n    if (node != null) {\n      level.push(node);\n      while (level.length > 0) {\n        var newLevel = [];\n        for (var index = 0; index < level.length; index += 1) {\n          node = level[index];\n          if (node.left != null) {\n            newLevel.push(node.left);\n          }\n          if (node.right != null) {\n            newLevel.push(node.right);\n          }\n        }\n        level = newLevel;\n        result += 1;\n      }\n    }\n    return result;\n  }\n\n  /**\r\n   * Validate internal data consistency of the self-balancing binary search tree structure\r\n   * \r\n   * @returns {boolean} Returns true if structure pass validation\r\n   */\n  function validate() {\n    if (_rootNode != null) {\n      var level = [_rootNode];\n      while (level.length > 0) {\n        var newLevel = [];\n        for (var index = 0; index < level.length; index += 1) {\n          var node = level[index];\n          if (node.value == null) {\n            return false;\n          }\n          if (node.left != null) {\n            newLevel.push(node.left);\n            if (node.left.value >= node.value) {\n              return false;\n            }\n          }\n          if (node.right != null) {\n            newLevel.push(node.right);\n            if (node.right.value <= node.value) {\n              return false;\n            }\n          }\n          if (node.balance != _getValidationDepth(node.right) - _getValidationDepth(node.left)) {\n            // eslint-disable-next-line no-console\n            console.log(\"Disbalanced node: \" + node.value + \" - \" + JSON.stringify(_rootNode));\n            return false;\n          }\n        }\n        level = newLevel;\n      }\n    }\n    return true;\n  }\n  return {\n    add: add,\n    remove: remove,\n    loopForward: loopForward,\n    loopBackward: loopBackward,\n    nextContext: nextContext,\n    previousContext: previousContext,\n    validate: validate\n  };\n}\n;","map":{"version":3,"names":["SortedList","_rootNode","Node","value","context","left","right","balance","_rebalance","node","_rotateSmallLeft","_rotateBigLeft","_rotateSmallRight","_rotateBigRight","parent","_rotateLeft","_swap","_rotateRight","bottom","add","thisArg","onDuplicate","trace","next","push","call","newNode","pop","_delete","child","node1","node2","_copy","fromNode","toNode","remove","length","index","nextContext","fromValue","result","loopForward","onItem","previousContext","loopBackward","nextValue","_getValidationDepth","level","newLevel","validate","console","log","JSON","stringify"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/algorithms/SortedList.js"],"sourcesContent":["/**\r\n * Creates self-balancing binary search tree structure.\r\n * @class SortedList\r\n * \r\n * @returns {SortedList} Returns sorted list collection. \r\n */\r\nexport default function SortedList() {\r\n  var _rootNode = null;\r\n\r\n  function Node(value, context) {\r\n    this.value = value;\r\n    this.context = context;\r\n\r\n    this.left = null;\r\n    this.right = null;\r\n\r\n    this.balance = 0;\r\n  }\r\n\r\n  function _rebalance(node) {\r\n    var balance;\r\n    if (node.balance == 2) {\r\n      var right = node.right;\r\n      balance = right.balance;\r\n      if (balance >= 0) {\r\n        _rotateSmallLeft(right, node);\r\n      } else {\r\n        _rotateBigLeft(right, node);\r\n      }\r\n    } else if (node.balance == -2) {\r\n      var left = node.left;\r\n      balance = left.balance;\r\n      if (balance <= 0) {\r\n        _rotateSmallRight(node.left, node);\r\n      } else {\r\n        _rotateBigRight(node.left, node);\r\n      }\r\n    }\r\n    return balance;\r\n  }\r\n\r\n  function _rotateSmallLeft(node, parent) {\r\n    _rotateLeft(node, parent);\r\n\r\n    if (node.balance == 1) {\r\n      parent.balance = 0;\r\n      node.balance = 0;\r\n    } else {\r\n      parent.balance = -1;\r\n      node.balance = 1;\r\n    }\r\n  }\r\n\r\n  function _rotateLeft(node, parent) {\r\n    _swap(node, parent);\r\n    parent.right = node.right;\r\n    node.right = node.left;\r\n    node.left = parent.left;\r\n    parent.left = node;\r\n  }\r\n\r\n  function _rotateSmallRight(node, parent) {\r\n    _rotateRight(node, parent);\r\n\r\n    if (node.balance == -1) {\r\n      parent.balance = 0;\r\n      node.balance = 0;\r\n    } else {\r\n      parent.balance = 1;\r\n      node.balance = -1;\r\n    }\r\n  }\r\n\r\n  function _rotateRight(node, parent) {\r\n    _swap(node, parent);\r\n    parent.left = node.left;\r\n    node.left = node.right;\r\n    node.right = parent.right;\r\n    parent.right = node;\r\n  }\r\n\r\n  function _rotateBigLeft(node, parent) {\r\n    var bottom = node.left;\r\n    _rotateRight(bottom, node);\r\n    _rotateLeft(node, parent);\r\n\r\n    parent.balance = 0;\r\n    switch (bottom.balance) {\r\n      case 1:\r\n        node.balance = -1;\r\n        bottom.balance = 0;\r\n        break;\r\n      case 0:\r\n        bottom.balance = 0;\r\n        node.balance = 0;\r\n        break;\r\n      default:\r\n        bottom.balance = 1;\r\n        node.balance = 0;\r\n        break;\r\n    }\r\n  }\r\n\r\n  function _rotateBigRight(node, parent) {\r\n    var bottom = node.right;\r\n    _rotateLeft(bottom, node);\r\n    _rotateRight(node, parent);\r\n\r\n    parent.balance = 0;\r\n    switch (bottom.balance) {\r\n      case -1:\r\n        bottom.balance = 0;\r\n        node.balance = 1;\r\n        break;\r\n      case 0:\r\n        bottom.balance = 0;\r\n        node.balance = 0;\r\n        break;\r\n      default:\r\n        bottom.balance = -1;\r\n        node.balance = 0;\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Callback function to notify about duplicate values\r\n   * \r\n   * @callback onSortedListDuplicateCallback\r\n   * @param {object} context The context object of the duplicate value\r\n   */\r\n\r\n  /**\r\n   * Adds value to sorted list collection\r\n   * @param {number} value The value \r\n   * @param {object} context The value context object\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {onSortedListDuplicateCallback} onDuplicate Callback function for duplicates values notification\r\n   */\r\n  function add(value, context, thisArg, onDuplicate) {\r\n    if (_rootNode == null) {\r\n      _rootNode = new Node(value, context);\r\n    } else {\r\n      var trace = [];\r\n      var node = null;\r\n      var next = _rootNode;\r\n      while (next != null) {\r\n        if (node != null) {\r\n          trace.push(node);\r\n        }\r\n        node = next;\r\n        if (node.value == value) {\r\n          if (onDuplicate != null) {\r\n            onDuplicate.call(thisArg, node.context);\r\n          } else {\r\n            throw \"Structure does not support duplicates.\";\r\n          }\r\n        } else {\r\n          if (node.value > value) {\r\n            next = node.left;\r\n          } else {\r\n            next = node.right;\r\n          }\r\n        }\r\n      }\r\n      trace.push(node);\r\n      var newNode = new Node(value, context);\r\n      if (node.value > value) {\r\n        node.left = newNode;\r\n      } else {\r\n        node.right = newNode;\r\n      }\r\n      node = newNode;\r\n\r\n      while ((next = trace.pop()) != null) {\r\n        if (node.value < next.value) {\r\n          if (next.balance < 0) {\r\n            next.balance -= 1;\r\n            _rebalance(next);\r\n            break;\r\n          } else {\r\n            if (next.balance > 0) {\r\n              next.balance -= 1;\r\n              break;\r\n            }\r\n            next.balance -= 1;\r\n          }\r\n        } else {\r\n          if (next.balance > 0) {\r\n            next.balance += 1;\r\n            _rebalance(next);\r\n            break;\r\n          } else {\r\n            if (next.balance < 0) {\r\n              next.balance += 1;\r\n              break;\r\n            }\r\n            next.balance += 1;\r\n          }\r\n        }\r\n        node = next;\r\n      }\r\n    }\r\n  }\r\n\r\n  function _delete(node, parent) {\r\n    var child = node.right != null ? node.right : node.left;\r\n    if (parent != null) {\r\n      if (parent.value > node.value) {\r\n        parent.left = child;\r\n      } else {\r\n        parent.right = child;\r\n      }\r\n    } else {\r\n      _rootNode = child;\r\n    }\r\n  }\r\n\r\n  function _swap(node1, node2) {\r\n    var value = node1.value;\r\n    node1.value = node2.value;\r\n    node2.value = value;\r\n\r\n    var context = node1.context;\r\n    node1.context = node2.context;\r\n    node2.context = context;\r\n  }\r\n\r\n  function _copy(fromNode, toNode) {\r\n    toNode.value = fromNode.value;\r\n    toNode.context = fromNode.context;\r\n  }\r\n\r\n  /**\r\n   * Removes value from the sorted list\r\n   * @param {number} value The removed value \r\n   */\r\n  function remove(value) {\r\n    var trace = [];\r\n    var node = _rootNode;\r\n    while (node != null) {\r\n      if (node.value == value) {\r\n        if (node.right != null && node.left != null) {\r\n          trace.push(node);\r\n          var next = node.right;\r\n          while (next.left != null) {\r\n            trace.push(next);\r\n            next = next.left;\r\n          }\r\n          _copy(next, node);\r\n          _delete(next, trace[trace.length - 1]);\r\n          trace.push(next);\r\n        } else {\r\n          _delete(node, trace[trace.length - 1]);\r\n          trace.push(node);\r\n        }\r\n        for (var index = trace.length - 2; index >= 0; index -= 1) {\r\n          var parent = trace[index];\r\n          node = trace[index + 1];\r\n          if (parent.value > node.value) {\r\n            if (parent.balance > 0) {\r\n              parent.balance += 1;\r\n              if (_rebalance(parent) === 0) {\r\n                break;\r\n              }\r\n            } else {\r\n              if (parent.balance === 0) {\r\n                parent.balance += 1;\r\n                break;\r\n              }\r\n              parent.balance += 1;\r\n            }\r\n          } else {\r\n            if (parent.balance < 0) {\r\n              parent.balance -= 1;\r\n              if (_rebalance(parent) === 0) {\r\n                break;\r\n              }\r\n            } else {\r\n              if (parent.balance === 0) {\r\n                parent.balance -= 1;\r\n                break;\r\n              }\r\n              parent.balance -= 1;\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      } else {\r\n        trace.push(node);\r\n        if (node.value > value) {\r\n          node = node.left;\r\n        } else {\r\n          node = node.right;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns context object of the next value following the given one\r\n   * @param {number} fromValue The value to start search from\r\n   * @returns {object} Returns context object of the first value in sorted list greater than the start value.\r\n   */\r\n  function nextContext(fromValue) {\r\n    var result = null;\r\n    loopForward(this, fromValue, function (value, context) {\r\n      result = context;\r\n      return true;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Callback function for iterating values of the sorted list\r\n   * \r\n   * @callback onSortedListItemCallback\r\n   * @param {number} value The value\r\n   * @param {object} context The value context object\r\n   * @returns {boolean} Returns true to break loop operation  \r\n   */\r\n\r\n  /**\r\n   * Loops sorted list values\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {number} fromValue The start value to loop items of sorted list\r\n   * @param {onSortedListItemCallback} onItem Callback function to iterate over sorted list values\r\n   */\r\n  function loopForward(thisArg, fromValue, onItem) { //function onItem(value, context)\r\n    if (onItem != null) {\r\n      var trace = [];\r\n      var node = null;\r\n      var next = _rootNode;\r\n      while (next != null) {\r\n        node = next;\r\n        if (node.value >= fromValue || fromValue == null) {\r\n          trace.push(node);\r\n          next = node.left;\r\n        } else {\r\n          next = node.right;\r\n        }\r\n      }\r\n      while ((node = trace.pop()) != null) {\r\n        if (onItem.call(thisArg, node.value, node.context)) {\r\n          return;\r\n        }\r\n        next = node.right;\r\n        while (next != null) {\r\n          node = next;\r\n          if (node.left != null) {\r\n            trace.push(node);\r\n            next = node.left;\r\n          } else {\r\n            if (onItem.call(thisArg, node.value, node.context)) {\r\n              return;\r\n            }\r\n            next = node.right;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns context object of the previous value preceding the given one\r\n   * @param {number} fromValue The value to start search from\r\n   * @returns {object} Returns context object of the first value in sorted list less than the start value.\r\n   */\r\n  function previousContext(fromValue) {\r\n    var result = null;\r\n    loopBackward(this, fromValue, function (nextValue, context) {\r\n      result = context;\r\n      return true;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Loops sorted list values backward\r\n   * @param {object} thisArg The callback function invocation context \r\n   * @param {number} fromValue The start value to loop items of sorted list\r\n   * @param {onSortedListItemCallback} onItem Callback function to iterate over sorted list values\r\n   */\r\n  function loopBackward(thisArg, fromValue, onItem) {\r\n    if (onItem != null) {\r\n      var trace = [];\r\n      var node = null;\r\n      var next = _rootNode;\r\n      while (next != null) {\r\n        node = next;\r\n        if (node.value <= fromValue || fromValue == null) {\r\n          trace.push(node);\r\n          next = node.right;\r\n        } else {\r\n          next = node.left;\r\n        }\r\n      }\r\n      while ((node = trace.pop()) != null) {\r\n        if (onItem.call(thisArg, node.value, node.context)) {\r\n          return;\r\n        }\r\n        next = node.left;\r\n        while (next != null) {\r\n          node = next;\r\n          if (node.right != null) {\r\n            trace.push(node);\r\n            next = node.right;\r\n          } else {\r\n            if (onItem.call(thisArg, node.value, node.context)) {\r\n              return;\r\n            }\r\n            next = node.left;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function _getValidationDepth(node) {\r\n    var level = [],\r\n      result = 0;\r\n    if (node != null) {\r\n      level.push(node);\r\n      while (level.length > 0) {\r\n        var newLevel = [];\r\n\r\n        for (var index = 0; index < level.length; index += 1) {\r\n          node = level[index];\r\n\r\n          if (node.left != null) {\r\n            newLevel.push(node.left);\r\n          }\r\n\r\n          if (node.right != null) {\r\n            newLevel.push(node.right);\r\n          }\r\n        }\r\n\r\n        level = newLevel;\r\n        result += 1;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Validate internal data consistency of the self-balancing binary search tree structure\r\n   * \r\n   * @returns {boolean} Returns true if structure pass validation\r\n   */\r\n  function validate() {\r\n    if (_rootNode != null) {\r\n      var level = [_rootNode];\r\n      while (level.length > 0) {\r\n        var newLevel = [];\r\n\r\n        for (var index = 0; index < level.length; index += 1) {\r\n          var node = level[index];\r\n\r\n          if (node.value == null) {\r\n            return false;\r\n          }\r\n\r\n          if (node.left != null) {\r\n            newLevel.push(node.left);\r\n            if (node.left.value >= node.value) {\r\n              return false;\r\n            }\r\n          }\r\n\r\n          if (node.right != null) {\r\n            newLevel.push(node.right);\r\n            if (node.right.value <= node.value) {\r\n              return false;\r\n            }\r\n          }\r\n\r\n          if (node.balance != (_getValidationDepth(node.right) - _getValidationDepth(node.left))) {\r\n            // eslint-disable-next-line no-console\r\n            console.log(\"Disbalanced node: \" + node.value + \" - \" + JSON.stringify(_rootNode));\r\n            return false;\r\n          }\r\n        }\r\n\r\n        level = newLevel;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  return {\r\n    add: add,\r\n    remove: remove,\r\n    loopForward: loopForward,\r\n    loopBackward: loopBackward,\r\n    nextContext: nextContext,\r\n    previousContext: previousContext,\r\n    validate: validate\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}