{"ast":null,"code":"import Rect from '../../graphics/structs/Rect';\nimport RenderEventArgs from '../../events/RenderEventArgs';\nimport { Layers } from '../../enums';\nexport default function DrawFrameHighlightTask(getGraphics, projectItemsToFrameTask, combinedContextsTask, itemTemplateParamsTask, highlightItemTask, cursorItemTask) {\n  var _graphics;\n  function process() {\n    var treeItemId = highlightItemTask.getHighlightTreeItem();\n    _graphics = getGraphics();\n    _graphics.reset(\"frameplaceholder\", Layers.Highlight);\n    if (treeItemId != null) {\n      drawHighlight(treeItemId);\n    }\n    return false;\n  }\n  function drawHighlight(treeItemId) {\n    var uiHash,\n      positions = projectItemsToFrameTask.getPositions(),\n      position = positions[treeItemId];\n    if (position != null) {\n      var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\n        template = templateParams.template,\n        templateConfig = template.templateConfig,\n        highlightPadding = templateConfig.highlightPadding;\n      _graphics.activate(\"frameplaceholder\", Layers.Highlight);\n      uiHash = new RenderEventArgs();\n      uiHash.context = combinedContextsTask.getConfig(treeItemId);\n      uiHash.isCursor = cursorItemTask.getCursorTreeItem() == treeItemId;\n      uiHash.isSelected = true;\n      uiHash.templateName = templateConfig.name;\n      var contentPosition = new Rect(0, 0, Math.round(position.width), Math.round(position.height));\n      contentPosition.offset(highlightPadding.left, highlightPadding.top, highlightPadding.right, highlightPadding.bottom);\n      _graphics.template(Math.round(position.x), Math.round(position.y), Math.round(position.width), Math.round(position.height), Math.round(contentPosition.x), Math.round(contentPosition.y), Math.round(contentPosition.width), Math.round(contentPosition.height), template.dotHighlightTemplate.template(), template.dotHighlightTemplate.getHashCode(), template.dotHighlightTemplate.render, uiHash, {\n        \"borderWidth\": templateConfig.highlightBorderWidth\n      });\n    }\n  }\n  return {\n    process: process\n  };\n}\n;","map":{"version":3,"names":["Rect","RenderEventArgs","Layers","DrawFrameHighlightTask","getGraphics","projectItemsToFrameTask","combinedContextsTask","itemTemplateParamsTask","highlightItemTask","cursorItemTask","_graphics","process","treeItemId","getHighlightTreeItem","reset","Highlight","drawHighlight","uiHash","positions","getPositions","position","templateParams","getTemplateParams","template","templateConfig","highlightPadding","activate","context","getConfig","isCursor","getCursorTreeItem","isSelected","templateName","name","contentPosition","Math","round","width","height","offset","left","top","right","bottom","x","y","dotHighlightTemplate","getHashCode","render","highlightBorderWidth"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/renders/DrawFrameHighlightTask.js"],"sourcesContent":["import Rect from '../../graphics/structs/Rect';\r\nimport RenderEventArgs from '../../events/RenderEventArgs';\r\nimport { Layers } from '../../enums';\r\n\r\nexport default function DrawFrameHighlightTask(getGraphics, projectItemsToFrameTask,\r\n  combinedContextsTask,\r\n  itemTemplateParamsTask,\r\n  highlightItemTask, cursorItemTask) {\r\n  var _graphics;\r\n\r\n  function process() {\r\n    var treeItemId = highlightItemTask.getHighlightTreeItem();\r\n\r\n    _graphics = getGraphics();\r\n    _graphics.reset(\"frameplaceholder\", Layers.Highlight);\r\n\r\n    if (treeItemId != null) {\r\n      drawHighlight(treeItemId);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function drawHighlight(treeItemId) {\r\n    var uiHash,\r\n      positions = projectItemsToFrameTask.getPositions(),\r\n      position = positions[treeItemId];\r\n    if(position != null) {\r\n      var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\r\n        template = templateParams.template,\r\n        templateConfig = template.templateConfig,\r\n        highlightPadding = templateConfig.highlightPadding;\r\n\r\n      _graphics.activate(\"frameplaceholder\", Layers.Highlight)\r\n\r\n      uiHash = new RenderEventArgs();\r\n      uiHash.context = combinedContextsTask.getConfig(treeItemId);\r\n      uiHash.isCursor = (cursorItemTask.getCursorTreeItem() == treeItemId);\r\n      uiHash.isSelected = true;\r\n      uiHash.templateName = templateConfig.name;\r\n\r\n      var contentPosition = new Rect(0, 0, Math.round(position.width), Math.round(position.height));\r\n      contentPosition.offset(highlightPadding.left, highlightPadding.top, highlightPadding.right, highlightPadding.bottom);\r\n\r\n      _graphics.template(\r\n        Math.round(position.x)\r\n        , Math.round(position.y)\r\n        , Math.round(position.width)\r\n        , Math.round(position.height)\r\n        , Math.round(contentPosition.x)\r\n        , Math.round(contentPosition.y)\r\n        , Math.round(contentPosition.width)\r\n        , Math.round(contentPosition.height)\r\n        , template.dotHighlightTemplate.template()\r\n        , template.dotHighlightTemplate.getHashCode()\r\n        , template.dotHighlightTemplate.render\r\n        , uiHash\r\n        , { \"borderWidth\": templateConfig.highlightBorderWidth }\r\n      );\r\n    }\r\n  }\r\n\r\n  return {\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}