{"ast":null,"code":"export default function ValueReader(acceptedTypes, isNullable, defaultValue) {\n  this.acceptedTypes = acceptedTypes;\n  this.isNullable = isNullable;\n  this.defaultValue = defaultValue;\n  this.hash = {};\n\n  /* collect valid enumeration values */\n  for (var index = 0; index < acceptedTypes.length; index += 1) {\n    var acceptedType = acceptedTypes[index];\n    this.hash[acceptedType] = true;\n  }\n}\n;\nValueReader.prototype.stringify = function (target) {\n  if (this.hash[\"object\"] == true) {\n    var processed = [];\n    var result = JSON.stringify(target, function (key, value) {\n      if (key[0] === '_') {\n        return null;\n      }\n      if (value !== null && typeof value == \"object\") {\n        if (processed.indexOf(value) == -1) {\n          processed.push(value);\n          return value;\n        }\n        return null;\n      }\n      return value;\n    });\n    return result;\n  }\n  return target;\n};\nValueReader.prototype.read = function (target, source, path, context) {\n  var result = null;\n  if (source === null || typeof source == \"undefined\" || !this.hash.hasOwnProperty(typeof source)) {\n    source = this.isNullable ? null : this.defaultValue;\n  }\n  result = source;\n  if (this.stringify(target) !== this.stringify(source)) {\n    context.isChanged = true;\n  }\n  return result;\n};","map":{"version":3,"names":["ValueReader","acceptedTypes","isNullable","defaultValue","hash","index","length","acceptedType","prototype","stringify","target","processed","result","JSON","key","value","indexOf","push","read","source","path","context","hasOwnProperty","isChanged"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/readers/ValueReader.js"],"sourcesContent":["export default function ValueReader(acceptedTypes, isNullable, defaultValue) {\r\n  this.acceptedTypes = acceptedTypes;\r\n  this.isNullable = isNullable;\r\n  this.defaultValue = defaultValue;\r\n\r\n  this.hash = {};\r\n\r\n  /* collect valid enumeration values */\r\n  for (var index = 0; index < acceptedTypes.length; index += 1) {\r\n    var acceptedType = acceptedTypes[index];\r\n    this.hash[acceptedType] = true;\r\n  }\r\n};\r\n\r\nValueReader.prototype.stringify = function (target) {\r\n  if (this.hash[\"object\"] == true) {\r\n    var processed = [];\r\n    var result = JSON.stringify(target, function (key, value) {\r\n      if (key[0] === '_') {\r\n        return null;\r\n      }\r\n      if (value !== null && typeof value == \"object\") {\r\n        if (processed.indexOf(value) == -1) {\r\n          processed.push(value);\r\n          return value;\r\n        }\r\n        return null;\r\n      }\r\n      return value;\r\n    });\r\n    return result;\r\n  }\r\n  return target;\r\n}\r\n\r\nValueReader.prototype.read = function (target, source, path, context) {\r\n  var result = null;\r\n\r\n  if (source === null || typeof source == \"undefined\" || !this.hash.hasOwnProperty(typeof source)) {\r\n    source = this.isNullable ? null : this.defaultValue;\r\n  }\r\n\r\n  result = source;\r\n\r\n  if (this.stringify(target) !== this.stringify(source)) {\r\n    context.isChanged = true;\r\n  }\r\n\r\n  return result;\r\n};"],"mappings":"AAAA,eAAe,SAASA,WAAWA,CAACC,aAAa,EAAEC,UAAU,EAAEC,YAAY,EAAE;EAC3E,IAAI,CAACF,aAAa,GAAGA,aAAa;EAClC,IAAI,CAACC,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAACC,YAAY,GAAGA,YAAY;EAEhC,IAAI,CAACC,IAAI,GAAG,CAAC,CAAC;;EAEd;EACA,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGJ,aAAa,CAACK,MAAM,EAAED,KAAK,IAAI,CAAC,EAAE;IAC5D,IAAIE,YAAY,GAAGN,aAAa,CAACI,KAAK,CAAC;IACvC,IAAI,CAACD,IAAI,CAACG,YAAY,CAAC,GAAG,IAAI;EAChC;AACF;AAAC;AAEDP,WAAW,CAACQ,SAAS,CAACC,SAAS,GAAG,UAAUC,MAAM,EAAE;EAClD,IAAI,IAAI,CAACN,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;IAC/B,IAAIO,SAAS,GAAG,EAAE;IAClB,IAAIC,MAAM,GAAGC,IAAI,CAACJ,SAAS,CAACC,MAAM,EAAE,UAAUI,GAAG,EAAEC,KAAK,EAAE;MACxD,IAAID,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAClB,OAAO,IAAI;MACb;MACA,IAAIC,KAAK,KAAK,IAAI,IAAI,OAAOA,KAAK,IAAI,QAAQ,EAAE;QAC9C,IAAIJ,SAAS,CAACK,OAAO,CAACD,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;UAClCJ,SAAS,CAACM,IAAI,CAACF,KAAK,CAAC;UACrB,OAAOA,KAAK;QACd;QACA,OAAO,IAAI;MACb;MACA,OAAOA,KAAK;IACd,CAAC,CAAC;IACF,OAAOH,MAAM;EACf;EACA,OAAOF,MAAM;AACf,CAAC;AAEDV,WAAW,CAACQ,SAAS,CAACU,IAAI,GAAG,UAAUR,MAAM,EAAES,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAE;EACpE,IAAIT,MAAM,GAAG,IAAI;EAEjB,IAAIO,MAAM,KAAK,IAAI,IAAI,OAAOA,MAAM,IAAI,WAAW,IAAI,CAAC,IAAI,CAACf,IAAI,CAACkB,cAAc,CAAC,OAAOH,MAAM,CAAC,EAAE;IAC/FA,MAAM,GAAG,IAAI,CAACjB,UAAU,GAAG,IAAI,GAAG,IAAI,CAACC,YAAY;EACrD;EAEAS,MAAM,GAAGO,MAAM;EAEf,IAAI,IAAI,CAACV,SAAS,CAACC,MAAM,CAAC,KAAK,IAAI,CAACD,SAAS,CAACU,MAAM,CAAC,EAAE;IACrDE,OAAO,CAACE,SAAS,GAAG,IAAI;EAC1B;EAEA,OAAOX,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}