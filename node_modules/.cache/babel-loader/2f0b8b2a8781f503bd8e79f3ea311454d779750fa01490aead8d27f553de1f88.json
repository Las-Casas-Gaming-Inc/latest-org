{"ast":null,"code":"import ArrayReader from '../../../readers/ArrayReader';\nimport ValueReader from '../../../readers/ValueReader';\nexport default function NormalVisibilityItemsByConnectorAnnotationTask(connectorAnnotationOptionTask) {\n  var _data = {\n      items: []\n    },\n    _hash = {},\n    _dataTemplate = new ArrayReader(new ValueReader([\"string\", \"number\"], true), true);\n  function process() {\n    var context = {\n        isChanged: false,\n        hash: _hash\n      },\n      annotations = connectorAnnotationOptionTask.getAnnotations();\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(annotations), \"items\", context);\n    return context.isChanged;\n  }\n  function getSelectedItems(annotations) {\n    var result = [],\n      processed = {},\n      index,\n      len,\n      annotation,\n      treeItem;\n    for (index = 0, len = annotations.length; index < len; index += 1) {\n      annotation = annotations[index];\n      if (annotation.selectItems) {\n        if (annotation.fromItem != null && !processed.hasOwnProperty(annotation.fromItem)) {\n          result.push(annotation.fromItem);\n          processed[annotation.fromItem] = true;\n        }\n        if (annotation.toItem != null && !processed.hasOwnProperty(annotation.toItem)) {\n          result.push(annotation.toItem);\n          processed[annotation.toItem] = true;\n        }\n      }\n    }\n    return result;\n  }\n  function getItems() {\n    return _data.items;\n  }\n  return {\n    process: process,\n    getItems: getItems\n  };\n}\n;","map":{"version":3,"names":["ArrayReader","ValueReader","NormalVisibilityItemsByConnectorAnnotationTask","connectorAnnotationOptionTask","_data","items","_hash","_dataTemplate","process","context","isChanged","hash","annotations","getAnnotations","read","getSelectedItems","result","processed","index","len","annotation","treeItem","length","selectItems","fromItem","hasOwnProperty","push","toItem","getItems"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/transformations/selection/NormalVisibilityItemsByConnectorAnnotationTask.js"],"sourcesContent":["import ArrayReader from '../../../readers/ArrayReader';\r\nimport ValueReader from '../../../readers/ValueReader';\r\n\r\nexport default function NormalVisibilityItemsByConnectorAnnotationTask(connectorAnnotationOptionTask) {\r\n  var _data = {\r\n    items: []\r\n  },\r\n    _hash = {},\r\n    _dataTemplate = new ArrayReader(\r\n      new ValueReader([\"string\", \"number\"], true),\r\n      true\r\n    );\r\n\r\n  function process() {\r\n    var context = {\r\n      isChanged: false,\r\n      hash: _hash\r\n    },\r\n      annotations = connectorAnnotationOptionTask.getAnnotations();\r\n\r\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(annotations), \"items\", context);\r\n\r\n    return context.isChanged;\r\n  }\r\n\r\n  function getSelectedItems(annotations) {\r\n    var result = [],\r\n      processed = {},\r\n      index, len,\r\n      annotation,\r\n      treeItem;\r\n\r\n    for (index = 0, len = annotations.length; index < len; index += 1) {\r\n      annotation = annotations[index];\r\n      if (annotation.selectItems) {\r\n        if (annotation.fromItem != null && !processed.hasOwnProperty(annotation.fromItem)) {\r\n          result.push(annotation.fromItem);\r\n          processed[annotation.fromItem] = true;\r\n        }\r\n        if (annotation.toItem != null && !processed.hasOwnProperty(annotation.toItem)) {\r\n          result.push(annotation.toItem);\r\n          processed[annotation.toItem] = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function getItems() {\r\n    return _data.items;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getItems: getItems\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,WAAW,MAAM,8BAA8B;AACtD,OAAOC,WAAW,MAAM,8BAA8B;AAEtD,eAAe,SAASC,8CAA8CA,CAACC,6BAA6B,EAAE;EACpG,IAAIC,KAAK,GAAG;MACVC,KAAK,EAAE;IACT,CAAC;IACCC,KAAK,GAAG,CAAC,CAAC;IACVC,aAAa,GAAG,IAAIP,WAAW,CAC7B,IAAIC,WAAW,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EAC3C,IACF,CAAC;EAEH,SAASO,OAAOA,CAAA,EAAG;IACjB,IAAIC,OAAO,GAAG;QACZC,SAAS,EAAE,KAAK;QAChBC,IAAI,EAAEL;MACR,CAAC;MACCM,WAAW,GAAGT,6BAA6B,CAACU,cAAc,CAAC,CAAC;IAE9DT,KAAK,CAACC,KAAK,GAAGE,aAAa,CAACO,IAAI,CAACV,KAAK,CAACC,KAAK,EAAEU,gBAAgB,CAACH,WAAW,CAAC,EAAE,OAAO,EAAEH,OAAO,CAAC;IAE9F,OAAOA,OAAO,CAACC,SAAS;EAC1B;EAEA,SAASK,gBAAgBA,CAACH,WAAW,EAAE;IACrC,IAAII,MAAM,GAAG,EAAE;MACbC,SAAS,GAAG,CAAC,CAAC;MACdC,KAAK;MAAEC,GAAG;MACVC,UAAU;MACVC,QAAQ;IAEV,KAAKH,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGP,WAAW,CAACU,MAAM,EAAEJ,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;MACjEE,UAAU,GAAGR,WAAW,CAACM,KAAK,CAAC;MAC/B,IAAIE,UAAU,CAACG,WAAW,EAAE;QAC1B,IAAIH,UAAU,CAACI,QAAQ,IAAI,IAAI,IAAI,CAACP,SAAS,CAACQ,cAAc,CAACL,UAAU,CAACI,QAAQ,CAAC,EAAE;UACjFR,MAAM,CAACU,IAAI,CAACN,UAAU,CAACI,QAAQ,CAAC;UAChCP,SAAS,CAACG,UAAU,CAACI,QAAQ,CAAC,GAAG,IAAI;QACvC;QACA,IAAIJ,UAAU,CAACO,MAAM,IAAI,IAAI,IAAI,CAACV,SAAS,CAACQ,cAAc,CAACL,UAAU,CAACO,MAAM,CAAC,EAAE;UAC7EX,MAAM,CAACU,IAAI,CAACN,UAAU,CAACO,MAAM,CAAC;UAC9BV,SAAS,CAACG,UAAU,CAACO,MAAM,CAAC,GAAG,IAAI;QACrC;MACF;IACF;IAEA,OAAOX,MAAM;EACf;EAEA,SAASY,QAAQA,CAAA,EAAG;IAClB,OAAOxB,KAAK,CAACC,KAAK;EACpB;EAEA,OAAO;IACLG,OAAO,EAAEA,OAAO;IAChBoB,QAAQ,EAAEA;EACZ,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}