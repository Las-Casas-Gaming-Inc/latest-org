{"ast":null,"code":"import getMergedIntervals from '../../algorithms/getMergedIntervals';\nexport default function MergeLevelIntervalsTask(levelAnnotationOptionTask, logicalLevelsPlacementTask) {\n  var _data = {\n    positions: []\n  };\n  function process() {\n    var annotations = levelAnnotationOptionTask.getAnnotations();\n    _data.positions = [];\n    if (annotations.length > 0) {\n      var positions = logicalLevelsPlacementTask.getPositions();\n      _data.positions = createPositions(annotations, positions);\n    }\n    return true;\n  }\n  function createPositions(annotations, positions) {\n    var index,\n      len,\n      index2,\n      len2,\n      used = {},\n      result = {};\n    for (index = 0, len = annotations.length; index < len; index += 1) {\n      var annotationConfig = annotations[index];\n      var levels = annotationConfig.levels;\n      var intervals = [];\n      if (levels != null && levels.length > 0) {\n        for (index2 = 0, len2 = levels.length; index2 < len2; index2 += 1) {\n          var level = levels[index2];\n          if (!used[level]) {\n            used[level] = true;\n            var intervals = [];\n            if (positions[level] != null) {\n              intervals = intervals.concat(positions[level]);\n            }\n          }\n        }\n      }\n      result[index] = [];\n      getMergedIntervals(this, intervals, function (interval) {\n        result[index].push(interval);\n      });\n    }\n    return result;\n  }\n  function getPositions() {\n    return _data.positions;\n  }\n  return {\n    getPositions: getPositions,\n    process: process\n  };\n}\n;","map":{"version":3,"names":["getMergedIntervals","MergeLevelIntervalsTask","levelAnnotationOptionTask","logicalLevelsPlacementTask","_data","positions","process","annotations","getAnnotations","length","getPositions","createPositions","index","len","index2","len2","used","result","annotationConfig","levels","intervals","level","concat","interval","push"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/layout/MergeLevelIntervalsTask.js"],"sourcesContent":["import getMergedIntervals from '../../algorithms/getMergedIntervals';\r\n\r\nexport default function MergeLevelIntervalsTask(levelAnnotationOptionTask, logicalLevelsPlacementTask) {\r\n  var _data = {\r\n    positions: []\r\n  };\r\n\r\n  function process() {\r\n    var annotations = levelAnnotationOptionTask.getAnnotations();\r\n\r\n    _data.positions = [];\r\n    \r\n    if(annotations.length > 0) {\r\n      var positions = logicalLevelsPlacementTask.getPositions();\r\n      _data.positions = createPositions(annotations, positions);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function createPositions(annotations, positions) {\r\n    var index, len,\r\n      index2, len2,\r\n      used = {},\r\n      result = {};\r\n\r\n    for (index = 0, len = annotations.length; index < len; index += 1) {\r\n      var annotationConfig = annotations[index];\r\n      var levels = annotationConfig.levels;\r\n      var intervals = [];\r\n      if (levels != null && levels.length > 0) {\r\n        for (index2 = 0, len2 = levels.length; index2 < len2; index2 += 1) {\r\n          var level = levels[index2];\r\n          if(!used[level]) {\r\n            used[level] = true;\r\n\r\n            var intervals = [];\r\n            if (positions[level] != null) {\r\n              intervals = intervals.concat(positions[level]);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      result[index] = [];\r\n      getMergedIntervals(this, intervals, function(interval) {\r\n        result[index].push(interval);\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n\r\n  function getPositions() {\r\n    return _data.positions;\r\n  }\r\n\r\n  return {\r\n    getPositions:getPositions,\r\n    process: process\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,qCAAqC;AAEpE,eAAe,SAASC,uBAAuBA,CAACC,yBAAyB,EAAEC,0BAA0B,EAAE;EACrG,IAAIC,KAAK,GAAG;IACVC,SAAS,EAAE;EACb,CAAC;EAED,SAASC,OAAOA,CAAA,EAAG;IACjB,IAAIC,WAAW,GAAGL,yBAAyB,CAACM,cAAc,CAAC,CAAC;IAE5DJ,KAAK,CAACC,SAAS,GAAG,EAAE;IAEpB,IAAGE,WAAW,CAACE,MAAM,GAAG,CAAC,EAAE;MACzB,IAAIJ,SAAS,GAAGF,0BAA0B,CAACO,YAAY,CAAC,CAAC;MACzDN,KAAK,CAACC,SAAS,GAAGM,eAAe,CAACJ,WAAW,EAAEF,SAAS,CAAC;IAC3D;IAEA,OAAO,IAAI;EACb;EAEA,SAASM,eAAeA,CAACJ,WAAW,EAAEF,SAAS,EAAE;IAC/C,IAAIO,KAAK;MAAEC,GAAG;MACZC,MAAM;MAAEC,IAAI;MACZC,IAAI,GAAG,CAAC,CAAC;MACTC,MAAM,GAAG,CAAC,CAAC;IAEb,KAAKL,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGN,WAAW,CAACE,MAAM,EAAEG,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;MACjE,IAAIM,gBAAgB,GAAGX,WAAW,CAACK,KAAK,CAAC;MACzC,IAAIO,MAAM,GAAGD,gBAAgB,CAACC,MAAM;MACpC,IAAIC,SAAS,GAAG,EAAE;MAClB,IAAID,MAAM,IAAI,IAAI,IAAIA,MAAM,CAACV,MAAM,GAAG,CAAC,EAAE;QACvC,KAAKK,MAAM,GAAG,CAAC,EAAEC,IAAI,GAAGI,MAAM,CAACV,MAAM,EAAEK,MAAM,GAAGC,IAAI,EAAED,MAAM,IAAI,CAAC,EAAE;UACjE,IAAIO,KAAK,GAAGF,MAAM,CAACL,MAAM,CAAC;UAC1B,IAAG,CAACE,IAAI,CAACK,KAAK,CAAC,EAAE;YACfL,IAAI,CAACK,KAAK,CAAC,GAAG,IAAI;YAElB,IAAID,SAAS,GAAG,EAAE;YAClB,IAAIf,SAAS,CAACgB,KAAK,CAAC,IAAI,IAAI,EAAE;cAC5BD,SAAS,GAAGA,SAAS,CAACE,MAAM,CAACjB,SAAS,CAACgB,KAAK,CAAC,CAAC;YAChD;UACF;QACF;MACF;MACAJ,MAAM,CAACL,KAAK,CAAC,GAAG,EAAE;MAClBZ,kBAAkB,CAAC,IAAI,EAAEoB,SAAS,EAAE,UAASG,QAAQ,EAAE;QACrDN,MAAM,CAACL,KAAK,CAAC,CAACY,IAAI,CAACD,QAAQ,CAAC;MAC9B,CAAC,CAAC;IACJ;IAEA,OAAON,MAAM;EACf;EAGA,SAASP,YAAYA,CAAA,EAAG;IACtB,OAAON,KAAK,CAACC,SAAS;EACxB;EAEA,OAAO;IACLK,YAAY,EAACA,YAAY;IACzBJ,OAAO,EAAEA;EACX,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}