{"ast":null,"code":"import SpatialIndex from '../../algorithms/SpatialIndex';\nimport Thickness from '../../graphics/structs/Thickness';\nimport Size from '../../graphics/structs/Size';\nimport Point from '../../graphics/structs/Point';\nimport Rect from '../../graphics/structs/Rect';\nexport default function ProjectItemsToFrameTask(createTransformTask, frameSizeTask, applyLayoutChangesTask, scaleOptionTask, alignDiagramTask, centerOnCursorTask, itemTemplateParamsTask, selectedItemsTask) {\n  var _data = {\n      positions: {}\n    },\n    _scaleOptions,\n    _spatialIndex;\n  function process() {\n    var positions = alignDiagramTask.getItemsPositions(),\n      transform = createTransformTask.getTransform();\n    _scaleOptions = scaleOptionTask.getOptions(), _spatialIndex = null;\n    _data.positions = [];\n    var medianPosition = getFrameMedianPosition(),\n      selectedItems = selectedItemsTask.getItems();\n    if (medianPosition != null) {\n      for (var index = 0, len = selectedItems.length; index < len; index += 1) {\n        var treeItemId = selectedItems[index],\n          treeItemPosition = positions[treeItemId],\n          actualPosition = treeItemPosition.actualPosition;\n        transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true, this, function (x, y, width, height) {\n          var nodePosition = new Rect(x, y, width, height);\n          if (!medianPosition.rect.overlaps(nodePosition)) {\n            var projectionPoint = medianPosition.rect.getProjectionPoint(nodePosition.centerPoint());\n            if (projectionPoint != null) {\n              // node position is not scaled, scaling is done with CSS\n              var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\n                templateConfig = templateParams.template.templateConfig,\n                markerSize = new Size(templateConfig.minimizedItemSize),\n                markerProjectionRect = new Rect(projectionPoint.x - markerSize.width / 2, projectionPoint.y - markerSize.height / 2, markerSize.width, markerSize.height);\n              markerProjectionRect.translate(-medianPosition.offset.x, -medianPosition.offset.y);\n              _data.positions[treeItemId] = markerProjectionRect;\n            }\n          }\n        });\n      }\n    }\n    return true;\n  }\n  function getFrameMedianPosition() {\n    var result = null;\n    if (centerOnCursorTask != null) {\n      var scale = _scaleOptions.scale,\n        placeholderOffset = new Point(centerOnCursorTask.getPlaceholderOffset()),\n        scrollPanelSize = new Size(applyLayoutChangesTask.getScrollPanelSize()),\n        frameThickness = new Thickness(applyLayoutChangesTask.getFrameThickness()),\n        frameBaseOffset = new Thickness(applyLayoutChangesTask.getFrameOffset()),\n        medianThickness = new Thickness(frameSizeTask.getMedian());\n      if (!frameThickness.isEmpty()) {\n        placeholderOffset.scale(1.0 / scale);\n        frameThickness.scale(1.0 / scale);\n        frameBaseOffset.scale(1.0 / scale);\n        scrollPanelSize.scale(1.0 / scale);\n        medianThickness.scale(1.0 / scale);\n        var frameOffset = new Point(placeholderOffset.x - frameBaseOffset.left - frameThickness.left, placeholderOffset.y - frameBaseOffset.top - frameThickness.top);\n        var medianRect = new Rect(placeholderOffset.x, placeholderOffset.y, scrollPanelSize.width, scrollPanelSize.height);\n        medianRect.offset(frameBaseOffset);\n        medianRect.offset(medianThickness);\n        result = {\n          offset: frameOffset,\n          rect: medianRect\n        };\n      }\n    }\n    return result;\n  }\n  function getSizes() {\n    var result = [];\n    var hash = {};\n    for (var treeItemId in _data.positions) {\n      if (_data.positions.hasOwnProperty(treeItemId)) {\n        var rect = _data.positions[treeItemId];\n        var size = Math.max(rect.width, rect.height);\n        if (!hash.hasOwnProperty(size)) {\n          hash[size] = true;\n          result.push(size);\n        }\n      }\n    }\n    return result;\n  }\n  function getSpatialIndex() {\n    if (_spatialIndex == null) {\n      _spatialIndex = SpatialIndex(getSizes());\n      for (var treeItemId in _data.positions) {\n        if (_data.positions.hasOwnProperty(treeItemId)) {\n          var rect = _data.positions[treeItemId];\n          rect.context = treeItemId;\n          _spatialIndex.addRect(rect);\n        }\n      }\n    }\n    return _spatialIndex;\n  }\n  function getTreeItemForMousePosition(x, y, gravityRadius) {\n    var result = null,\n      bestDistance = null,\n      scale = _scaleOptions.scale,\n      spatialIndex = getSpatialIndex(),\n      selection,\n      center;\n    x = x / scale;\n    y = y / scale;\n    selection = new Rect(x, y, 0, 0);\n    center = new Point(x, y);\n    selection.offset(gravityRadius, gravityRadius, gravityRadius, gravityRadius);\n    spatialIndex.loopArea(this, selection, function (rect) {\n      var itemid = rect.context;\n      var distance = center.distanceTo(rect.horizontalCenter(), rect.verticalCenter());\n      if (bestDistance == null || distance < bestDistance) {\n        bestDistance = distance;\n        result = itemid;\n      }\n    });\n    return result;\n  }\n  function getPositions() {\n    return _data.positions;\n  }\n  return {\n    getPositions: getPositions,\n    getTreeItemForMousePosition: getTreeItemForMousePosition,\n    process: process\n  };\n}\n;","map":{"version":3,"names":["SpatialIndex","Thickness","Size","Point","Rect","ProjectItemsToFrameTask","createTransformTask","frameSizeTask","applyLayoutChangesTask","scaleOptionTask","alignDiagramTask","centerOnCursorTask","itemTemplateParamsTask","selectedItemsTask","_data","positions","_scaleOptions","_spatialIndex","process","getItemsPositions","transform","getTransform","getOptions","medianPosition","getFrameMedianPosition","selectedItems","getItems","index","len","length","treeItemId","treeItemPosition","actualPosition","transformRect","x","y","width","height","nodePosition","rect","overlaps","projectionPoint","getProjectionPoint","centerPoint","templateParams","getTemplateParams","templateConfig","template","markerSize","minimizedItemSize","markerProjectionRect","translate","offset","result","scale","placeholderOffset","getPlaceholderOffset","scrollPanelSize","getScrollPanelSize","frameThickness","getFrameThickness","frameBaseOffset","getFrameOffset","medianThickness","getMedian","isEmpty","frameOffset","left","top","medianRect","getSizes","hash","hasOwnProperty","size","Math","max","push","getSpatialIndex","context","addRect","getTreeItemForMousePosition","gravityRadius","bestDistance","spatialIndex","selection","center","loopArea","itemid","distance","distanceTo","horizontalCenter","verticalCenter","getPositions"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/layout/ProjectItemsToFrameTask.js"],"sourcesContent":["import SpatialIndex from '../../algorithms/SpatialIndex';\r\nimport Thickness from '../../graphics/structs/Thickness';\r\nimport Size from '../../graphics/structs/Size';\r\nimport Point from '../../graphics/structs/Point';\r\nimport Rect from '../../graphics/structs/Rect';\r\n\r\nexport default function ProjectItemsToFrameTask(createTransformTask, frameSizeTask,\r\n  applyLayoutChangesTask, scaleOptionTask,\r\n  alignDiagramTask, centerOnCursorTask,\r\n  itemTemplateParamsTask,\r\n  selectedItemsTask) {\r\n\r\n  var _data = {\r\n    positions: {}\r\n  },\r\n  _scaleOptions,\r\n  _spatialIndex;\r\n\r\n  function process() {\r\n    var positions = alignDiagramTask.getItemsPositions(),\r\n      transform = createTransformTask.getTransform();\r\n\r\n    _scaleOptions = scaleOptionTask.getOptions(),\r\n    _spatialIndex = null;\r\n    _data.positions = [];\r\n\r\n    var medianPosition = getFrameMedianPosition(),\r\n      selectedItems = selectedItemsTask.getItems();\r\n\r\n    if(medianPosition != null) {\r\n      for(var index = 0, len = selectedItems.length; index < len; index+=1) {\r\n        var treeItemId = selectedItems[index],\r\n          treeItemPosition = positions[treeItemId],\r\n          actualPosition = treeItemPosition.actualPosition;\r\n\r\n        transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true,\r\n          this, function (x, y, width, height) {\r\n            var nodePosition = new Rect(x, y, width, height);\r\n            if (!medianPosition.rect.overlaps(nodePosition)) {\r\n              var projectionPoint = medianPosition.rect.getProjectionPoint(nodePosition.centerPoint());\r\n              if (projectionPoint != null) {\r\n                // node position is not scaled, scaling is done with CSS\r\n                var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\r\n                    templateConfig = templateParams.template.templateConfig,\r\n                    markerSize = new Size(templateConfig.minimizedItemSize),\r\n                    markerProjectionRect = new Rect(\r\n                      projectionPoint.x - markerSize.width / 2, \r\n                      projectionPoint.y - markerSize.height / 2, \r\n                      markerSize.width, \r\n                      markerSize.height);\r\n  \r\n                markerProjectionRect.translate(- medianPosition.offset.x, - medianPosition.offset.y);\r\n                _data.positions[treeItemId] = markerProjectionRect;\r\n              }\r\n            }\r\n          });\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function getFrameMedianPosition() {\r\n    var result = null;\r\n    if (centerOnCursorTask != null) {\r\n      var scale = _scaleOptions.scale,\r\n        placeholderOffset = new Point(centerOnCursorTask.getPlaceholderOffset()),\r\n        scrollPanelSize = new Size(applyLayoutChangesTask.getScrollPanelSize()),\r\n        frameThickness = new Thickness(applyLayoutChangesTask.getFrameThickness()),\r\n        frameBaseOffset = new Thickness(applyLayoutChangesTask.getFrameOffset()),\r\n        medianThickness = new Thickness(frameSizeTask.getMedian());\r\n\r\n      if(!frameThickness.isEmpty()) {\r\n        placeholderOffset.scale(1.0 / scale);\r\n        frameThickness.scale(1.0 / scale);\r\n        frameBaseOffset.scale(1.0 / scale);\r\n        scrollPanelSize.scale(1.0 / scale);\r\n        medianThickness.scale(1.0 / scale);\r\n\r\n        var frameOffset = new Point(placeholderOffset.x - frameBaseOffset.left - frameThickness.left, placeholderOffset.y - frameBaseOffset.top - frameThickness.top);\r\n\r\n        var medianRect = new Rect(placeholderOffset.x, placeholderOffset.y, scrollPanelSize.width, scrollPanelSize.height);\r\n        medianRect.offset(frameBaseOffset);\r\n        medianRect.offset(medianThickness);\r\n\r\n        result = {\r\n          offset: frameOffset,\r\n          rect: medianRect         \r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function getSizes() {\r\n    var result = [];\r\n    var hash = {};\r\n    for (var treeItemId in _data.positions) {\r\n      if(_data.positions.hasOwnProperty(treeItemId)) {\r\n        var rect = _data.positions[treeItemId];\r\n        var size = Math.max(rect.width, rect.height);\r\n        if (!hash.hasOwnProperty(size)) {\r\n          hash[size] = true;\r\n          result.push(size);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function getSpatialIndex() {\r\n    if (_spatialIndex == null) {\r\n      _spatialIndex = SpatialIndex(getSizes());\r\n      for (var treeItemId in _data.positions) {\r\n        if(_data.positions.hasOwnProperty(treeItemId)) {\r\n          var rect = _data.positions[treeItemId];\r\n          rect.context = treeItemId;\r\n          _spatialIndex.addRect(rect);\r\n        }\r\n      }\r\n    }\r\n    return _spatialIndex;\r\n  }\r\n\r\n  function getTreeItemForMousePosition(x, y, gravityRadius) {\r\n    var result = null,\r\n      bestDistance = null,\r\n      scale = _scaleOptions.scale,\r\n      spatialIndex = getSpatialIndex(),\r\n      selection,\r\n      center;\r\n\r\n    x = x / scale;\r\n    y = y / scale;\r\n    selection = new Rect(x, y, 0, 0);\r\n    center = new Point(x, y);\r\n    selection.offset(gravityRadius, gravityRadius, gravityRadius, gravityRadius);\r\n\r\n    spatialIndex.loopArea(this, selection, function (rect) {\r\n      var itemid = rect.context;\r\n      var distance = center.distanceTo(rect.horizontalCenter(), rect.verticalCenter());\r\n      if (bestDistance == null || distance < bestDistance) {\r\n        bestDistance = distance;\r\n        result = itemid;\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  function getPositions() {\r\n    return _data.positions;\r\n  }\r\n\r\n  return {\r\n    getPositions:getPositions,\r\n    getTreeItemForMousePosition: getTreeItemForMousePosition,\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}