{"ast":null,"code":"import ArrayReader from '../../../readers/ArrayReader';\nimport ValueReader from '../../../readers/ValueReader';\nexport default function NormalVisibilityItemsByAnnotationTask(annotationOptionTask) {\n  var _data = {\n      items: []\n    },\n    _hash = {};\n  var _dataTemplate = new ArrayReader(new ValueReader([\"string\", \"number\"], true), true);\n  function process() {\n    var context = {\n        isChanged: false,\n        hash: _hash\n      },\n      annotations = annotationOptionTask.getAnnotations();\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(annotations), \"items\", context);\n    return context.isChanged;\n  }\n  function getSelectedItems(annotations) {\n    var result = [],\n      processed = {},\n      index,\n      len,\n      index2,\n      len2,\n      items,\n      item,\n      annotation,\n      treeItemId;\n    for (index = 0, len = annotations.length; index < len; index += 1) {\n      annotation = annotations[index];\n      if (annotation.selectItems) {\n        items = annotation.items;\n        for (index2 = 0, len2 = items.length; index2 < len2; index2 += 1) {\n          treeItemId = items[index2];\n          if (treeItemId != null && !processed.hasOwnProperty(treeItemId)) {\n            result.push(treeItemId);\n            processed[treeItemId] = true;\n          }\n        }\n      }\n    }\n    return result;\n  }\n  function getItems() {\n    return _data.items;\n  }\n  return {\n    process: process,\n    getItems: getItems\n  };\n}\n;","map":{"version":3,"names":["ArrayReader","ValueReader","NormalVisibilityItemsByAnnotationTask","annotationOptionTask","_data","items","_hash","_dataTemplate","process","context","isChanged","hash","annotations","getAnnotations","read","getSelectedItems","result","processed","index","len","index2","len2","item","annotation","treeItemId","length","selectItems","hasOwnProperty","push","getItems"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/transformations/selection/NormalVisibilityItemsByAnnotationTask.js"],"sourcesContent":["import ArrayReader from '../../../readers/ArrayReader';\r\nimport ValueReader from '../../../readers/ValueReader';\r\n\r\nexport default function NormalVisibilityItemsByAnnotationTask(annotationOptionTask) {\r\n  var _data = {\r\n    items: []\r\n  },\r\n    _hash = {};\r\n\r\n  var _dataTemplate = new ArrayReader(\r\n    new ValueReader([\"string\", \"number\"], true),\r\n    true\r\n  );\r\n\r\n  function process() {\r\n    var context = {\r\n      isChanged: false,\r\n      hash: _hash\r\n    },\r\n      annotations = annotationOptionTask.getAnnotations();\r\n\r\n    _data.items = _dataTemplate.read(_data.items, getSelectedItems(annotations), \"items\", context);\r\n\r\n    return context.isChanged;\r\n  }\r\n\r\n  function getSelectedItems(annotations) {\r\n    var result = [],\r\n      processed = {},\r\n      index, len, index2, len2,\r\n      items, item,\r\n      annotation,\r\n      treeItemId;\r\n\r\n    for (index = 0, len = annotations.length; index < len; index += 1) {\r\n      annotation = annotations[index];\r\n      if (annotation.selectItems) {\r\n        items = annotation.items;\r\n        for (index2 = 0, len2 = items.length; index2 < len2; index2 += 1) {\r\n          treeItemId = items[index2];\r\n          if (treeItemId != null && !processed.hasOwnProperty(treeItemId)) {\r\n            result.push(treeItemId);\r\n            processed[treeItemId] = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function getItems() {\r\n    return _data.items;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getItems: getItems\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,WAAW,MAAM,8BAA8B;AACtD,OAAOC,WAAW,MAAM,8BAA8B;AAEtD,eAAe,SAASC,qCAAqCA,CAACC,oBAAoB,EAAE;EAClF,IAAIC,KAAK,GAAG;MACVC,KAAK,EAAE;IACT,CAAC;IACCC,KAAK,GAAG,CAAC,CAAC;EAEZ,IAAIC,aAAa,GAAG,IAAIP,WAAW,CACjC,IAAIC,WAAW,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EAC3C,IACF,CAAC;EAED,SAASO,OAAOA,CAAA,EAAG;IACjB,IAAIC,OAAO,GAAG;QACZC,SAAS,EAAE,KAAK;QAChBC,IAAI,EAAEL;MACR,CAAC;MACCM,WAAW,GAAGT,oBAAoB,CAACU,cAAc,CAAC,CAAC;IAErDT,KAAK,CAACC,KAAK,GAAGE,aAAa,CAACO,IAAI,CAACV,KAAK,CAACC,KAAK,EAAEU,gBAAgB,CAACH,WAAW,CAAC,EAAE,OAAO,EAAEH,OAAO,CAAC;IAE9F,OAAOA,OAAO,CAACC,SAAS;EAC1B;EAEA,SAASK,gBAAgBA,CAACH,WAAW,EAAE;IACrC,IAAII,MAAM,GAAG,EAAE;MACbC,SAAS,GAAG,CAAC,CAAC;MACdC,KAAK;MAAEC,GAAG;MAAEC,MAAM;MAAEC,IAAI;MACxBhB,KAAK;MAAEiB,IAAI;MACXC,UAAU;MACVC,UAAU;IAEZ,KAAKN,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGP,WAAW,CAACa,MAAM,EAAEP,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;MACjEK,UAAU,GAAGX,WAAW,CAACM,KAAK,CAAC;MAC/B,IAAIK,UAAU,CAACG,WAAW,EAAE;QAC1BrB,KAAK,GAAGkB,UAAU,CAAClB,KAAK;QACxB,KAAKe,MAAM,GAAG,CAAC,EAAEC,IAAI,GAAGhB,KAAK,CAACoB,MAAM,EAAEL,MAAM,GAAGC,IAAI,EAAED,MAAM,IAAI,CAAC,EAAE;UAChEI,UAAU,GAAGnB,KAAK,CAACe,MAAM,CAAC;UAC1B,IAAII,UAAU,IAAI,IAAI,IAAI,CAACP,SAAS,CAACU,cAAc,CAACH,UAAU,CAAC,EAAE;YAC/DR,MAAM,CAACY,IAAI,CAACJ,UAAU,CAAC;YACvBP,SAAS,CAACO,UAAU,CAAC,GAAG,IAAI;UAC9B;QACF;MACF;IACF;IAEA,OAAOR,MAAM;EACf;EAEA,SAASa,QAAQA,CAAA,EAAG;IAClB,OAAOzB,KAAK,CAACC,KAAK;EACpB;EAEA,OAAO;IACLG,OAAO,EAAEA,OAAO;IAChBqB,QAAQ,EAAEA;EACZ,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}