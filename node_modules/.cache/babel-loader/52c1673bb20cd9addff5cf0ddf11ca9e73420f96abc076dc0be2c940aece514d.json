{"ast":null,"code":"import Matrix from './Matrix';\nimport Point from './Point';\nimport { VectorRelationType } from '../../enums';\n\n/**\r\n * @class Vector\r\n * @classdesc Class defines a vector in 2D plane.\r\n * \r\n * @param {Vector} arg0 Vector object to clone.\r\n * \r\n * @param {Point} arg0 From point.\r\n * @param {Point} arg1 To point\r\n */\nexport default function Vector(arg0, arg1) {\n  /**\r\n   * The start point\r\n   */\n  this.from = null;\n\n  /**\r\n   * The end point\r\n   */\n  this.to = null;\n\n  /**\r\n   * Reference to context object associated with this vector.\r\n   * @type {object}\r\n   */\n  this.context = null;\n  switch (arguments.length) {\n    case 1:\n      this.from = arg0.from;\n      this.to = arg0.to;\n      break;\n    case 2:\n      this.from = arg0;\n      this.to = arg1;\n      break;\n    default:\n      break;\n  }\n}\n;\n\n/**\r\n * Checks if start and end points are the same\r\n * \r\n * @returns {boolean} Returns true if start and end points are the same.\r\n */\nVector.prototype.isNull = function () {\n  return this.from.x == this.to && this.from.y == this.to.y;\n};\n\n/**\r\n * Vector length\r\n * \r\n * @returns {number} Returns vector length\r\n */\nVector.prototype.length = function () {\n  return this.from.distanceTo(this.to);\n};\n\n/**\r\n * Checks if vectors are equal\r\n * \r\n * @param {Vector} vector Vector\r\n * @returns {boolean} Returns true if vectors are equal.\r\n */\nVector.prototype.equalTo = function (vector) {\n  return this.from.equalTo(vector.from) && this.to.equalTo(vector.to);\n};\n\n/**\r\n * Returns middle point of the current vector\r\n * \r\n * @returns {Point} Returns middle point\r\n */\nVector.prototype.getMiddlePoint = function () {\n  return new Point((this.from.x + this.to.x) / 2, (this.from.y + this.to.y) / 2);\n};\n\n/**\r\n * Finds how two vectors relate to each other\r\n * \r\n * @param {Vector} vector The vector to relate with\r\n * @returns {VectorRelationType} Returns how the vector relates to the specified vector\r\n */\nVector.prototype.relateTo = function (vector) {\n  var result = VectorRelationType.None,\n    x1 = this.to.x - this.from.x,\n    y1 = this.to.y - this.from.y,\n    x2 = vector.to.x - vector.from.x,\n    y2 = vector.to.y - vector.from.y,\n    key = (x1 ? 8 : 0) + (y1 ? 4 : 0) + (x2 ? 2 : 0) + (y2 ? 1 : 0);\n  switch (key) {\n    case 0: //0000\n    case 1: //0001\n    case 2: //0010\n    case 3: //0011\n    case 4: //0100\n    case 8: //1000\n    case 12:\n      //1100\n      result = VectorRelationType.Null;\n      break;\n    case 5:\n      //0101\n      if (y1 * y2 > 0) {\n        result = VectorRelationType.Collinear;\n      } else {\n        result = VectorRelationType.Opposite;\n      }\n      break;\n    case 10:\n      //1010\n      if (x1 * x2 > 0) {\n        result = VectorRelationType.Collinear;\n      } else {\n        result = VectorRelationType.Opposite;\n      }\n      break;\n    case 15:\n      //1111\n      if (x1 / x2 == y1 / y2) {\n        if (x1 / x2 > 0) {\n          result = VectorRelationType.Collinear;\n        } else {\n          result = VectorRelationType.Opposite;\n        }\n      }\n      break;\n  }\n  return result;\n};\n\n/**\r\n * Offsets vector coordinates\r\n * \r\n * @param {number} offset Offset\r\n */\nVector.prototype.offset = function (offset) {\n  var length = this.length(),\n    /* in order to rotate right multiply vector on 3D vector (0, 0, -1)*/\n    x = (this.to.y - this.from.y) * offset / length,\n    y = -(this.to.x - this.from.x) * offset / length;\n  this.from.x += x;\n  this.from.y += y;\n  this.to.x += x;\n  this.to.y += y;\n};\n\n/**\r\n * Gets line\r\n * \r\n * @returns {number[]} Returns line coefficients\r\n */\nVector.prototype.getLine = function () {\n  var x1 = this.from.x,\n    y1 = this.from.y,\n    x2 = this.to.x,\n    y2 = this.to.y,\n    a = y2 - y1,\n    b = x1 - x2,\n    c = x1 * (y1 - y2) + y1 * (x2 - x1);\n  return [a, b, c];\n};\n\n/**\r\n * Gets line key\r\n * \r\n * @returns {string} Returns unique line key\r\n */\nVector.prototype.getLineKey = function () {\n  var line = this.getLine(),\n    a = line[0],\n    b = line[1],\n    c = line[2],\n    r = 10000;\n  if (b !== 0) {\n    line = [Math.floor(a / b * r), 1, Math.floor(c / b * r)];\n  } else {\n    line = [1, 0, Math.floor(c / a * r)];\n  }\n  return line.toString();\n};\n\n/**\r\n * Checks if two vectors have intersection point\r\n * \r\n * @param {vector} vector The vector to check intersection with\r\n * @returns {boolean} Returns true if vectors intersect\r\n */\nVector.prototype.intersect = function (vector) {\n  var v1 = this.getLine(),\n    v2 = vector.getLine(),\n    m = new Matrix(v1[0], v1[1], v2[0], v2[1]),\n    d = m.determinant(),\n    mx,\n    my,\n    dx,\n    dy,\n    x,\n    y,\n    result = false;\n  if (d !== 0) {\n    mx = new Matrix(-v1[2], v1[1], -v2[2], v2[1]);\n    dx = mx.determinant();\n    my = new Matrix(v1[0], -v1[2], v2[0], -v2[2]);\n    dy = my.determinant();\n    x = dx / d;\n    y = dy / d;\n    vector.to.x = x;\n    vector.to.y = y;\n    this.from.x = x;\n    this.from.y = y;\n    result = true;\n  }\n  return result;\n};\n\n/**\r\n * Finds intersection point of two vectors\r\n * \r\n * @param {Vector} vector The vector to find intersection with\r\n * @param {boolean} strict If true then intersection point should belong to both vectors\r\n * @param {number} rounding The precision of calculations\r\n * @returns {Point|null} Returns intersection point or null if intersection does not exists\r\n */\nVector.prototype.getIntersectionPoint = function (vector, strict, rounding) {\n  var v1 = this.getLine(),\n    v2 = vector.getLine(),\n    m = new Matrix(v1[0], v1[1], v2[0], v2[1]),\n    d = m.determinant(),\n    mx,\n    my,\n    dx,\n    dy,\n    x,\n    y,\n    result = null;\n  if (d !== 0) {\n    mx = new Matrix(-v1[2], v1[1], -v2[2], v2[1]);\n    dx = mx.determinant();\n    my = new Matrix(v1[0], -v1[2], v2[0], -v2[2]);\n    dy = my.determinant();\n    x = dx / d;\n    y = dy / d;\n    if (strict) {\n      if (vector._contains(x, y, rounding) && this._contains(x, y, rounding)) {\n        result = new Point(x, y);\n      }\n    } else {\n      result = new Point(x, y);\n    }\n  }\n  return result;\n};\n\n/**\r\n * @ignore\r\n */\nVector.prototype._contains = function (x, y, rounding) {\n  var x1 = Math.min(this.from.x, this.to.x),\n    y1 = Math.min(this.from.y, this.to.y),\n    x2 = Math.max(this.from.x, this.to.x),\n    y2 = Math.max(this.from.y, this.to.y);\n  return x1 - rounding <= x && x <= x2 + rounding && y1 - rounding <= y && y <= y2 + rounding;\n};","map":{"version":3,"names":["Matrix","Point","VectorRelationType","Vector","arg0","arg1","from","to","context","arguments","length","prototype","isNull","x","y","distanceTo","equalTo","vector","getMiddlePoint","relateTo","result","None","x1","y1","x2","y2","key","Null","Collinear","Opposite","offset","getLine","a","b","c","getLineKey","line","r","Math","floor","toString","intersect","v1","v2","m","d","determinant","mx","my","dx","dy","getIntersectionPoint","strict","rounding","_contains","min","max"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/graphics/structs/Vector.js"],"sourcesContent":["import Matrix from './Matrix';\r\nimport Point from './Point';\r\nimport { VectorRelationType } from '../../enums';\r\n\r\n/**\r\n * @class Vector\r\n * @classdesc Class defines a vector in 2D plane.\r\n * \r\n * @param {Vector} arg0 Vector object to clone.\r\n * \r\n * @param {Point} arg0 From point.\r\n * @param {Point} arg1 To point\r\n */\r\nexport default function Vector(arg0, arg1) {\r\n  /**\r\n   * The start point\r\n   */\r\n  this.from = null;\r\n\r\n  /**\r\n   * The end point\r\n   */\r\n  this.to = null;\r\n\r\n  /**\r\n   * Reference to context object associated with this vector.\r\n   * @type {object}\r\n   */\r\n  this.context = null;\r\n\r\n  switch (arguments.length) {\r\n    case 1:\r\n      this.from = arg0.from;\r\n      this.to = arg0.to;\r\n      break;\r\n    case 2:\r\n      this.from = arg0;\r\n      this.to = arg1;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\n/**\r\n * Checks if start and end points are the same\r\n * \r\n * @returns {boolean} Returns true if start and end points are the same.\r\n */\r\nVector.prototype.isNull = function () {\r\n  return this.from.x == this.to && this.from.y == this.to.y;\r\n};\r\n\r\n/**\r\n * Vector length\r\n * \r\n * @returns {number} Returns vector length\r\n */\r\nVector.prototype.length = function () {\r\n  return this.from.distanceTo(this.to);\r\n};\r\n\r\n/**\r\n * Checks if vectors are equal\r\n * \r\n * @param {Vector} vector Vector\r\n * @returns {boolean} Returns true if vectors are equal.\r\n */\r\nVector.prototype.equalTo = function (vector) {\r\n  return this.from.equalTo(vector.from) && this.to.equalTo(vector.to);\r\n};\r\n\r\n/**\r\n * Returns middle point of the current vector\r\n * \r\n * @returns {Point} Returns middle point\r\n */\r\nVector.prototype.getMiddlePoint = function () {\r\n  return new Point((this.from.x + this.to.x) / 2, (this.from.y + this.to.y) / 2);\r\n};\r\n\r\n/**\r\n * Finds how two vectors relate to each other\r\n * \r\n * @param {Vector} vector The vector to relate with\r\n * @returns {VectorRelationType} Returns how the vector relates to the specified vector\r\n */\r\nVector.prototype.relateTo = function (vector) {\r\n  var result = VectorRelationType.None,\r\n    x1 = this.to.x - this.from.x,\r\n    y1 = this.to.y - this.from.y,\r\n    x2 = vector.to.x - vector.from.x,\r\n    y2 = vector.to.y - vector.from.y,\r\n    key = (x1 ? 8 : 0) + (y1 ? 4 : 0) + (x2 ? 2 : 0) + (y2 ? 1 : 0);\r\n\r\n  switch (key) {\r\n    case 0: //0000\r\n    case 1: //0001\r\n    case 2: //0010\r\n    case 3: //0011\r\n    case 4: //0100\r\n    case 8: //1000\r\n    case 12://1100\r\n      result = VectorRelationType.Null;\r\n      break;\r\n    case 5: //0101\r\n      if (y1 * y2 > 0) {\r\n        result = VectorRelationType.Collinear;\r\n      } else {\r\n        result = VectorRelationType.Opposite;\r\n      }\r\n      break;\r\n    case 10://1010\r\n      if (x1 * x2 > 0) {\r\n        result = VectorRelationType.Collinear;\r\n      } else {\r\n        result = VectorRelationType.Opposite;\r\n      }\r\n      break;\r\n    case 15://1111\r\n      if (x1 / x2 == y1 / y2) {\r\n        if (x1 / x2 > 0) {\r\n          result = VectorRelationType.Collinear;\r\n        } else {\r\n          result = VectorRelationType.Opposite;\r\n        }\r\n      }\r\n      break;\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Offsets vector coordinates\r\n * \r\n * @param {number} offset Offset\r\n */\r\nVector.prototype.offset = function (offset) {\r\n  var length = this.length(),\r\n    /* in order to rotate right multiply vector on 3D vector (0, 0, -1)*/\r\n    x = (this.to.y - this.from.y) * offset / length,\r\n    y = - (this.to.x - this.from.x) * offset / length;\r\n\r\n  this.from.x += x;\r\n  this.from.y += y;\r\n  this.to.x += x;\r\n  this.to.y += y;\r\n};\r\n\r\n/**\r\n * Gets line\r\n * \r\n * @returns {number[]} Returns line coefficients\r\n */\r\nVector.prototype.getLine = function () {\r\n  var x1 = this.from.x,\r\n    y1 = this.from.y,\r\n    x2 = this.to.x,\r\n    y2 = this.to.y,\r\n    a = y2 - y1,\r\n    b = x1 - x2,\r\n    c = x1 * (y1 - y2) + y1 * (x2 - x1);\r\n\r\n  return [a, b, c];\r\n};\r\n\r\n/**\r\n * Gets line key\r\n * \r\n * @returns {string} Returns unique line key\r\n */\r\nVector.prototype.getLineKey = function () {\r\n  var line = this.getLine(),\r\n    a = line[0],\r\n    b = line[1],\r\n    c = line[2],\r\n    r = 10000;\r\n  if (b !== 0) {\r\n    line = [Math.floor(a / b * r), 1, Math.floor(c / b * r)];\r\n  } else {\r\n    line = [1, 0, Math.floor(c / a * r)];\r\n  }\r\n  return line.toString();\r\n};\r\n\r\n/**\r\n * Checks if two vectors have intersection point\r\n * \r\n * @param {vector} vector The vector to check intersection with\r\n * @returns {boolean} Returns true if vectors intersect\r\n */\r\nVector.prototype.intersect = function (vector) {\r\n  var v1 = this.getLine(),\r\n    v2 = vector.getLine(),\r\n    m = new Matrix(v1[0], v1[1], v2[0], v2[1]),\r\n    d = m.determinant(),\r\n    mx, my, dx, dy,\r\n    x, y,\r\n    result = false;\r\n\r\n  if (d !== 0) {\r\n    mx = new Matrix(-v1[2], v1[1], -v2[2], v2[1]);\r\n    dx = mx.determinant();\r\n    my = new Matrix(v1[0], -v1[2], v2[0], -v2[2]);\r\n    dy = my.determinant();\r\n    x = dx / d;\r\n    y = dy / d;\r\n\r\n    vector.to.x = x;\r\n    vector.to.y = y;\r\n\r\n    this.from.x = x;\r\n    this.from.y = y;\r\n\r\n    result = true;\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Finds intersection point of two vectors\r\n * \r\n * @param {Vector} vector The vector to find intersection with\r\n * @param {boolean} strict If true then intersection point should belong to both vectors\r\n * @param {number} rounding The precision of calculations\r\n * @returns {Point|null} Returns intersection point or null if intersection does not exists\r\n */\r\nVector.prototype.getIntersectionPoint = function (vector, strict, rounding) {\r\n  var v1 = this.getLine(),\r\n    v2 = vector.getLine(),\r\n    m = new Matrix(v1[0], v1[1], v2[0], v2[1]),\r\n    d = m.determinant(),\r\n    mx, my, dx, dy,\r\n    x, y,\r\n    result = null;\r\n\r\n  if (d !== 0) {\r\n    mx = new Matrix(-v1[2], v1[1], -v2[2], v2[1]);\r\n    dx = mx.determinant();\r\n    my = new Matrix(v1[0], -v1[2], v2[0], -v2[2]);\r\n    dy = my.determinant();\r\n    x = dx / d;\r\n    y = dy / d;\r\n\r\n    if (strict) {\r\n      if (vector._contains(x, y, rounding) && this._contains(x, y, rounding)) {\r\n        result = new Point(x, y);\r\n      }\r\n    } else {\r\n      result = new Point(x, y);\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nVector.prototype._contains = function (x, y, rounding) {\r\n  var x1 = Math.min(this.from.x, this.to.x),\r\n    y1 = Math.min(this.from.y, this.to.y),\r\n    x2 = Math.max(this.from.x, this.to.x),\r\n    y2 = Math.max(this.from.y, this.to.y);\r\n\r\n  return x1 - rounding <= x && x <= x2 + rounding && y1 - rounding <= y && y <= y2 + rounding;\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}