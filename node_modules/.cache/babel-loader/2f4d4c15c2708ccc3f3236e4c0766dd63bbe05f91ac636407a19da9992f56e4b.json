{"ast":null,"code":"import Polyline from './Polyline';\nexport default function PolylinesBuffer() {\n  var polylines = {};\n  function _getPolyline(polylines, paletteItem) {\n    if (!polylines[paletteItem.toString()]) {\n      polylines[paletteItem.toString()] = new Polyline(paletteItem);\n    }\n    return polylines[paletteItem.toString()];\n  }\n  function getPolyline(paletteItem) {\n    return _getPolyline(polylines, paletteItem);\n  }\n  function loop(thisArg, onItem) {\n    var key, polyline;\n    if (onItem != null) {\n      for (key in polylines) {\n        if (polylines.hasOwnProperty(key)) {\n          polyline = polylines[key];\n          if (polyline) {\n            polyline.optimizeMoveSegments();\n            if (onItem.call(thisArg, polyline)) {\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n  function addInverted(callbackFun, copyOnly) {\n    var backupPolylines, backupPolyline;\n\n    /* backup polylines */\n    backupPolylines = polylines;\n    polylines = {};\n    if (callbackFun != null) {\n      callbackFun(this);\n    }\n\n    /* add inverted polylines to backup collection */\n    loop(this, function (polyline) {\n      backupPolyline = _getPolyline(backupPolylines, polyline.paletteItem);\n      if (!copyOnly) {\n        backupPolyline.addInverted(polyline);\n      } else {\n        polyline.mergeTo(backupPolyline);\n      }\n    });\n\n    /* restore polylines */\n    polylines = backupPolylines;\n  }\n  function transform(transformArg, forward) {\n    loop(this, function (polyline) {\n      polyline.transform(transformArg, forward);\n    });\n  }\n  return {\n    getPolyline: getPolyline,\n    loop: loop,\n    addInverted: addInverted,\n    transform: transform\n  };\n}\n;","map":{"version":3,"names":["Polyline","PolylinesBuffer","polylines","_getPolyline","paletteItem","toString","getPolyline","loop","thisArg","onItem","key","polyline","hasOwnProperty","optimizeMoveSegments","call","addInverted","callbackFun","copyOnly","backupPolylines","backupPolyline","mergeTo","transform","transformArg","forward"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/graphics/structs/PolylinesBuffer.js"],"sourcesContent":["import Polyline from './Polyline';\r\n\r\nexport default function PolylinesBuffer() {\r\n  var polylines = {};\r\n\r\n  function _getPolyline(polylines, paletteItem) {\r\n    if (!polylines[paletteItem.toString()]) {\r\n      polylines[paletteItem.toString()] = new Polyline(paletteItem);\r\n    }\r\n    return polylines[paletteItem.toString()];\r\n  }\r\n\r\n  function getPolyline(paletteItem) {\r\n    return _getPolyline(polylines, paletteItem);\r\n  }\r\n\r\n  function loop(thisArg, onItem) {\r\n    var key,\r\n      polyline;\r\n    if (onItem != null) {\r\n      for (key in polylines) {\r\n        if (polylines.hasOwnProperty(key)) {\r\n          polyline = polylines[key];\r\n          if (polyline) {\r\n            polyline.optimizeMoveSegments();\r\n\r\n            if (onItem.call(thisArg, polyline)) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function addInverted(callbackFun, copyOnly) {\r\n    var backupPolylines, backupPolyline;\r\n\r\n    /* backup polylines */\r\n    backupPolylines = polylines;\r\n    polylines = {};\r\n\r\n    if (callbackFun != null) {\r\n      callbackFun(this);\r\n    }\r\n\r\n    /* add inverted polylines to backup collection */\r\n    loop(this, function (polyline) {\r\n      backupPolyline = _getPolyline(backupPolylines, polyline.paletteItem);\r\n\r\n      if (!copyOnly) {\r\n        backupPolyline.addInverted(polyline);\r\n      } else {\r\n        polyline.mergeTo(backupPolyline);\r\n      }\r\n    });\r\n\r\n    /* restore polylines */\r\n    polylines = backupPolylines;\r\n  }\r\n\r\n  function transform(transformArg, forward) {\r\n    loop(this, function (polyline) {\r\n      polyline.transform(transformArg, forward);\r\n    });\r\n  }\r\n\r\n  return {\r\n    getPolyline: getPolyline,\r\n    loop: loop,\r\n    addInverted: addInverted,\r\n    transform: transform\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjC,eAAe,SAASC,eAAeA,CAAA,EAAG;EACxC,IAAIC,SAAS,GAAG,CAAC,CAAC;EAElB,SAASC,YAAYA,CAACD,SAAS,EAAEE,WAAW,EAAE;IAC5C,IAAI,CAACF,SAAS,CAACE,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC,EAAE;MACtCH,SAAS,CAACE,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAIL,QAAQ,CAACI,WAAW,CAAC;IAC/D;IACA,OAAOF,SAAS,CAACE,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC;EAC1C;EAEA,SAASC,WAAWA,CAACF,WAAW,EAAE;IAChC,OAAOD,YAAY,CAACD,SAAS,EAAEE,WAAW,CAAC;EAC7C;EAEA,SAASG,IAAIA,CAACC,OAAO,EAAEC,MAAM,EAAE;IAC7B,IAAIC,GAAG,EACLC,QAAQ;IACV,IAAIF,MAAM,IAAI,IAAI,EAAE;MAClB,KAAKC,GAAG,IAAIR,SAAS,EAAE;QACrB,IAAIA,SAAS,CAACU,cAAc,CAACF,GAAG,CAAC,EAAE;UACjCC,QAAQ,GAAGT,SAAS,CAACQ,GAAG,CAAC;UACzB,IAAIC,QAAQ,EAAE;YACZA,QAAQ,CAACE,oBAAoB,CAAC,CAAC;YAE/B,IAAIJ,MAAM,CAACK,IAAI,CAACN,OAAO,EAAEG,QAAQ,CAAC,EAAE;cAClC;YACF;UACF;QACF;MACF;IACF;EACF;EAEA,SAASI,WAAWA,CAACC,WAAW,EAAEC,QAAQ,EAAE;IAC1C,IAAIC,eAAe,EAAEC,cAAc;;IAEnC;IACAD,eAAe,GAAGhB,SAAS;IAC3BA,SAAS,GAAG,CAAC,CAAC;IAEd,IAAIc,WAAW,IAAI,IAAI,EAAE;MACvBA,WAAW,CAAC,IAAI,CAAC;IACnB;;IAEA;IACAT,IAAI,CAAC,IAAI,EAAE,UAAUI,QAAQ,EAAE;MAC7BQ,cAAc,GAAGhB,YAAY,CAACe,eAAe,EAAEP,QAAQ,CAACP,WAAW,CAAC;MAEpE,IAAI,CAACa,QAAQ,EAAE;QACbE,cAAc,CAACJ,WAAW,CAACJ,QAAQ,CAAC;MACtC,CAAC,MAAM;QACLA,QAAQ,CAACS,OAAO,CAACD,cAAc,CAAC;MAClC;IACF,CAAC,CAAC;;IAEF;IACAjB,SAAS,GAAGgB,eAAe;EAC7B;EAEA,SAASG,SAASA,CAACC,YAAY,EAAEC,OAAO,EAAE;IACxChB,IAAI,CAAC,IAAI,EAAE,UAAUI,QAAQ,EAAE;MAC7BA,QAAQ,CAACU,SAAS,CAACC,YAAY,EAAEC,OAAO,CAAC;IAC3C,CAAC,CAAC;EACJ;EAEA,OAAO;IACLjB,WAAW,EAAEA,WAAW;IACxBC,IAAI,EAAEA,IAAI;IACVQ,WAAW,EAAEA,WAAW;IACxBM,SAAS,EAAEA;EACb,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}