{"ast":null,"code":"import Point from './Point';\nimport Vector from './Vector';\nimport Interval from './Interval';\nimport { PlacementType } from '../../enums';\n\n/**\r\n * @class Rect\r\n * @classdesc Class describes the width, height and location of rectangle.\r\n * \r\n * @param {Rect} arg0 Rectangle to clone.\r\n * \r\n * @param {Point} arg0 The top left point.\r\n * @param {Point} arg1 The bottom right point.\r\n * \r\n * @param {number} arg0 The x coordinate of top left corner.\r\n * @param {number} arg1 The y coordinate of top left corner.\r\n * @param {number} arg2 Rect width.\r\n * @param {number} arg3 Rect height.\r\n */\nexport default function Rect(arg0, arg1, arg2, arg3) {\n  /**\r\n   * The location x coordinate\r\n   * @type {number}\r\n   */\n  this.x = null;\n  /**\r\n   * The location y coordinate\r\n   * @type {number}\r\n   */\n  this.y = null;\n  /**\r\n   * The width of rectangle.\r\n   * @type {number}\r\n   */\n  this.width = null;\n  /**\r\n   * The height of rectangle.\r\n   * @type {number}\r\n   */\n  this.height = null;\n  /**\r\n   * Reference to context object associated with this rectangle.\r\n   * @type {object}\r\n   */\n  this.context = null;\n  switch (arguments.length) {\n    case 1:\n      this.x = arg0.x;\n      this.y = arg0.y;\n      this.width = arg0.width;\n      this.height = arg0.height;\n      break;\n    case 2:\n      this.x = Math.min(arg0.x, arg1.x);\n      this.y = Math.min(arg0.y, arg1.y);\n      this.width = Math.abs(arg1.x - arg0.x);\n      this.height = Math.abs(arg1.y - arg0.y);\n      break;\n    case 4:\n      this.x = arg0;\n      this.y = arg1;\n      this.width = arg2;\n      this.height = arg3;\n      break;\n    default:\n      break;\n  }\n}\n;\n\n/**\r\n * Left\r\n * \r\n * @returns {number} Returns x coordinate of the rectangle\r\n */\nRect.prototype.left = function () {\n  return this.x;\n};\n\n/**\r\n * Top\r\n * \r\n * @returns {number} Returns y coordinate of the rectangle\r\n */\nRect.prototype.top = function () {\n  return this.y;\n};\n\n/**\r\n * Right\r\n * \r\n * @returns {number} Returns x-axis coordinate of the right side of the rectangle\r\n */\nRect.prototype.right = function () {\n  return this.x + this.width;\n};\n\n/**\r\n * Bottom\r\n * \r\n * @returns {number} Returns y-axis coordinate of the bottom side of the rectangle\r\n */\nRect.prototype.bottom = function () {\n  return this.y + this.height;\n};\n\n/**\r\n * Vertical center\r\n * \r\n * @returns {number} Returns y-axis coordinate of the center point of the rectangle.\r\n */\nRect.prototype.verticalCenter = function () {\n  return this.y + this.height / 2.0;\n};\n\n/**\r\n * Horizontal center\r\n * \r\n * @returns {number} Returns x-axis coordinate of the center point of the rectangle.\r\n */\nRect.prototype.horizontalCenter = function () {\n  return this.x + this.width / 2.0;\n};\n\n/**\r\n * Center point\r\n * \r\n * @returns {Point} Returns center point of the rectangle.\r\n */\nRect.prototype.centerPoint = function () {\n  return new Point(this.horizontalCenter(), this.verticalCenter());\n};\n\n/**\r\n * Checks if rectangle is empty. Rectangle is empty if one of its sizes is undefined or less than zero.\r\n * \r\n * @returns {boolean} Returns true if rectangle is empty.\r\n */\nRect.prototype.isEmpty = function () {\n  return this.x === null || this.y === null || this.width === null || this.height === null || this.width < 0 || this.height < 0;\n};\n\n/**\r\n * Expands rectangle boundaries by using specified value in all directions. Value can be negative.\r\n * \r\n * @param {number} arg0 The amount by which to expand or shrink the sides of the rectangle.\r\n * @param {number} arg0 Left side\r\n * @param {number} arg1 Top side\r\n * @param {number} arg2 Right side\r\n * @param {number} arg3 Bottom side\r\n */\nRect.prototype.offset = function (arg0, arg1, arg2, arg3) {\n  switch (arguments.length) {\n    case 1:\n      if (arg0 !== null && typeof arg0 == \"object\") {\n        this.x = this.x - arg0.left;\n        this.y = this.y - arg0.top;\n        this.width = this.width + arg0.left + arg0.right;\n        this.height = this.height + arg0.top + arg0.bottom;\n      } else {\n        this.x = this.x - arg0;\n        this.y = this.y - arg0;\n        this.width = this.width + arg0 * 2.0;\n        this.height = this.height + arg0 * 2.0;\n      }\n      break;\n    case 4:\n      this.x = this.x - arg0;\n      this.y = this.y - arg1;\n      this.width = this.width + arg0 + arg2;\n      this.height = this.height + arg1 + arg3;\n      break;\n  }\n  return this;\n};\n\n/**\r\n * Scales the rectangle by the specified value\r\n * \r\n * @param {number} scale\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\nRect.prototype.scale = function (scale) {\n  this.x = this.x * scale;\n  this.y = this.y * scale;\n  this.width = this.width * scale;\n  this.height = this.height * scale;\n  return this;\n};\n\n/**\r\n * Moves the rectangle by the specified horizontal and vertical offsets.\r\n * \r\n * @param {number} x Horizontal offset\r\n * @param {number} y Vertical offset\r\n * \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\nRect.prototype.translate = function (x, y) {\n  this.x = this.x + x;\n  this.y = this.y + y;\n  return this;\n};\n\n/**\r\n * Inverts rectangle coordinates\r\n * \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\nRect.prototype.invert = function () {\n  var width = this.width,\n    x = this.x;\n  this.width = this.height;\n  this.height = width;\n  this.x = this.y;\n  this.y = x;\n  return this;\n};\n\n/**\r\n * Callback for iterating rectangle's sides\r\n *\r\n * @callback loopRectEdgesCallback\r\n * @param {Vector} vector Vector connecting two corners of the rectangle's side\r\n * @param {PlacementType} placementType The current side\r\n * @returns {boolean} Returns true to break iteration process\r\n */\n\n/**\r\n * Loops edges of the rectangle in the clockwise order: Top, Right, Bottom, Left\r\n *\r\n * @param {loopRectEdgesCallback} callback A callback function to iterate over sides of the rectangle. \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n*/\nRect.prototype.loopEdges = function (callback) {\n  // function(vector, placementType) {}\n  var vertexes = [new Point(this.left(), this.top()), new Point(this.right(), this.top()), new Point(this.right(), this.bottom()), new Point(this.left(), this.bottom())],\n    placements = [PlacementType.Top, PlacementType.Right, PlacementType.Bottom, PlacementType.Left];\n  vertexes.push(vertexes[0]);\n  if (callback != null) {\n    for (var index = 1, len = vertexes.length; index < len; index += 1) {\n      if (callback(new Vector(vertexes[index - 1], vertexes[index]), placements[index - 1])) {\n        break;\n      }\n    }\n  }\n  return this;\n};\n\n/**\r\n * Checks if the rectangle contains given point\r\n * \r\n * @param {Point} arg0 The point to check.\r\n * \r\n * @param {number} arg0  The x coordinate of the point to check.\r\n * @param {number} arg1  The y coordinate of the point to check.\r\n * @returns {boolean} Returns true if the rectangle contains the specified point; otherwise, false.\r\n */\nRect.prototype.contains = function (arg0, arg1) {\n  switch (arguments.length) {\n    case 1:\n      return this.x <= arg0.x && arg0.x <= this.x + this.width && this.y <= arg0.y && arg0.y <= this.y + this.height;\n    case 2:\n      return this.x <= arg0 && arg0 <= this.x + this.width && this.y <= arg1 && arg1 <= this.y + this.height;\n    default:\n      return false;\n  }\n};\n\n/**\r\n * Crops the rectangle by the boundaries of the specified rectangle.\r\n * \r\n * @param {Rect} rect The rectangle that is used to crop boundaries by\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\nRect.prototype.cropByRect = function (rect) {\n  if (this.x < rect.x) {\n    this.width -= rect.x - this.x;\n    this.x = rect.x;\n  }\n  if (this.right() > rect.right()) {\n    this.width -= this.right() - rect.right();\n  }\n  if (this.y < rect.y) {\n    this.height -= rect.y - this.y;\n    this.y = rect.y;\n  }\n  if (this.bottom() > rect.bottom()) {\n    this.height -= this.bottom() - rect.bottom();\n  }\n  if (this.isEmpty()) {\n    this.x = null;\n    this.y = null;\n    this.width = null;\n    this.height = null;\n  }\n  return this;\n};\n\n/**\r\n * Checks if the rectangle overlaps the specified rectangle\r\n * \r\n * @param {Rect} rect The rectangle to check overlapping for.\r\n * @returns {boolean} Returns true if two rectangles overlap each other.\r\n */\nRect.prototype.overlaps = function (rect) {\n  var result = true;\n  if (this.x + this.width < rect.x || rect.x + rect.width < this.x || this.y + this.height < rect.y || rect.y + rect.height < this.y) {\n    result = false;\n  }\n  return result;\n};\n\n/**\r\n * Expands the rectangle boundaries to contain the specified rectangle.\r\n * \r\n * @param {Rect} arg0 The rectangle to contain.\r\n * \r\n * @param {number} arg0 The x coordinate of top left corner.\r\n * @param {number} arg1 The y coordinate of top left corner.\r\n * @param {number} [arg2=undefined] Width.\r\n * @param {number} [arg3=undefined] Height.\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\nRect.prototype.addRect = function (arg0, arg1, arg2, arg3) {\n  var right, bottom;\n  switch (arguments.length) {\n    case 1:\n      if (!arg0.isEmpty()) {\n        if (this.isEmpty()) {\n          this.x = arg0.x;\n          this.y = arg0.y;\n          this.width = arg0.width;\n          this.height = arg0.height;\n        } else {\n          right = Math.max(this.right(), arg0.right());\n          bottom = Math.max(this.bottom(), arg0.bottom());\n          this.x = Math.min(this.x, arg0.x);\n          this.y = Math.min(this.y, arg0.y);\n          this.width = right - this.x;\n          this.height = bottom - this.y;\n        }\n      }\n      break;\n    case 2:\n      if (this.isEmpty()) {\n        this.x = arg0;\n        this.y = arg1;\n        this.width = 0;\n        this.height = 0;\n      } else {\n        right = Math.max(this.right(), arg0);\n        bottom = Math.max(this.bottom(), arg1);\n        this.x = Math.min(this.x, arg0);\n        this.y = Math.min(this.y, arg1);\n        this.width = right - this.x;\n        this.height = bottom - this.y;\n      }\n      break;\n    case 4:\n      if (this.isEmpty()) {\n        this.x = arg0;\n        this.y = arg1;\n        this.width = arg2;\n        this.height = arg3;\n      } else {\n        right = Math.max(this.right(), arg0 + arg2);\n        bottom = Math.max(this.bottom(), arg1 + arg3);\n        this.x = Math.min(this.x, arg0);\n        this.y = Math.min(this.y, arg1);\n        this.width = right - this.x;\n        this.height = bottom - this.y;\n      }\n      break;\n  }\n  return this;\n};\n\n/**\r\n * Returns rectangle location and size in form of CSS style object.\r\n * \r\n * @param {string} [units=\"px\"] The string name of units.\r\n * @returns {object} CSS style object\r\n */\nRect.prototype.getCSS = function (units) {\n  units = units !== undefined ? units : \"px\";\n  var result = {\n    left: this.x + units,\n    top: this.y + units,\n    width: this.width + units,\n    height: this.height + units\n  };\n  return result;\n};\n\n/**\r\n * Returns rectangle location and size in form of CSS style string.\r\n * \r\n * @param {string} [units=\"px\"] The string name of units.\r\n * @returns {string} CSS style string.\r\n */\nRect.prototype.toString = function (units) {\n  var result = \"\";\n  units = units !== undefined ? units : \"px\";\n  result += \"left:\" + this.x + units + \";\";\n  result += \"top:\" + this.y + units + \";\";\n  result += \"width:\" + this.width + units + \";\";\n  result += \"height:\" + this.height + units + \";\";\n  return result;\n};\n\n/**\r\n * Validates rectangle properties\r\n * \r\n * @returns {boolean} Returns true if rectangle properties are valid.\r\n */\nRect.prototype.validate = function () {\n  if (isNaN(this.x) || isNaN(this.y) || isNaN(this.width) || isNaN(this.height)) {\n    throw \"Invalid rect position.\";\n  }\n};\n\n/**\r\n * Checks if rectangles are equal\r\n * \r\n * @param {Rect} rect Rectangle\r\n * @returns {boolean} Returns true if rectangles are equal.\r\n */\nRect.prototype.equalTo = function (rect) {\n  return this.x == rect.x && this.y == rect.y && this.width == rect.width && this.height == rect.height;\n};\n\n/**\r\n * Find intersection point between rectangle's perimeter and line connecting the given point and center of the rectangle\r\n * \r\n * @param {Point} point Point to project\r\n * @returns {Point} Returns point or null if point is inside rectangle.\r\n */\nRect.prototype.getProjectionPoint = function (point) {\n  var result = null;\n  if (!this.contains(point)) {\n    var vector = new Vector(this.centerPoint(), point);\n    this.loopEdges(function (edge) {\n      result = vector.getIntersectionPoint(edge, true, 1.0);\n      return result != null;\n    });\n  }\n  return result;\n};\n\n/**\r\n * Vertical Interval\r\n * \r\n * @returns {Interval} Returns vertical interval of the rectangle\r\n */\nRect.prototype.verticalInterval = function () {\n  return new Interval(this.y, this.bottom());\n};","map":{"version":3,"names":["Point","Vector","Interval","PlacementType","Rect","arg0","arg1","arg2","arg3","x","y","width","height","context","arguments","length","Math","min","abs","prototype","left","top","right","bottom","verticalCenter","horizontalCenter","centerPoint","isEmpty","offset","scale","translate","invert","loopEdges","callback","vertexes","placements","Top","Right","Bottom","Left","push","index","len","contains","cropByRect","rect","overlaps","result","addRect","max","getCSS","units","undefined","toString","validate","isNaN","equalTo","getProjectionPoint","point","vector","edge","getIntersectionPoint","verticalInterval"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/graphics/structs/Rect.js"],"sourcesContent":["import Point from './Point';\r\nimport Vector from './Vector';\r\nimport Interval from './Interval';\r\nimport { PlacementType } from '../../enums'\r\n\r\n/**\r\n * @class Rect\r\n * @classdesc Class describes the width, height and location of rectangle.\r\n * \r\n * @param {Rect} arg0 Rectangle to clone.\r\n * \r\n * @param {Point} arg0 The top left point.\r\n * @param {Point} arg1 The bottom right point.\r\n * \r\n * @param {number} arg0 The x coordinate of top left corner.\r\n * @param {number} arg1 The y coordinate of top left corner.\r\n * @param {number} arg2 Rect width.\r\n * @param {number} arg3 Rect height.\r\n */\r\nexport default function Rect(arg0, arg1, arg2, arg3) {\r\n  /**\r\n   * The location x coordinate\r\n   * @type {number}\r\n   */\r\n  this.x = null;\r\n  /**\r\n   * The location y coordinate\r\n   * @type {number}\r\n   */\r\n  this.y = null;\r\n  /**\r\n   * The width of rectangle.\r\n   * @type {number}\r\n   */\r\n  this.width = null;\r\n  /**\r\n   * The height of rectangle.\r\n   * @type {number}\r\n   */\r\n  this.height = null;\r\n  /**\r\n   * Reference to context object associated with this rectangle.\r\n   * @type {object}\r\n   */\r\n  this.context = null;\r\n\r\n  switch (arguments.length) {\r\n    case 1:\r\n      this.x = arg0.x;\r\n      this.y = arg0.y;\r\n      this.width = arg0.width;\r\n      this.height = arg0.height;\r\n      break;\r\n    case 2:\r\n      this.x = Math.min(arg0.x, arg1.x);\r\n      this.y = Math.min(arg0.y, arg1.y);\r\n      this.width = Math.abs(arg1.x - arg0.x);\r\n      this.height = Math.abs(arg1.y - arg0.y);\r\n      break;\r\n    case 4:\r\n      this.x = arg0;\r\n      this.y = arg1;\r\n      this.width = arg2;\r\n      this.height = arg3;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\n/**\r\n * Left\r\n * \r\n * @returns {number} Returns x coordinate of the rectangle\r\n */\r\nRect.prototype.left = function () {\r\n  return this.x;\r\n};\r\n\r\n/**\r\n * Top\r\n * \r\n * @returns {number} Returns y coordinate of the rectangle\r\n */\r\nRect.prototype.top = function () {\r\n  return this.y;\r\n};\r\n\r\n/**\r\n * Right\r\n * \r\n * @returns {number} Returns x-axis coordinate of the right side of the rectangle\r\n */\r\nRect.prototype.right = function () {\r\n  return this.x + this.width;\r\n};\r\n\r\n/**\r\n * Bottom\r\n * \r\n * @returns {number} Returns y-axis coordinate of the bottom side of the rectangle\r\n */\r\nRect.prototype.bottom = function () {\r\n  return this.y + this.height;\r\n};\r\n\r\n/**\r\n * Vertical center\r\n * \r\n * @returns {number} Returns y-axis coordinate of the center point of the rectangle.\r\n */\r\nRect.prototype.verticalCenter = function () {\r\n  return this.y + this.height / 2.0;\r\n};\r\n\r\n/**\r\n * Horizontal center\r\n * \r\n * @returns {number} Returns x-axis coordinate of the center point of the rectangle.\r\n */\r\nRect.prototype.horizontalCenter = function () {\r\n  return this.x + this.width / 2.0;\r\n};\r\n\r\n/**\r\n * Center point\r\n * \r\n * @returns {Point} Returns center point of the rectangle.\r\n */\r\nRect.prototype.centerPoint = function () {\r\n  return new Point(this.horizontalCenter(), this.verticalCenter());\r\n};\r\n\r\n/**\r\n * Checks if rectangle is empty. Rectangle is empty if one of its sizes is undefined or less than zero.\r\n * \r\n * @returns {boolean} Returns true if rectangle is empty.\r\n */\r\nRect.prototype.isEmpty = function () {\r\n  return this.x === null || this.y === null || this.width === null || this.height === null || this.width < 0 || this.height < 0;\r\n};\r\n\r\n/**\r\n * Expands rectangle boundaries by using specified value in all directions. Value can be negative.\r\n * \r\n * @param {number} arg0 The amount by which to expand or shrink the sides of the rectangle.\r\n * @param {number} arg0 Left side\r\n * @param {number} arg1 Top side\r\n * @param {number} arg2 Right side\r\n * @param {number} arg3 Bottom side\r\n */\r\nRect.prototype.offset = function (arg0, arg1, arg2, arg3) {\r\n  switch (arguments.length) {\r\n    case 1:\r\n      if (arg0 !== null && typeof arg0 == \"object\") {\r\n        this.x = this.x - arg0.left;\r\n        this.y = this.y - arg0.top;\r\n\r\n        this.width = this.width + arg0.left + arg0.right;\r\n        this.height = this.height + arg0.top + arg0.bottom;\r\n      } else {\r\n        this.x = this.x - arg0;\r\n        this.y = this.y - arg0;\r\n\r\n        this.width = this.width + arg0 * 2.0;\r\n        this.height = this.height + arg0 * 2.0;\r\n      }\r\n      break;\r\n    case 4:\r\n      this.x = this.x - arg0;\r\n      this.y = this.y - arg1;\r\n\r\n      this.width = this.width + arg0 + arg2;\r\n      this.height = this.height + arg1 + arg3;\r\n      break;\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Scales the rectangle by the specified value\r\n * \r\n * @param {number} scale\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\r\nRect.prototype.scale = function (scale) {\r\n  this.x = this.x * scale;\r\n  this.y = this.y * scale;\r\n  this.width = this.width * scale;\r\n  this.height = this.height * scale;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Moves the rectangle by the specified horizontal and vertical offsets.\r\n * \r\n * @param {number} x Horizontal offset\r\n * @param {number} y Vertical offset\r\n * \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\r\nRect.prototype.translate = function (x, y) {\r\n  this.x = this.x + x;\r\n  this.y = this.y + y;\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Inverts rectangle coordinates\r\n * \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\r\nRect.prototype.invert = function () {\r\n  var width = this.width,\r\n    x = this.x;\r\n  this.width = this.height;\r\n  this.height = width;\r\n  this.x = this.y;\r\n  this.y = x;\r\n  return this;\r\n};\r\n\r\n/**\r\n * Callback for iterating rectangle's sides\r\n *\r\n * @callback loopRectEdgesCallback\r\n * @param {Vector} vector Vector connecting two corners of the rectangle's side\r\n * @param {PlacementType} placementType The current side\r\n * @returns {boolean} Returns true to break iteration process\r\n */\r\n\r\n/**\r\n * Loops edges of the rectangle in the clockwise order: Top, Right, Bottom, Left\r\n *\r\n * @param {loopRectEdgesCallback} callback A callback function to iterate over sides of the rectangle. \r\n * @returns {Rect} Returns reference to the current rectangle.\r\n*/\r\nRect.prototype.loopEdges = function (callback) { // function(vector, placementType) {}\r\n  var vertexes = [\r\n    new Point(this.left(), this.top()),\r\n    new Point(this.right(), this.top()),\r\n    new Point(this.right(), this.bottom()),\r\n    new Point(this.left(), this.bottom())\r\n  ],\r\n    placements = [\r\n      PlacementType.Top,\r\n      PlacementType.Right,\r\n      PlacementType.Bottom,\r\n      PlacementType.Left\r\n    ];\r\n\r\n  vertexes.push(vertexes[0]);\r\n\r\n\r\n\r\n  if (callback != null) {\r\n    for (var index = 1, len = vertexes.length; index < len; index += 1) {\r\n      if (callback(new Vector(vertexes[index - 1], vertexes[index]), placements[index - 1])) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Checks if the rectangle contains given point\r\n * \r\n * @param {Point} arg0 The point to check.\r\n * \r\n * @param {number} arg0  The x coordinate of the point to check.\r\n * @param {number} arg1  The y coordinate of the point to check.\r\n * @returns {boolean} Returns true if the rectangle contains the specified point; otherwise, false.\r\n */\r\nRect.prototype.contains = function (arg0, arg1) {\r\n  switch (arguments.length) {\r\n    case 1:\r\n      return this.x <= arg0.x && arg0.x <= this.x + this.width && this.y <= arg0.y && arg0.y <= this.y + this.height;\r\n    case 2:\r\n      return this.x <= arg0 && arg0 <= this.x + this.width && this.y <= arg1 && arg1 <= this.y + this.height;\r\n    default:\r\n      return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Crops the rectangle by the boundaries of the specified rectangle.\r\n * \r\n * @param {Rect} rect The rectangle that is used to crop boundaries by\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\r\nRect.prototype.cropByRect = function (rect) {\r\n  if (this.x < rect.x) {\r\n    this.width -= (rect.x - this.x);\r\n    this.x = rect.x;\r\n  }\r\n\r\n  if (this.right() > rect.right()) {\r\n    this.width -= (this.right() - rect.right());\r\n  }\r\n\r\n  if (this.y < rect.y) {\r\n    this.height -= (rect.y - this.y);\r\n    this.y = rect.y;\r\n  }\r\n\r\n  if (this.bottom() > rect.bottom()) {\r\n    this.height -= this.bottom() - rect.bottom();\r\n  }\r\n\r\n  if (this.isEmpty()) {\r\n    this.x = null;\r\n    this.y = null;\r\n    this.width = null;\r\n    this.height = null;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Checks if the rectangle overlaps the specified rectangle\r\n * \r\n * @param {Rect} rect The rectangle to check overlapping for.\r\n * @returns {boolean} Returns true if two rectangles overlap each other.\r\n */\r\nRect.prototype.overlaps = function (rect) {\r\n  var result = true;\r\n  if (this.x + this.width < rect.x || rect.x + rect.width < this.x || this.y + this.height < rect.y || rect.y + rect.height < this.y) {\r\n    result = false;\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Expands the rectangle boundaries to contain the specified rectangle.\r\n * \r\n * @param {Rect} arg0 The rectangle to contain.\r\n * \r\n * @param {number} arg0 The x coordinate of top left corner.\r\n * @param {number} arg1 The y coordinate of top left corner.\r\n * @param {number} [arg2=undefined] Width.\r\n * @param {number} [arg3=undefined] Height.\r\n * @returns {Rect} Returns reference to the current rectangle.\r\n */\r\nRect.prototype.addRect = function (arg0, arg1, arg2, arg3) {\r\n  var right,\r\n    bottom;\r\n  switch (arguments.length) {\r\n    case 1:\r\n      if (!arg0.isEmpty()) {\r\n        if (this.isEmpty()) {\r\n          this.x = arg0.x;\r\n          this.y = arg0.y;\r\n          this.width = arg0.width;\r\n          this.height = arg0.height;\r\n        }\r\n        else {\r\n          right = Math.max(this.right(), arg0.right());\r\n          bottom = Math.max(this.bottom(), arg0.bottom());\r\n\r\n          this.x = Math.min(this.x, arg0.x);\r\n          this.y = Math.min(this.y, arg0.y);\r\n          this.width = right - this.x;\r\n          this.height = bottom - this.y;\r\n        }\r\n      }\r\n      break;\r\n    case 2:\r\n      if (this.isEmpty()) {\r\n        this.x = arg0;\r\n        this.y = arg1;\r\n        this.width = 0;\r\n        this.height = 0;\r\n      }\r\n      else {\r\n        right = Math.max(this.right(), arg0);\r\n        bottom = Math.max(this.bottom(), arg1);\r\n\r\n        this.x = Math.min(this.x, arg0);\r\n        this.y = Math.min(this.y, arg1);\r\n        this.width = right - this.x;\r\n        this.height = bottom - this.y;\r\n      }\r\n      break;\r\n    case 4:\r\n      if (this.isEmpty()) {\r\n        this.x = arg0;\r\n        this.y = arg1;\r\n        this.width = arg2;\r\n        this.height = arg3;\r\n      }\r\n      else {\r\n        right = Math.max(this.right(), arg0 + arg2);\r\n        bottom = Math.max(this.bottom(), arg1 + arg3);\r\n\r\n        this.x = Math.min(this.x, arg0);\r\n        this.y = Math.min(this.y, arg1);\r\n        this.width = right - this.x;\r\n        this.height = bottom - this.y;\r\n      }\r\n      break;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Returns rectangle location and size in form of CSS style object.\r\n * \r\n * @param {string} [units=\"px\"] The string name of units.\r\n * @returns {object} CSS style object\r\n */\r\nRect.prototype.getCSS = function (units) {\r\n  units = (units !== undefined) ? units : \"px\";\r\n\r\n  var result = {\r\n    left: this.x + units,\r\n    top: this.y + units,\r\n    width: this.width + units,\r\n    height: this.height + units\r\n  };\r\n  return result;\r\n};\r\n\r\n/**\r\n * Returns rectangle location and size in form of CSS style string.\r\n * \r\n * @param {string} [units=\"px\"] The string name of units.\r\n * @returns {string} CSS style string.\r\n */\r\nRect.prototype.toString = function (units) {\r\n  var result = \"\";\r\n\r\n  units = (units !== undefined) ? units : \"px\";\r\n\r\n  result += \"left:\" + this.x + units + \";\";\r\n  result += \"top:\" + this.y + units + \";\";\r\n  result += \"width:\" + this.width + units + \";\";\r\n  result += \"height:\" + this.height + units + \";\";\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Validates rectangle properties\r\n * \r\n * @returns {boolean} Returns true if rectangle properties are valid.\r\n */\r\nRect.prototype.validate = function () {\r\n  if (isNaN(this.x) || isNaN(this.y) || isNaN(this.width) || isNaN(this.height)) {\r\n    throw \"Invalid rect position.\";\r\n  }\r\n};\r\n\r\n/**\r\n * Checks if rectangles are equal\r\n * \r\n * @param {Rect} rect Rectangle\r\n * @returns {boolean} Returns true if rectangles are equal.\r\n */\r\nRect.prototype.equalTo = function (rect) {\r\n  return this.x == rect.x && this.y == rect.y && this.width == rect.width && this.height == rect.height;\r\n};\r\n\r\n/**\r\n * Find intersection point between rectangle's perimeter and line connecting the given point and center of the rectangle\r\n * \r\n * @param {Point} point Point to project\r\n * @returns {Point} Returns point or null if point is inside rectangle.\r\n */\r\nRect.prototype.getProjectionPoint = function (point) {\r\n  var result = null;\r\n  if(!this.contains(point)) {\r\n    var vector = new Vector(this.centerPoint(), point);\r\n    this.loopEdges(function(edge) {\r\n      result = vector.getIntersectionPoint(edge, true, 1.0);\r\n      return (result != null);\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Vertical Interval\r\n * \r\n * @returns {Interval} Returns vertical interval of the rectangle\r\n */\r\nRect.prototype.verticalInterval = function () {\r\n  return new Interval( this.y, this.bottom() );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}