{"ast":null,"code":"import Point from '../../graphics/structs/Point';\nimport Size from '../../graphics/structs/Size';\nimport Rect from '../../graphics/structs/Rect';\nimport RenderEventArgs from '../../events/RenderEventArgs';\nimport { Layers, Visibility, AdviserPlacementType } from '../../enums';\nexport default function DrawTreeItemsTask(getGraphics, createTransformTask, applyLayoutChangesTask, scaleOptionTask, itemsSizesOptionTask, combinedContextsTask, alignDiagramTask, centerOnCursorTask, itemTemplateParamsTask, cursorItemTask, selectedItemsTask, groupTitleTemplateTask, checkBoxTemplateTask, buttonsTemplateTask) {\n  var _positions, _graphics, _transform, _itemsSizesOptions, _buttonsTemplate, _checkBoxTemplate, _groupTitleTemplate;\n  function process() {\n    _graphics = getGraphics();\n    _itemsSizesOptions = itemsSizesOptionTask.getOptions();\n    _positions = alignDiagramTask.getItemsPositions();\n    _transform = createTransformTask.getTransform();\n    _buttonsTemplate = buttonsTemplateTask.getTemplate();\n    _checkBoxTemplate = checkBoxTemplateTask.getTemplate();\n    _groupTitleTemplate = groupTitleTemplateTask.getTemplate();\n    _graphics.reset(\"placeholder\", Layers.Item);\n    _graphics.reset(\"placeholder\", Layers.Controls);\n    redrawTreeItems();\n    return false;\n  }\n  function redrawTreeItems() {\n    var uiHash,\n      element,\n      cursorItemId = cursorItemTask.getCursorTreeItem(),\n      treeItemPosition,\n      actualPosition,\n      viewPortPosition = getViewPortPosition();\n    for (var treeItemId in _positions) {\n      if (_positions.hasOwnProperty(treeItemId)) {\n        treeItemPosition = _positions[treeItemId], actualPosition = treeItemPosition.actualPosition;\n        if (treeItemPosition.actualVisibility == Visibility.Normal) {\n          _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true, this, function (x, y, width, height) {\n            var nodePosition = new Rect(x, y, width, height);\n            if (viewPortPosition == null || viewPortPosition.overlaps(nodePosition)) {\n              var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId);\n              if (templateParams != null) {\n                var template = templateParams.template;\n                uiHash = new RenderEventArgs();\n                uiHash.id = treeItemId;\n                uiHash.context = combinedContextsTask.getConfig(treeItemId);\n                uiHash.isCursor = treeItemId == cursorItemId;\n                uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\n                uiHash.templateName = template.templateConfig.name;\n                uiHash.template = templateParams.template;\n                uiHash.isActive = templateParams.isActive;\n                uiHash.hasSelectorCheckbox = templateParams.hasSelectorCheckbox;\n                uiHash.hasButtons = templateParams.hasButtons;\n                uiHash.hasGroupTitle = templateParams.hasGroupTitle;\n                uiHash.onButtonsRender = templateParams.onButtonsRender;\n                _graphics.activate(\"placeholder\", Layers.Item);\n                element = _graphics.template(x, y, width, height, treeItemPosition.contentPosition.x, treeItemPosition.contentPosition.y, treeItemPosition.contentPosition.width, treeItemPosition.contentPosition.height, template.itemTemplate.template(), template.itemTemplate.getHashCode(), template.itemTemplate.render, uiHash, {\n                  \"borderWidth\": template.templateConfig.itemBorderWidth\n                });\n                if (templateParams.hasGroupTitle) {\n                  var groupTitlePosition = 0;\n                  switch (_itemsSizesOptions.groupTitlePlacementType) {\n                    case AdviserPlacementType.Left:\n                    case AdviserPlacementType.Auto:\n                      groupTitlePosition = 2;\n                      break;\n                    case AdviserPlacementType.Right:\n                      groupTitlePosition = width - (_itemsSizesOptions.groupTitlePanelSize - 4);\n                      break;\n                    default:\n                  }\n                  element = _graphics.template(x, y, width, height, groupTitlePosition, treeItemPosition.contentPosition.y, _itemsSizesOptions.groupTitlePanelSize - 4, treeItemPosition.contentPosition.height + 2, _groupTitleTemplate.template(), _groupTitleTemplate.getHashCode(), _groupTitleTemplate.render, uiHash, null);\n                }\n                if (templateParams.hasSelectorCheckbox) {\n                  _graphics.activate(\"placeholder\", Layers.Controls);\n                  element = _graphics.template(x, y, width, height, treeItemPosition.contentPosition.x, height - (_itemsSizesOptions.checkBoxPanelSize - 4), treeItemPosition.contentPosition.width, _itemsSizesOptions.checkBoxPanelSize - 4, _checkBoxTemplate.template(), _checkBoxTemplate.getHashCode(), _checkBoxTemplate.render, uiHash, null);\n                }\n                if (templateParams.hasButtons) {\n                  _graphics.activate(\"placeholder\", Layers.Controls);\n                  var buttonsPanelPosition = 0;\n                  switch (_itemsSizesOptions.groupTitlePlacementType) {\n                    case AdviserPlacementType.Left:\n                    case AdviserPlacementType.Auto:\n                      buttonsPanelPosition = width - (_itemsSizesOptions.buttonsPanelSize - 4);\n                      break;\n                    case AdviserPlacementType.Right:\n                      buttonsPanelPosition = 2;\n                      break;\n                    default:\n                  }\n                  element = _graphics.template(x, y, width, height, buttonsPanelPosition, treeItemPosition.contentPosition.y, _itemsSizesOptions.buttonsPanelSize - 4, Math.max(treeItemPosition.contentPosition.height, height - treeItemPosition.contentPosition.y), _buttonsTemplate.template(), template.templateConfig.name + _buttonsTemplate.getHashCode(), _buttonsTemplate.render, uiHash, null);\n                }\n              }\n            }\n          }); //ignore jslint\n        }\n      }\n    }\n  }\n  function getViewPortPosition() {\n    var result = null;\n    if (centerOnCursorTask != null) {\n      var scaleOptions = scaleOptionTask.getOptions(),\n        scale = scaleOptions.scale,\n        placeholderOffset = new Point(centerOnCursorTask.getPlaceholderOffset()),\n        panelSize = new Rect(alignDiagramTask.getContentSize()),\n        optimalPanelSize = new Size(applyLayoutChangesTask.getOptimalPanelSize());\n      placeholderOffset.scale(1.0 / scale);\n      optimalPanelSize.scale(1.0 / scale);\n      result = new Rect(placeholderOffset.x, placeholderOffset.y, Math.min(optimalPanelSize.width, panelSize.width), Math.min(optimalPanelSize.height, panelSize.height));\n    }\n    return result;\n  }\n  return {\n    process: process\n  };\n}\n;","map":{"version":3,"names":["Point","Size","Rect","RenderEventArgs","Layers","Visibility","AdviserPlacementType","DrawTreeItemsTask","getGraphics","createTransformTask","applyLayoutChangesTask","scaleOptionTask","itemsSizesOptionTask","combinedContextsTask","alignDiagramTask","centerOnCursorTask","itemTemplateParamsTask","cursorItemTask","selectedItemsTask","groupTitleTemplateTask","checkBoxTemplateTask","buttonsTemplateTask","_positions","_graphics","_transform","_itemsSizesOptions","_buttonsTemplate","_checkBoxTemplate","_groupTitleTemplate","process","getOptions","getItemsPositions","getTransform","getTemplate","reset","Item","Controls","redrawTreeItems","uiHash","element","cursorItemId","getCursorTreeItem","treeItemPosition","actualPosition","viewPortPosition","getViewPortPosition","treeItemId","hasOwnProperty","actualVisibility","Normal","transformRect","x","y","width","height","nodePosition","overlaps","templateParams","getTemplateParams","template","id","context","getConfig","isCursor","isSelected","templateName","templateConfig","name","isActive","hasSelectorCheckbox","hasButtons","hasGroupTitle","onButtonsRender","activate","contentPosition","itemTemplate","getHashCode","render","itemBorderWidth","groupTitlePosition","groupTitlePlacementType","Left","Auto","Right","groupTitlePanelSize","checkBoxPanelSize","buttonsPanelPosition","buttonsPanelSize","Math","max","result","scaleOptions","scale","placeholderOffset","getPlaceholderOffset","panelSize","getContentSize","optimalPanelSize","getOptimalPanelSize","min"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/renders/DrawTreeItemsTask.js"],"sourcesContent":["import Point from '../../graphics/structs/Point';\r\nimport Size from '../../graphics/structs/Size';\r\nimport Rect from '../../graphics/structs/Rect';\r\nimport RenderEventArgs from '../../events/RenderEventArgs';\r\nimport { Layers, Visibility, AdviserPlacementType } from '../../enums';\r\n\r\nexport default function DrawTreeItemsTask(getGraphics, createTransformTask, applyLayoutChangesTask, scaleOptionTask,\r\n  itemsSizesOptionTask,\r\n  combinedContextsTask,\r\n  alignDiagramTask, centerOnCursorTask,\r\n  itemTemplateParamsTask,\r\n  cursorItemTask, selectedItemsTask,\r\n  groupTitleTemplateTask, checkBoxTemplateTask, buttonsTemplateTask) {\r\n\r\n  var _positions,\r\n    _graphics,\r\n    _transform,\r\n    _itemsSizesOptions,\r\n\r\n    _buttonsTemplate,\r\n    _checkBoxTemplate,\r\n    _groupTitleTemplate;\r\n\r\n  function process() {\r\n    _graphics = getGraphics();\r\n\r\n    _itemsSizesOptions = itemsSizesOptionTask.getOptions();\r\n    _positions = alignDiagramTask.getItemsPositions();\r\n    _transform = createTransformTask.getTransform();\r\n\r\n    _buttonsTemplate = buttonsTemplateTask.getTemplate();\r\n    _checkBoxTemplate = checkBoxTemplateTask.getTemplate();\r\n    _groupTitleTemplate = groupTitleTemplateTask.getTemplate();\r\n\r\n    _graphics.reset(\"placeholder\", Layers.Item);\r\n    _graphics.reset(\"placeholder\", Layers.Controls);\r\n\r\n    redrawTreeItems();\r\n\r\n    return false;\r\n  }\r\n\r\n  function redrawTreeItems() {\r\n    var uiHash,\r\n      element,\r\n      cursorItemId = cursorItemTask.getCursorTreeItem(),\r\n      treeItemPosition,\r\n      actualPosition,\r\n      viewPortPosition = getViewPortPosition();\r\n\r\n    for (var treeItemId in _positions) {\r\n      if (_positions.hasOwnProperty(treeItemId)) {\r\n        treeItemPosition = _positions[treeItemId],\r\n        actualPosition = treeItemPosition.actualPosition;\r\n        if (treeItemPosition.actualVisibility == Visibility.Normal) {\r\n          _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true,\r\n            this, function (x, y, width, height) {\r\n              var nodePosition = new Rect(x, y, width, height);\r\n              if (viewPortPosition == null || viewPortPosition.overlaps(nodePosition)) {\r\n                var templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId);\r\n                if(templateParams != null) {\r\n                  var template = templateParams.template;\r\n\r\n                  uiHash = new RenderEventArgs();\r\n                  uiHash.id = treeItemId;\r\n                  uiHash.context = combinedContextsTask.getConfig(treeItemId);\r\n                  uiHash.isCursor = (treeItemId == cursorItemId);\r\n                  uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\r\n                  uiHash.templateName = template.templateConfig.name;\r\n\r\n                  uiHash.template = templateParams.template;\r\n                  uiHash.isActive = templateParams.isActive;\r\n                  uiHash.hasSelectorCheckbox = templateParams.hasSelectorCheckbox;\r\n                  uiHash.hasButtons = templateParams.hasButtons;\r\n                  uiHash.hasGroupTitle = templateParams.hasGroupTitle;\r\n                  uiHash.onButtonsRender = templateParams.onButtonsRender;\r\n\r\n                  _graphics.activate(\"placeholder\", Layers.Item);\r\n                  element = _graphics.template(\r\n                    x\r\n                    , y\r\n                    , width\r\n                    , height\r\n                    , treeItemPosition.contentPosition.x\r\n                    , treeItemPosition.contentPosition.y\r\n                    , treeItemPosition.contentPosition.width\r\n                    , treeItemPosition.contentPosition.height\r\n                    , template.itemTemplate.template()\r\n                    , template.itemTemplate.getHashCode()\r\n                    , template.itemTemplate.render\r\n                    , uiHash\r\n                    , { \"borderWidth\": template.templateConfig.itemBorderWidth }\r\n                  );\r\n\r\n                  if (templateParams.hasGroupTitle) {\r\n                    var groupTitlePosition = 0;\r\n                    switch (_itemsSizesOptions.groupTitlePlacementType) {\r\n                      case AdviserPlacementType.Left:\r\n                      case AdviserPlacementType.Auto:\r\n                        groupTitlePosition = 2;\r\n                        break;\r\n                      case AdviserPlacementType.Right:\r\n                        groupTitlePosition = width - (_itemsSizesOptions.groupTitlePanelSize - 4);\r\n                        break;\r\n                      default:\r\n                    }\r\n                    element = _graphics.template(\r\n                      x,\r\n                      y,\r\n                      width,\r\n                      height,\r\n                      groupTitlePosition,\r\n                      treeItemPosition.contentPosition.y,\r\n                      _itemsSizesOptions.groupTitlePanelSize - 4,\r\n                      treeItemPosition.contentPosition.height + 2,\r\n                      _groupTitleTemplate.template(),\r\n                      _groupTitleTemplate.getHashCode(),\r\n                      _groupTitleTemplate.render,\r\n                      uiHash,\r\n                      null\r\n                    );\r\n                  }\r\n                  if (templateParams.hasSelectorCheckbox) {\r\n                    _graphics.activate(\"placeholder\", Layers.Controls);\r\n                    element = _graphics.template(\r\n                      x,\r\n                      y,\r\n                      width,\r\n                      height,\r\n                      treeItemPosition.contentPosition.x,\r\n                      height - (_itemsSizesOptions.checkBoxPanelSize - 4),\r\n                      treeItemPosition.contentPosition.width,\r\n                      _itemsSizesOptions.checkBoxPanelSize - 4,\r\n                      _checkBoxTemplate.template(),\r\n                      _checkBoxTemplate.getHashCode(),\r\n                      _checkBoxTemplate.render,\r\n                      uiHash,\r\n                      null\r\n                    );\r\n                  }\r\n                  if (templateParams.hasButtons) {\r\n                    _graphics.activate(\"placeholder\", Layers.Controls);\r\n                    var buttonsPanelPosition = 0;\r\n                    switch (_itemsSizesOptions.groupTitlePlacementType) {\r\n                      case AdviserPlacementType.Left:\r\n                      case AdviserPlacementType.Auto:\r\n                        buttonsPanelPosition = width - (_itemsSizesOptions.buttonsPanelSize - 4);\r\n                        break;\r\n                      case AdviserPlacementType.Right:\r\n                        buttonsPanelPosition = 2;\r\n                        break;\r\n                      default:\r\n                    }\r\n                    element = _graphics.template(\r\n                      x,\r\n                      y,\r\n                      width,\r\n                      height,\r\n                      buttonsPanelPosition,\r\n                      treeItemPosition.contentPosition.y,\r\n                      _itemsSizesOptions.buttonsPanelSize - 4,\r\n                      Math.max(treeItemPosition.contentPosition.height, height - treeItemPosition.contentPosition.y),\r\n                      _buttonsTemplate.template(),\r\n                      template.templateConfig.name + _buttonsTemplate.getHashCode(),\r\n                      _buttonsTemplate.render,\r\n                      uiHash,\r\n                      null\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n            });//ignore jslint\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function getViewPortPosition() {\r\n    var result = null;\r\n    if (centerOnCursorTask != null) {\r\n      var scaleOptions = scaleOptionTask.getOptions(),\r\n        scale = scaleOptions.scale,\r\n        placeholderOffset = new Point(centerOnCursorTask.getPlaceholderOffset()),\r\n        panelSize = new Rect(alignDiagramTask.getContentSize()),\r\n        optimalPanelSize = new Size(applyLayoutChangesTask.getOptimalPanelSize());\r\n\r\n      placeholderOffset.scale(1.0 / scale);\r\n      optimalPanelSize.scale(1.0 / scale);\r\n\r\n      result = new Rect(\r\n        placeholderOffset.x,\r\n        placeholderOffset.y,\r\n        Math.min(optimalPanelSize.width, panelSize.width),\r\n        Math.min(optimalPanelSize.height, panelSize.height)\r\n      );\r\n    }\r\n    return result;\r\n  }\r\n\r\n  return {\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}