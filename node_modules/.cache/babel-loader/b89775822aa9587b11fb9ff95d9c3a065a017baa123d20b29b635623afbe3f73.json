{"ast":null,"code":"import Rect from '../../graphics/structs/Rect';\nimport Size from '../../graphics/structs/Size';\nimport { OrientationType, PageFitMode, Visibility } from '../../enums';\nfunction LevelVisibility(level, visibility) {\n  this.level = level;\n  this.visibility = visibility;\n}\n;\nexport default function ItemsPositionsTask(currentControlSizeTask, scaleOptionTask, orientationOptionTask, itemsSizesOptionTask, connectorsOptionTask, normalizeOptionTask, createLayoutsTreeTask, itemTemplateParamsTask, cursorItemTask, combinedNormalVisibilityItemsTask) {\n  var _data = {\n    treeItemsPositions: {},\n    // TreeItemPosition();\n    size: null // Rect();\n  };\n  function process() {\n    var {\n      verticalAlignment,\n      pageFitMode,\n      minimalVisibility,\n      padding,\n      normalLevelShift,\n      dotLevelShift,\n      lineLevelShift,\n      normalItemsInterval,\n      dotItemsInterval,\n      lineItemsInterval,\n      checkBoxPanelSize,\n      buttonsPanelSize,\n      groupTitlePanelSize,\n      groupTitlePlacementType,\n      cousinsIntervalMultiplier\n    } = itemsSizesOptionTask.getOptions();\n    var {\n      arrowsDirection,\n      linesWidth\n    } = connectorsOptionTask.getOptions();\n    var {\n      maximumColumnsInMatrix,\n      horizontalAlignment\n    } = normalizeOptionTask.getOptions();\n    var {\n      orientationType\n    } = orientationOptionTask.getOptions();\n    var isItemSelected = combinedNormalVisibilityItemsTask.isItemSelected;\n    var cursorItemId = cursorItemTask.getCursorTreeItem();\n    var getTemplateParams = itemTemplateParamsTask.getTemplateParams;\n\n    /* calculate panel size */\n    var {\n      optimalPanelSize\n    } = currentControlSizeTask.getOptions();\n    var panelSize = new Size(optimalPanelSize);\n    var {\n      scale\n    } = scaleOptionTask.getOptions();\n    panelSize.scale(1.0 / scale);\n    var layoutsTree = createLayoutsTreeTask.getLayoutsTree();\n\n    /* find root layout id */\n    var rootLayoutId = null;\n    layoutsTree.loopLevels(this, function (nodeId, node, levelIndex) {\n      rootLayoutId = nodeId;\n      return layoutsTree.BREAK;\n    });\n\n    /* enumerate items level indexes */\n    var levelIndexes = {};\n    var maximumLevelIndex = 0;\n    var hasNodes = false;\n    layoutsTree.loopLevels(this, function (layoutId, layout, levelIndex) {\n      if (layout.loop != null) {\n        var parentId = layoutsTree.parentid(layoutId);\n        var parentLevelIndex = levelIndexes[parentId] || 0;\n        layout.loop(this, function (treeItem, levelIndex) {\n          var itemLevelIndex = parentLevelIndex + levelIndex;\n          levelIndexes[treeItem.id] = itemLevelIndex;\n          maximumLevelIndex = Math.max(maximumLevelIndex, itemLevelIndex);\n          hasNodes = true;\n        });\n      }\n    });\n    var options = {\n      verticalAlignment,\n      pageFitMode,\n      padding,\n      minimalVisibility,\n      orientationType,\n      arrowsDirection,\n      linesWidth,\n      checkBoxPanelSize,\n      buttonsPanelSize,\n      groupTitlePanelSize,\n      groupTitlePlacementType,\n      maximumColumnsInMatrix,\n      horizontalAlignment,\n      shifts: getShifts(normalLevelShift, dotLevelShift, lineLevelShift, lineLevelShift),\n      intervals: getIntervals(normalItemsInterval, dotItemsInterval, lineItemsInterval, lineItemsInterval),\n      cousinsIntervalMultiplier\n    };\n\n    /* find optimal panel size */\n    _data.treeItemsPositions = {};\n    _data.size = panelSize;\n    if (hasNodes) {\n      var {\n        treeItemsPositions,\n        size\n      } = autoFitDiagramToPageSize(panelSize, maximumLevelIndex, rootLayoutId, layoutsTree, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\n      _data.treeItemsPositions = treeItemsPositions;\n      _data.size = size;\n\n      /* arrange items positions */\n      var treeItemPosition = _data.treeItemsPositions[rootLayoutId];\n      treeItemPosition.actualPosition = new Rect(0, 0, _data.size.width, _data.size.height);\n      var layoutsDirections = {};\n      layoutsTree.loopPreOrder(this, function (childLayoutId, childLayout, parentLayoutId, parentLayout) {\n        var treeItemPosition = _data.treeItemsPositions[childLayoutId];\n        var layoutDirection = layoutsDirections[childLayoutId];\n        childLayout.arrange(this, treeItemPosition.actualPosition, layoutDirection, _data.treeItemsPositions, options, function (treeItemId, treeItemPosition, layoutDirection) {\n          _data.treeItemsPositions[treeItemId] = treeItemPosition;\n          layoutsDirections[treeItemId] = layoutDirection;\n        });\n      });\n    }\n    return true;\n  }\n  function autoFitDiagramToPageSize(panelSize, maximumLevelIndex, rootLayoutId, layoutsTree, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options) {\n    var result, possibleLevelVisibilities, enabledLevelVisibilities;\n    var {\n      orientationType,\n      pageFitMode,\n      minimalVisibility\n    } = options;\n    switch (orientationType) {\n      case OrientationType.Left:\n      case OrientationType.Right:\n        panelSize.invert();\n        break;\n    }\n    switch (pageFitMode) {\n      case PageFitMode.None:\n      case PageFitMode.AutoSize:\n        possibleLevelVisibilities = [new LevelVisibility(0, Visibility.Normal)];\n        enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, 0);\n        result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\n        break;\n      default:\n        possibleLevelVisibilities = getPossibleLevelVisibilities(maximumLevelIndex, minimalVisibility);\n        enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, possibleLevelVisibilities.length - 1);\n\n        // Find minimal placeholder size to hold completely folded diagram\n        result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\n        if (checkDiagramSize(result.size, panelSize, pageFitMode)) {\n          /* maximum compression fits to page */\n          var minimalPlaceholderSize = new Rect(0, 0, result.size.width, result.size.height);\n          minimalPlaceholderSize.addRect(0, 0, panelSize.width, panelSize.height);\n          minimalPlaceholderSize.offset(0, 0, 5, 5);\n          /* Find optimal diagram size */\n          findOptimalSize(this, possibleLevelVisibilities.length - 1, function (index) {\n            enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, index);\n            result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\n\n            /* compare root layout to the available panel space */\n            return checkDiagramSize(result.size, minimalPlaceholderSize, options.pageFitMode);\n          });\n        }\n        break;\n    }\n    return result;\n  }\n  function findOptimalSize(thisArg, maximum, funcCheckSize) {\n    var minimum = 0,\n      cursorIndex;\n    if (!funcCheckSize.call(thisArg, minimum)) {\n      /* minimum compression does not fit to page */\n      cursorIndex = maximum;\n      while (maximum - minimum > 1) {\n        cursorIndex = Math.floor((maximum + minimum) / 2.0);\n        if (funcCheckSize.call(thisArg, cursorIndex)) {\n          /* middle point size fit to page */\n          maximum = cursorIndex;\n        } else {\n          minimum = cursorIndex;\n        }\n      }\n      if (maximum !== cursorIndex) {\n        funcCheckSize.call(thisArg, maximum);\n      }\n    }\n  }\n  ;\n  function measureLayout(rootLayoutId, layoutsTree, levelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options) {\n    var treeItemsPositions = {};\n\n    /* measure individual nodes from bottom to up */\n    layoutsTree.loopPostOrder(this, function (childLayoutId, childLayout, parentLayoutId, parentLayout) {\n      var levelIndex = levelIndexes[childLayoutId];\n      var levelVisibility = levelVisibilities[levelIndex];\n      var isCursor = cursorItemId == childLayoutId;\n      var isSelected = isItemSelected(childLayoutId);\n      var treeItemTemplate = getTemplateParams(childLayoutId);\n      treeItemsPositions[childLayoutId] = childLayout.measure(levelVisibility, isCursor, isSelected, treeItemTemplate, treeItemsPositions, options);\n    });\n    return {\n      treeItemsPositions,\n      size: treeItemsPositions[rootLayoutId].actualSize\n    };\n  }\n  function getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, cursorIndex) {\n    var index, levelVisibility;\n    var result = [];\n    for (var levelIndex = 0; levelIndex <= maximumLevelIndex; levelIndex += 1) {\n      result.push(Visibility.Normal);\n    }\n    ;\n\n    /* set levels visibility */\n    for (index = 0; index <= cursorIndex; index += 1) {\n      levelVisibility = possibleLevelVisibilities[index];\n      result[levelVisibility.level] = levelVisibility.visibility;\n    }\n    return result;\n  }\n  function getPossibleLevelVisibilities(maximumLevelIndex, minimalVisibility) {\n    var result = [new LevelVisibility(0, Visibility.Normal)];\n    var visibilities = [];\n    switch (minimalVisibility) {\n      case Visibility.Normal:\n        break;\n      case Visibility.Dot:\n        visibilities.push(Visibility.Dot);\n        break;\n      case Visibility.Auto:\n      case Visibility.Line:\n      case Visibility.Invisible:\n        visibilities.push(Visibility.Dot);\n        visibilities.push(Visibility.Line);\n        break;\n    }\n    for (var levelIndex = maximumLevelIndex; levelIndex >= 0; levelIndex -= 1) {\n      for (var index = 0; index < visibilities.length; index += 1) {\n        result.push(new LevelVisibility(levelIndex, visibilities[index]));\n      }\n    }\n    ;\n    return result;\n  }\n  ;\n  function checkDiagramSize(diagramSize, panelSize, pageFitMode) {\n    var result = false;\n    switch (pageFitMode) {\n      case PageFitMode.PageWidth:\n        if (panelSize.width >= diagramSize.width) {\n          result = true;\n        }\n        break;\n      case PageFitMode.PageHeight:\n        if (panelSize.height >= diagramSize.height) {\n          result = true;\n        }\n        break;\n      case PageFitMode.FitToPage:\n        if (panelSize.height >= diagramSize.height && panelSize.width >= diagramSize.width) {\n          result = true;\n        }\n        break;\n    }\n    return result;\n  }\n  ;\n  function getShifts(normalLevelShift, dotLevelShift, lineLevelShift, invisibleLineLevelShift) {\n    var result = [];\n    result[Visibility.Normal] = normalLevelShift;\n    result[Visibility.Dot] = dotLevelShift;\n    result[Visibility.Line] = lineLevelShift;\n    result[Visibility.Invisible] = invisibleLineLevelShift;\n    return result;\n  }\n  ;\n  function getIntervals(normalItemsInterval, dotItemsInterval, lineItemsInterval, invisibleLineItemsInterval) {\n    var result = [];\n    result[Visibility.Normal] = normalItemsInterval;\n    result[Visibility.Dot] = dotItemsInterval;\n    result[Visibility.Line] = lineItemsInterval;\n    result[Visibility.Invisible] = invisibleLineItemsInterval;\n    return result;\n  }\n  ;\n  function getItemPosition(itemid) {\n    return _data.treeItemsPositions[itemid];\n  }\n  function getItemsPositions() {\n    return _data.treeItemsPositions;\n  }\n  function getContentSize() {\n    return _data.size;\n  }\n  return {\n    process: process,\n    getItemsPositions: getItemsPositions,\n    getItemPosition: getItemPosition,\n    getContentSize: getContentSize\n  };\n}\n;","map":{"version":3,"names":["Rect","Size","OrientationType","PageFitMode","Visibility","LevelVisibility","level","visibility","ItemsPositionsTask","currentControlSizeTask","scaleOptionTask","orientationOptionTask","itemsSizesOptionTask","connectorsOptionTask","normalizeOptionTask","createLayoutsTreeTask","itemTemplateParamsTask","cursorItemTask","combinedNormalVisibilityItemsTask","_data","treeItemsPositions","size","process","verticalAlignment","pageFitMode","minimalVisibility","padding","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","checkBoxPanelSize","buttonsPanelSize","groupTitlePanelSize","groupTitlePlacementType","cousinsIntervalMultiplier","getOptions","arrowsDirection","linesWidth","maximumColumnsInMatrix","horizontalAlignment","orientationType","isItemSelected","cursorItemId","getCursorTreeItem","getTemplateParams","optimalPanelSize","panelSize","scale","layoutsTree","getLayoutsTree","rootLayoutId","loopLevels","nodeId","node","levelIndex","BREAK","levelIndexes","maximumLevelIndex","hasNodes","layoutId","layout","loop","parentId","parentid","parentLevelIndex","treeItem","itemLevelIndex","id","Math","max","options","shifts","getShifts","intervals","getIntervals","autoFitDiagramToPageSize","treeItemPosition","actualPosition","width","height","layoutsDirections","loopPreOrder","childLayoutId","childLayout","parentLayoutId","parentLayout","layoutDirection","arrange","treeItemId","result","possibleLevelVisibilities","enabledLevelVisibilities","Left","Right","invert","None","AutoSize","Normal","getLevelVisibilities","measureLayout","getPossibleLevelVisibilities","length","checkDiagramSize","minimalPlaceholderSize","addRect","offset","findOptimalSize","index","thisArg","maximum","funcCheckSize","minimum","cursorIndex","call","floor","levelVisibilities","loopPostOrder","levelVisibility","isCursor","isSelected","treeItemTemplate","measure","actualSize","push","visibilities","Dot","Auto","Line","Invisible","diagramSize","PageWidth","PageHeight","FitToPage","invisibleLineLevelShift","invisibleLineItemsInterval","getItemPosition","itemid","getItemsPositions","getContentSize"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/transformations/ItemsPositionsTask.js"],"sourcesContent":["import Rect from '../../graphics/structs/Rect';\r\nimport Size from '../../graphics/structs/Size';\r\nimport { OrientationType, PageFitMode, Visibility } from '../../enums';\r\n\r\nfunction LevelVisibility(level, visibility) {\r\n  this.level = level;\r\n  this.visibility = visibility;\r\n};\r\n\r\nexport default function ItemsPositionsTask(currentControlSizeTask, scaleOptionTask, orientationOptionTask, itemsSizesOptionTask, connectorsOptionTask, normalizeOptionTask,\r\n  createLayoutsTreeTask,\r\n  itemTemplateParamsTask,\r\n  cursorItemTask, combinedNormalVisibilityItemsTask) {\r\n\r\n  var _data = {\r\n    treeItemsPositions: {}, // TreeItemPosition();\r\n    size: null // Rect();\r\n  };\r\n\r\n  function process() {\r\n    var { verticalAlignment, pageFitMode, minimalVisibility, padding,\r\n      normalLevelShift, dotLevelShift, lineLevelShift, normalItemsInterval, dotItemsInterval, lineItemsInterval,\r\n      checkBoxPanelSize, buttonsPanelSize, groupTitlePanelSize, groupTitlePlacementType, cousinsIntervalMultiplier } = itemsSizesOptionTask.getOptions();\r\n    var { arrowsDirection, linesWidth } = connectorsOptionTask.getOptions();\r\n    var { maximumColumnsInMatrix, horizontalAlignment } = normalizeOptionTask.getOptions();\r\n    var { orientationType } = orientationOptionTask.getOptions();\r\n\r\n    var isItemSelected = combinedNormalVisibilityItemsTask.isItemSelected;\r\n    var cursorItemId = cursorItemTask.getCursorTreeItem();\r\n    var getTemplateParams = itemTemplateParamsTask.getTemplateParams;\r\n\r\n    /* calculate panel size */\r\n    var { optimalPanelSize } = currentControlSizeTask.getOptions();\r\n    var panelSize = new Size(optimalPanelSize);\r\n    var { scale } = scaleOptionTask.getOptions();\r\n    panelSize.scale(1.0 / scale);\r\n\r\n    var layoutsTree = createLayoutsTreeTask.getLayoutsTree();\r\n    \r\n    /* find root layout id */\r\n    var rootLayoutId = null;\r\n    layoutsTree.loopLevels(this, function(nodeId, node, levelIndex) {\r\n      rootLayoutId = nodeId;\r\n      return layoutsTree.BREAK;\r\n    })\r\n\r\n    /* enumerate items level indexes */\r\n    var levelIndexes = {};\r\n    var maximumLevelIndex = 0;\r\n    var hasNodes = false;\r\n    layoutsTree.loopLevels(this, function(layoutId, layout, levelIndex) {\r\n      if(layout.loop != null) {\r\n        var parentId = layoutsTree.parentid(layoutId);\r\n        var parentLevelIndex = levelIndexes[parentId] || 0;\r\n\r\n        layout.loop(this, function(treeItem, levelIndex) {\r\n          var itemLevelIndex = parentLevelIndex + levelIndex;\r\n          levelIndexes[treeItem.id] = itemLevelIndex;\r\n          maximumLevelIndex = Math.max(maximumLevelIndex, itemLevelIndex);\r\n          hasNodes = true;\r\n        })\r\n      }\r\n    })\r\n\r\n    var options = {\r\n      verticalAlignment,\r\n      pageFitMode,\r\n      padding,\r\n      minimalVisibility,\r\n      orientationType,\r\n      arrowsDirection,\r\n      linesWidth,\r\n      checkBoxPanelSize,\r\n      buttonsPanelSize,\r\n      groupTitlePanelSize,\r\n      groupTitlePlacementType,\r\n      maximumColumnsInMatrix,\r\n      horizontalAlignment,\r\n      shifts: getShifts(normalLevelShift, dotLevelShift, lineLevelShift, lineLevelShift),\r\n      intervals: getIntervals(normalItemsInterval, dotItemsInterval, lineItemsInterval, lineItemsInterval),\r\n      cousinsIntervalMultiplier\r\n    };\r\n\r\n    /* find optimal panel size */\r\n    _data.treeItemsPositions = {};\r\n    _data.size = panelSize;\r\n\r\n    if(hasNodes) {\r\n      var {treeItemsPositions, size} = autoFitDiagramToPageSize(panelSize, maximumLevelIndex, rootLayoutId, layoutsTree, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\r\n      _data.treeItemsPositions = treeItemsPositions;\r\n      _data.size = size;\r\n\r\n      /* arrange items positions */\r\n      var treeItemPosition = _data.treeItemsPositions[rootLayoutId];\r\n      treeItemPosition.actualPosition = new Rect(0, 0, _data.size.width, _data.size.height);\r\n\r\n      var layoutsDirections = {};\r\n      layoutsTree.loopPreOrder(this, function(childLayoutId, childLayout, parentLayoutId, parentLayout) {\r\n        var treeItemPosition = _data.treeItemsPositions[childLayoutId];\r\n        var layoutDirection = layoutsDirections[childLayoutId];\r\n        childLayout.arrange(this, treeItemPosition.actualPosition, layoutDirection, _data.treeItemsPositions, options, function (treeItemId, treeItemPosition, layoutDirection) {\r\n          _data.treeItemsPositions[treeItemId] = treeItemPosition;\r\n          layoutsDirections[treeItemId] = layoutDirection;\r\n        });\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function autoFitDiagramToPageSize(panelSize, maximumLevelIndex, rootLayoutId, layoutsTree, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options) {\r\n    var result,\r\n      possibleLevelVisibilities,\r\n      enabledLevelVisibilities;\r\n\r\n    var { orientationType, pageFitMode, minimalVisibility } = options;\r\n\r\n    switch (orientationType) {\r\n      case OrientationType.Left:\r\n      case OrientationType.Right:\r\n        panelSize.invert();\r\n        break;\r\n    }\r\n\r\n    switch (pageFitMode) {\r\n      case PageFitMode.None:\r\n      case PageFitMode.AutoSize:\r\n        possibleLevelVisibilities = [new LevelVisibility(0, Visibility.Normal)];\r\n        enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, 0);\r\n        result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\r\n        break;\r\n      default:\r\n        possibleLevelVisibilities = getPossibleLevelVisibilities(maximumLevelIndex, minimalVisibility);\r\n        enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, possibleLevelVisibilities.length - 1);\r\n\r\n        // Find minimal placeholder size to hold completely folded diagram\r\n        result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\r\n        if (checkDiagramSize(result.size, panelSize, pageFitMode)) {\r\n          /* maximum compression fits to page */\r\n          var minimalPlaceholderSize = new Rect(0, 0, result.size.width, result.size.height);\r\n          minimalPlaceholderSize.addRect(0, 0, panelSize.width, panelSize.height);\r\n          minimalPlaceholderSize.offset(0, 0, 5, 5);\r\n          /* Find optimal diagram size */\r\n          findOptimalSize(this, possibleLevelVisibilities.length - 1, function (index) {\r\n            enabledLevelVisibilities = getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, index);\r\n            result = measureLayout(rootLayoutId, layoutsTree, enabledLevelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options);\r\n\r\n            /* compare root layout to the available panel space */\r\n            return checkDiagramSize(result.size, minimalPlaceholderSize, options.pageFitMode);\r\n          });\r\n        }\r\n        break;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function findOptimalSize(thisArg, maximum, funcCheckSize) {\r\n    var minimum = 0,\r\n      cursorIndex;\r\n    if (!funcCheckSize.call(thisArg, minimum)) {\r\n      /* minimum compression does not fit to page */\r\n      cursorIndex = maximum;\r\n      while (maximum - minimum > 1) {\r\n        cursorIndex = Math.floor((maximum + minimum) / 2.0);\r\n        if (funcCheckSize.call(thisArg, cursorIndex)) {\r\n          /* middle point size fit to page */\r\n          maximum = cursorIndex;\r\n        }\r\n        else {\r\n          minimum = cursorIndex;\r\n        }\r\n      }\r\n      if (maximum !== cursorIndex) {\r\n        funcCheckSize.call(thisArg, maximum);\r\n      }\r\n    }\r\n  };\r\n\r\n  function measureLayout(rootLayoutId, layoutsTree, levelVisibilities, levelIndexes, cursorItemId, isItemSelected, getTemplateParams, options ) {\r\n    var treeItemsPositions = {};\r\n\r\n    /* measure individual nodes from bottom to up */\r\n    layoutsTree.loopPostOrder(this, function(childLayoutId, childLayout, parentLayoutId, parentLayout) {\r\n      var levelIndex = levelIndexes[childLayoutId];\r\n      var levelVisibility = levelVisibilities[levelIndex];\r\n      var isCursor = (cursorItemId == childLayoutId);\r\n      var isSelected = isItemSelected(childLayoutId);\r\n      var treeItemTemplate = getTemplateParams(childLayoutId);\r\n      treeItemsPositions[childLayoutId] = childLayout.measure(levelVisibility, isCursor, isSelected, treeItemTemplate, treeItemsPositions, options);\r\n    });\r\n\r\n    return {\r\n      treeItemsPositions,\r\n      size: treeItemsPositions[rootLayoutId].actualSize\r\n    }\r\n  }\r\n\r\n  function getLevelVisibilities(maximumLevelIndex, possibleLevelVisibilities, cursorIndex) {\r\n    var index,\r\n      levelVisibility;\r\n\r\n    var result = [];\r\n    for(var levelIndex = 0; levelIndex <= maximumLevelIndex; levelIndex+=1 ) {\r\n      result.push(Visibility.Normal);\r\n    };\r\n\r\n    /* set levels visibility */ \r\n    for (index = 0; index <= cursorIndex; index += 1) {\r\n      levelVisibility = possibleLevelVisibilities[index];\r\n      result[levelVisibility.level] = levelVisibility.visibility;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function getPossibleLevelVisibilities(maximumLevelIndex, minimalVisibility) {\r\n    var result = [new LevelVisibility(0, Visibility.Normal)];\r\n    var visibilities = [];\r\n    switch (minimalVisibility) {\r\n      case Visibility.Normal:\r\n        break;\r\n      case Visibility.Dot:\r\n        visibilities.push(Visibility.Dot);\r\n        break;\r\n      case Visibility.Auto:\r\n      case Visibility.Line:\r\n      case Visibility.Invisible:\r\n        visibilities.push(Visibility.Dot);\r\n        visibilities.push(Visibility.Line);\r\n        break;\r\n    }\r\n  \r\n    for(var levelIndex = maximumLevelIndex; levelIndex >= 0; levelIndex-=1) {\r\n      for (var index = 0; index < visibilities.length; index += 1) {\r\n        result.push(new LevelVisibility(levelIndex, visibilities[index]));\r\n      }\r\n    };\r\n  \r\n    return result;\r\n  };\r\n\r\n  function checkDiagramSize(diagramSize, panelSize, pageFitMode) {\r\n    var result = false;\r\n    switch (pageFitMode) {\r\n      case PageFitMode.PageWidth:\r\n        if (panelSize.width >= diagramSize.width) {\r\n          result = true;\r\n        }\r\n        break;\r\n      case PageFitMode.PageHeight:\r\n        if (panelSize.height >= diagramSize.height) {\r\n          result = true;\r\n        }\r\n        break;\r\n      case PageFitMode.FitToPage:\r\n        if (panelSize.height >= diagramSize.height && panelSize.width >= diagramSize.width) {\r\n          result = true;\r\n        }\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  function getShifts(normalLevelShift, dotLevelShift, lineLevelShift, invisibleLineLevelShift) {\r\n    var result = [];\r\n    result[Visibility.Normal] = normalLevelShift;\r\n    result[Visibility.Dot] = dotLevelShift;\r\n    result[Visibility.Line] = lineLevelShift;\r\n    result[Visibility.Invisible] = invisibleLineLevelShift;\r\n    return result;\r\n  };\r\n  \r\n  function getIntervals(normalItemsInterval, dotItemsInterval, lineItemsInterval, invisibleLineItemsInterval) {\r\n    var result = [];\r\n    result[Visibility.Normal] = normalItemsInterval;\r\n    result[Visibility.Dot] = dotItemsInterval;\r\n    result[Visibility.Line] = lineItemsInterval;\r\n    result[Visibility.Invisible] = invisibleLineItemsInterval;\r\n    return result;\r\n  };\r\n\r\n  function getItemPosition(itemid) {\r\n    return _data.treeItemsPositions[itemid];\r\n  }\r\n\r\n  function getItemsPositions() {\r\n    return _data.treeItemsPositions;\r\n  }\r\n\r\n  function getContentSize() {\r\n    return _data.size;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getItemsPositions: getItemsPositions,\r\n    getItemPosition: getItemPosition,\r\n    getContentSize: getContentSize\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}