{"ast":null,"code":"import Family from '../../algorithms/Family';\nimport FamilyItem from '../../models/FamilyItem';\nexport default function LogicalFamilyTask(itemsOptionTask) {\n  var _data = {\n    logicalFamily: null,\n    maximumId: null\n  };\n  function process(debug) {\n    var index,\n      len,\n      itemConfig,\n      famItem,\n      items = itemsOptionTask.getItems(),\n      logicalFamily = Family(),\n      /*family contains FamItemConfig */\n      maximumId = 0,\n      parsedId;\n    if (items.length > 0) {\n      for (index = 0, len = items.length; index < len; index += 1) {\n        itemConfig = items[index];\n        if (itemConfig != null) {\n          famItem = new FamilyItem({\n            id: itemConfig.id,\n            itemConfig: itemConfig,\n            isActive: itemConfig.isActive\n          });\n          logicalFamily.add(itemConfig.parents, famItem.id, famItem);\n          parsedId = parseInt(itemConfig.id, 10);\n          maximumId = Math.max(isNaN(parsedId) ? 0 : parsedId, maximumId);\n        }\n      }\n    }\n    _data.logicalFamily = logicalFamily;\n    _data.maximumId = maximumId;\n    if (debug && !logicalFamily.validate()) {\n      throw \"References are broken in family structure!\";\n    }\n    return true;\n  }\n  function getLogicalFamily() {\n    return _data.logicalFamily;\n  }\n  function getMaximumId() {\n    return _data.maximumId;\n  }\n  return {\n    process: process,\n    getLogicalFamily: getLogicalFamily,\n    getMaximumId: getMaximumId\n  };\n}\n;","map":{"version":3,"names":["Family","FamilyItem","LogicalFamilyTask","itemsOptionTask","_data","logicalFamily","maximumId","process","debug","index","len","itemConfig","famItem","items","getItems","parsedId","length","id","isActive","add","parents","parseInt","Math","max","isNaN","validate","getLogicalFamily","getMaximumId"],"sources":["C:/Users/LCGI_15/Desktop/projects/nesty-orgchart/orgchart/node_modules/basicprimitives/src/tasks/transformations/LogicalFamilyTask.js"],"sourcesContent":["import Family from '../../algorithms/Family';\r\nimport FamilyItem from '../../models/FamilyItem';\r\n\r\nexport default function LogicalFamilyTask(itemsOptionTask) {\r\n  var _data = {\r\n    logicalFamily: null,\r\n    maximumId: null\r\n  };\r\n\r\n  function process(debug) {\r\n    var index, len,\r\n      itemConfig, famItem,\r\n      items = itemsOptionTask.getItems(),\r\n      logicalFamily = Family(), /*family contains FamItemConfig */\r\n      maximumId = 0,\r\n      parsedId;\r\n\r\n    if (items.length > 0) {\r\n      for (index = 0, len = items.length; index < len; index += 1) {\r\n        itemConfig = items[index];\r\n\r\n        if (itemConfig != null) {\r\n          famItem = new FamilyItem({\r\n            id: itemConfig.id,\r\n            itemConfig: itemConfig,\r\n            isActive: itemConfig.isActive\r\n          });\r\n\r\n          logicalFamily.add(itemConfig.parents, famItem.id, famItem);\r\n\r\n          parsedId = parseInt(itemConfig.id, 10);\r\n          maximumId = Math.max(isNaN(parsedId) ? 0 : parsedId, maximumId);\r\n        }\r\n      }\r\n    }\r\n\r\n    _data.logicalFamily = logicalFamily;\r\n    _data.maximumId = maximumId;\r\n\r\n    if (debug && !logicalFamily.validate()) {\r\n      throw \"References are broken in family structure!\";\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function getLogicalFamily() {\r\n    return _data.logicalFamily;\r\n  }\r\n\r\n  function getMaximumId() {\r\n    return _data.maximumId;\r\n  }\r\n\r\n  return {\r\n    process: process,\r\n    getLogicalFamily: getLogicalFamily,\r\n    getMaximumId: getMaximumId\r\n  };\r\n};"],"mappings":"AAAA,OAAOA,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,UAAU,MAAM,yBAAyB;AAEhD,eAAe,SAASC,iBAAiBA,CAACC,eAAe,EAAE;EACzD,IAAIC,KAAK,GAAG;IACVC,aAAa,EAAE,IAAI;IACnBC,SAAS,EAAE;EACb,CAAC;EAED,SAASC,OAAOA,CAACC,KAAK,EAAE;IACtB,IAAIC,KAAK;MAAEC,GAAG;MACZC,UAAU;MAAEC,OAAO;MACnBC,KAAK,GAAGV,eAAe,CAACW,QAAQ,CAAC,CAAC;MAClCT,aAAa,GAAGL,MAAM,CAAC,CAAC;MAAE;MAC1BM,SAAS,GAAG,CAAC;MACbS,QAAQ;IAEV,IAAIF,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;MACpB,KAAKP,KAAK,GAAG,CAAC,EAAEC,GAAG,GAAGG,KAAK,CAACG,MAAM,EAAEP,KAAK,GAAGC,GAAG,EAAED,KAAK,IAAI,CAAC,EAAE;QAC3DE,UAAU,GAAGE,KAAK,CAACJ,KAAK,CAAC;QAEzB,IAAIE,UAAU,IAAI,IAAI,EAAE;UACtBC,OAAO,GAAG,IAAIX,UAAU,CAAC;YACvBgB,EAAE,EAAEN,UAAU,CAACM,EAAE;YACjBN,UAAU,EAAEA,UAAU;YACtBO,QAAQ,EAAEP,UAAU,CAACO;UACvB,CAAC,CAAC;UAEFb,aAAa,CAACc,GAAG,CAACR,UAAU,CAACS,OAAO,EAAER,OAAO,CAACK,EAAE,EAAEL,OAAO,CAAC;UAE1DG,QAAQ,GAAGM,QAAQ,CAACV,UAAU,CAACM,EAAE,EAAE,EAAE,CAAC;UACtCX,SAAS,GAAGgB,IAAI,CAACC,GAAG,CAACC,KAAK,CAACT,QAAQ,CAAC,GAAG,CAAC,GAAGA,QAAQ,EAAET,SAAS,CAAC;QACjE;MACF;IACF;IAEAF,KAAK,CAACC,aAAa,GAAGA,aAAa;IACnCD,KAAK,CAACE,SAAS,GAAGA,SAAS;IAE3B,IAAIE,KAAK,IAAI,CAACH,aAAa,CAACoB,QAAQ,CAAC,CAAC,EAAE;MACtC,MAAM,4CAA4C;IACpD;IAEA,OAAO,IAAI;EACb;EAEA,SAASC,gBAAgBA,CAAA,EAAG;IAC1B,OAAOtB,KAAK,CAACC,aAAa;EAC5B;EAEA,SAASsB,YAAYA,CAAA,EAAG;IACtB,OAAOvB,KAAK,CAACE,SAAS;EACxB;EAEA,OAAO;IACLC,OAAO,EAAEA,OAAO;IAChBmB,gBAAgB,EAAEA,gBAAgB;IAClCC,YAAY,EAAEA;EAChB,CAAC;AACH;AAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}