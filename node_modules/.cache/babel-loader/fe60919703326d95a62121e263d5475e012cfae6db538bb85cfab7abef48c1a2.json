{"ast":null,"code":"import Rect from '../../graphics/structs/Rect';\nimport RenderEventArgs from '../../events/RenderEventArgs';\nimport { Layers } from '../../enums';\nexport default function DrawCursorTask(getGraphics, createTransformTask, applyLayoutChangesTask, combinedContextsTask, alignDiagramTask, itemTemplateParamsTask, cursorItemTask, selectedItemsTask) {\n  var _graphics, _transform;\n  function process() {\n    var treeItemId = cursorItemTask.getCursorTreeItem();\n    _graphics = getGraphics();\n    _graphics.reset(\"placeholder\", Layers.Cursor);\n    if (treeItemId != null) {\n      _transform = createTransformTask.getTransform();\n      drawCursor(treeItemId);\n    }\n    return false;\n  }\n  function drawCursor(treeItemId) {\n    var treeItem,\n      uiHash,\n      panel = _graphics.activate(\"placeholder\", Layers.Cursor),\n      treeItemPosition = alignDiagramTask.getItemPosition(treeItemId);\n    if (treeItemPosition != null) {\n      var actualPosition = treeItemPosition.actualPosition,\n        position = new Rect(treeItemPosition.contentPosition),\n        templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\n        template = templateParams.template,\n        templateConfig = template.templateConfig,\n        cursorPadding = templateConfig.cursorPadding;\n      position.offset(cursorPadding.left, cursorPadding.top, cursorPadding.right, cursorPadding.bottom);\n      uiHash = new RenderEventArgs();\n      uiHash.context = combinedContextsTask.getConfig(treeItemId);\n      uiHash.isCursor = true;\n      uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\n      uiHash.templateName = templateConfig.name;\n      _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true, this, function (x, y, width, height) {\n        var element = _graphics.template(x, y, width, height, position.x, position.y, position.width, position.height, template.cursorTemplate.template(), template.cursorTemplate.getHashCode(), template.cursorTemplate.render, uiHash, {\n          \"borderWidth\": templateConfig.cursorBorderWidth\n        });\n      });\n    }\n  }\n  return {\n    process: process\n  };\n}\n;","map":{"version":3,"names":["Rect","RenderEventArgs","Layers","DrawCursorTask","getGraphics","createTransformTask","applyLayoutChangesTask","combinedContextsTask","alignDiagramTask","itemTemplateParamsTask","cursorItemTask","selectedItemsTask","_graphics","_transform","process","treeItemId","getCursorTreeItem","reset","Cursor","getTransform","drawCursor","treeItem","uiHash","panel","activate","treeItemPosition","getItemPosition","actualPosition","position","contentPosition","templateParams","getTemplateParams","template","templateConfig","cursorPadding","offset","left","top","right","bottom","context","getConfig","isCursor","isSelected","templateName","name","transformRect","x","y","width","height","element","cursorTemplate","getHashCode","render","cursorBorderWidth"],"sources":["/Users/iamnestyyy/ReactProjects/orgchart/node_modules/basicprimitives/src/tasks/renders/DrawCursorTask.js"],"sourcesContent":["import Rect from '../../graphics/structs/Rect';\r\nimport RenderEventArgs from '../../events/RenderEventArgs';\r\nimport { Layers } from '../../enums';\r\n\r\nexport default function DrawCursorTask(getGraphics, createTransformTask, applyLayoutChangesTask,\r\n  combinedContextsTask,\r\n  alignDiagramTask, itemTemplateParamsTask,\r\n  cursorItemTask, selectedItemsTask) {\r\n  var _graphics,\r\n    _transform;\r\n\r\n  function process() {\r\n    var treeItemId = cursorItemTask.getCursorTreeItem();\r\n\r\n    _graphics = getGraphics();\r\n    _graphics.reset(\"placeholder\", Layers.Cursor);\r\n\r\n    if (treeItemId != null) {\r\n      _transform = createTransformTask.getTransform();\r\n\r\n      drawCursor(treeItemId);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function drawCursor(treeItemId) {\r\n    var treeItem,\r\n      uiHash,\r\n      panel = _graphics.activate(\"placeholder\", Layers.Cursor),\r\n      treeItemPosition = alignDiagramTask.getItemPosition(treeItemId);\r\n    if (treeItemPosition != null) {\r\n      var actualPosition = treeItemPosition.actualPosition,\r\n        position = new Rect(treeItemPosition.contentPosition),\r\n        templateParams = itemTemplateParamsTask.getTemplateParams(treeItemId),\r\n        template = templateParams.template,\r\n        templateConfig = template.templateConfig,\r\n        cursorPadding = templateConfig.cursorPadding;\r\n\r\n      position.offset(cursorPadding.left, cursorPadding.top, cursorPadding.right, cursorPadding.bottom);\r\n\r\n      uiHash = new RenderEventArgs();\r\n      uiHash.context = combinedContextsTask.getConfig(treeItemId);\r\n      uiHash.isCursor = true;\r\n      uiHash.isSelected = selectedItemsTask.isSelected(treeItemId);\r\n      uiHash.templateName = templateConfig.name;\r\n\r\n      _transform.transformRect(actualPosition.x, actualPosition.y, actualPosition.width, actualPosition.height, true,\r\n        this, function (x, y, width, height) {\r\n          var element = _graphics.template(\r\n            x\r\n            , y\r\n            , width\r\n            , height\r\n            , position.x\r\n            , position.y\r\n            , position.width\r\n            , position.height\r\n            , template.cursorTemplate.template()\r\n            , template.cursorTemplate.getHashCode()\r\n            , template.cursorTemplate.render\r\n            , uiHash\r\n            , { \"borderWidth\": templateConfig.cursorBorderWidth }\r\n          );\r\n        });\r\n    }\r\n  }\r\n\r\n  return {\r\n    process: process\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}